# KooDTX ê°œë°œ ì§„í–‰ ìƒí™©

> React Native Local-First ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ ì•± (ì˜¤ë””ì˜¤ í¬í•¨)

## í”„ë¡œì íŠ¸ ì •ë³´

- **í”„ë¡œì íŠ¸ëª…**: KooDTX
- **ì‹œì‘ì¼**: 2025-11-11
- **í˜„ì¬ ë²„ì „**: v0.1.0-dev
- **ì´ Phase**: 300ê°œ
- **ì˜ˆìƒ ê¸°ê°„**: 47ì£¼ (ì•½ 12ê°œì›”)

## ë²„ì „ íˆìŠ¤í† ë¦¬

### v0.1.0-dev (2025-11-11)

- í”„ë¡œì íŠ¸ ê³„íš ìˆ˜ë¦½ ì™„ë£Œ
- 300 Phase ìƒì„¸ ê³„íš ì‘ì„± ì™„ë£Œ (`detailed_phases_plan.json`)
- Git ì €ì¥ì†Œ ì´ˆê¸°í™”

---

## Phase ì§„í–‰ í˜„í™©

### âœ… ì™„ë£Œëœ Phase: 16/300

### ğŸ”„ ì§„í–‰ ì¤‘: Phase 17

### â³ ëŒ€ê¸° ì¤‘: Phase 11-300

---

## Phase 1: ê°œë°œ í™˜ê²½ ì¤€ë¹„ - Git ì„¤ì • âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-11
**ì™„ë£Œì¼**: 2025-11-11
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: critical

### ì‘ì—… ë‚´ìš©

- [x] Git ì„¤ì¹˜ í™•ì¸ ë° ìµœì‹  ë²„ì „ í™•ì¸ (v2.43.0)
- [x] GitHub ì €ì¥ì†Œ ìƒì„± (KooDTX)
- [x] .gitignore íŒŒì¼ ìƒì„± (React Native + Python)
- [x] README.md ì‘ì„±
- [x] Git ë¸Œëœì¹˜ ì „ëµ ë¬¸ì„œí™” (GIT_WORKFLOW.md)

### ì§„í–‰ ë¡œê·¸

**2025-11-11 22:43**

- Git ì €ì¥ì†Œ ì´ë¯¸ ì´ˆê¸°í™”ë¨
- ë¸Œëœì¹˜: `claude/react-native-architecture-phases-011CV1xEc4avXyTZ4Qb4ryxK`
- ìƒì„¸ ê³„íš íŒŒì¼ ì»¤ë°‹ ì™„ë£Œ (`detailed_phases_plan.json`)

**2025-11-11 22:45**

- PROGRESS.md íŒŒì¼ ìƒì„± ì‹œì‘
- ì§„í–‰ ìƒí™© ì¶”ì  ì‹œìŠ¤í…œ êµ¬ì¶•

**2025-11-11 22:50**

- .gitignore íŒŒì¼ ìƒì„± (React Native + Node.js + Python/Flask)
- README.md ì‘ì„± ì™„ë£Œ (í”„ë¡œì íŠ¸ ê°œìš”, ê¸°ìˆ  ìŠ¤íƒ, ë¬¸ì„œ)
- GIT_WORKFLOW.md ì‘ì„± ì™„ë£Œ (ë¸Œëœì¹˜ ì „ëµ, ì»¤ë°‹ ê·œì¹™, PR í…œí”Œë¦¿)

### ì‚°ì¶œë¬¼

- `.gitignore` - Git ë¬´ì‹œ íŒŒì¼ ëª©ë¡
- `README.md` - í”„ë¡œì íŠ¸ ì†Œê°œ ë¬¸ì„œ
- `GIT_WORKFLOW.md` - Git ì›Œí¬í”Œë¡œìš° ê°€ì´ë“œ
- `PROGRESS.md` - ì§„í–‰ ìƒí™© ì¶”ì  ë¬¸ì„œ

### ë‹¤ìŒ Phase

â†’ Phase 2: Node.js ë° ê°œë°œ ë„êµ¬ ì„¤ì¹˜

---

## Phase 2: Node.js ë° ê°œë°œ ë„êµ¬ ì„¤ì¹˜ âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-11
**ì™„ë£Œì¼**: 2025-11-11
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: critical

### ì‘ì—… ë‚´ìš©

- [x] Node.js ë²„ì „ í™•ì¸ (v22.21.1 - LTS v20.x ì´ìƒ)
- [x] npm íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € í™•ì¸ (v10.9.4)
- [x] yarn íŒ¨í‚¤ì§€ ë§¤ë‹ˆì € í™•ì¸ (v1.22.22)
- [x] Java JDK í™•ì¸ (OpenJDK 21 - ìš”êµ¬ì‚¬í•­ JDK 17 ì´ìƒ)
- [x] JAVA_HOME í™˜ê²½ ë³€ìˆ˜ í™•ì¸
- [x] Android Studio ì„¤ì¹˜ ê°€ì´ë“œ ë¬¸ì„œ ì‘ì„±
- [x] React Native CLI ì‚¬ìš©ë²• í™•ì¸ (npx ì‚¬ìš©)

### ì§„í–‰ ë¡œê·¸

**2025-11-11 22:55**

- ê°œë°œ í™˜ê²½ í˜„í™© í™•ì¸ ì‹œì‘
- Node.js v22.21.1 ì„¤ì¹˜ í™•ì¸ (LTS ìš”êµ¬ì‚¬í•­ ì¶©ì¡±)
- npm v10.9.4, yarn v1.22.22 í™•ì¸

**2025-11-11 22:57**

- Java OpenJDK 21 í™•ì¸ (JDK 17 ìš”êµ¬ì‚¬í•­ ì´ˆê³¼ ë‹¬ì„±)
- JAVA_HOME í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í™•ì¸: `/usr/lib/jvm/java-21-openjdk-amd64`

**2025-11-11 23:00**

- Android Studio ì„¤ì¹˜ ê°€ì´ë“œ ì‘ì„± ì‹œì‘
- `docs/ANDROID_SETUP_GUIDE.md` ìƒì„±
- SDK Manager, AVD ì„¤ì •, í™˜ê²½ ë³€ìˆ˜, ë¬¸ì œ í•´ê²° ê°€ì´ë“œ í¬í•¨

### í™˜ê²½ í™•ì¸ ê²°ê³¼

| ë„êµ¬           | ìš”êµ¬ ë²„ì „ | ì„¤ì¹˜ëœ ë²„ì „ | ìƒíƒœ |
| -------------- | --------- | ----------- | ---- |
| Node.js        | v20.x LTS | v22.21.1    | âœ…   |
| npm            | ìµœì‹       | v10.9.4     | âœ…   |
| yarn           | ì„ íƒ      | v1.22.22    | âœ…   |
| Java JDK       | 17+       | OpenJDK 21  | âœ…   |
| JAVA_HOME      | ì„¤ì • í•„ìš” | ì„¤ì •ë¨      | âœ…   |
| Android Studio | ì„¤ì¹˜ í•„ìš” | ë¬¸ì„œí™”      | ğŸ“   |
| ANDROID_HOME   | ì„¤ì • í•„ìš” | ê°€ì´ë“œ ì œê³µ | ğŸ“   |

### ì‚°ì¶œë¬¼

- `docs/ANDROID_SETUP_GUIDE.md` - Android ê°œë°œ í™˜ê²½ ì„¤ì • ê°€ì´ë“œ (240ì¤„)
  - Android Studio ì„¤ì¹˜ ë°©ë²•
  - SDK ë° Tools ì„¤ì •
  - í™˜ê²½ ë³€ìˆ˜ ì„¤ì • (Windows/macOS/Linux)
  - AVD (ì—ë®¬ë ˆì´í„°) ìƒì„±
  - ë¬¼ë¦¬ ê¸°ê¸° ì—°ê²°
  - ë¬¸ì œ í•´ê²° ê°€ì´ë“œ

### ì°¸ê³ ì‚¬í•­

- CLI í™˜ê²½ì—ì„œ Android Studio ì§ì ‘ ì„¤ì¹˜ëŠ” ë¶ˆê°€ëŠ¥í•˜ë¯€ë¡œ ìƒì„¸ ê°€ì´ë“œ ë¬¸ì„œë¡œ ëŒ€ì²´
- React NativeëŠ” npxë¥¼ í†µí•´ ì‚¬ìš© ê°€ëŠ¥í•˜ë¯€ë¡œ ê¸€ë¡œë²Œ CLI ì„¤ì¹˜ ë¶ˆí•„ìš”
- í˜„ì¬ í™˜ê²½ì€ ê°œë°œ ì‹œì‘ì— í•„ìš”í•œ ëª¨ë“  ë„êµ¬ê°€ ì¤€ë¹„ë¨

### ë‹¤ìŒ Phase

â†’ Phase 3: React Native í”„ë¡œì íŠ¸ ì´ˆê¸°í™”

---

## Phase 3: React Native í”„ë¡œì íŠ¸ ì´ˆê¸°í™” âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-12
**ì™„ë£Œì¼**: 2025-11-12
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: critical

### ì‘ì—… ë‚´ìš©

- [x] React Native í”„ë¡œì íŠ¸ ìƒì„± (v0.73.0)
- [x] TypeScript í…œí”Œë¦¿ ì ìš© (ê¸°ë³¸ê°’)
- [x] í”„ë¡œì íŠ¸ íŒŒì¼ ë³µì‚¬ ë° êµ¬ì„±
- [x] í”„ë¡œì íŠ¸ ì´ë¦„ ë³€ê²½ (KooDTX)
- [x] npm ì˜ì¡´ì„± ì„¤ì¹˜ (904 packages)
- [x] í”„ë¡œì íŠ¸ êµ¬ì¡° í™•ì¸

### ì§„í–‰ ë¡œê·¸

**2025-11-12 00:00**

- `/tmp`ì— ì„ì‹œ í”„ë¡œì íŠ¸ ìƒì„± ì‹œì‘
- React Native CLI v20.0.2 ì‚¬ìš©
- React Native v0.73.0ìœ¼ë¡œ í”„ë¡œì íŠ¸ ìƒì„±

**2025-11-12 00:01**

- í”„ë¡œì íŠ¸ ìƒì„± ì™„ë£Œ (í…œí”Œë¦¿ ë‹¤ìš´ë¡œë“œ, ì˜ì¡´ì„± ì„¤ì¹˜ í¬í•¨)
- í•µì‹¬ íŒŒì¼ ë³µì‚¬: package.json, tsconfig.json, babel.config.js ë“±

**2025-11-12 00:02**

- ë””ë ‰í† ë¦¬ ë³µì‚¬: android/, ios/, **tests**/, .bundle/
- í”„ë¡œì íŠ¸ ì´ë¦„ ìˆ˜ì •: package.json, app.json
- npm install ì‹¤í–‰ (904 íŒ¨í‚¤ì§€ ì„¤ì¹˜)

### ìƒì„±ëœ êµ¬ì¡°

```
KooDTX/
â”œâ”€â”€ android/                # Android ë„¤ì´í‹°ë¸Œ ì½”ë“œ
â”‚   â”œâ”€â”€ app/
â”‚   â””â”€â”€ gradle/
â”œâ”€â”€ ios/                    # iOS ë„¤ì´í‹°ë¸Œ ì½”ë“œ
â”œâ”€â”€ __tests__/              # Jest í…ŒìŠ¤íŠ¸
â”œâ”€â”€ docs/                   # ë¬¸ì„œ
â”œâ”€â”€ .bundle/                # ë²ˆë“¤ ì„¤ì •
â”œâ”€â”€ App.tsx                 # ë©”ì¸ ì•± ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ index.js                # ì§„ì…ì 
â”œâ”€â”€ package.json            # ì˜ì¡´ì„± ê´€ë¦¬
â”œâ”€â”€ tsconfig.json           # TypeScript ì„¤ì •
â”œâ”€â”€ babel.config.js         # Babel ì„¤ì •
â”œâ”€â”€ metro.config.js         # Metro ë²ˆë“¤ëŸ¬ ì„¤ì •
â”œâ”€â”€ jest.config.js          # Jest í…ŒìŠ¤íŠ¸ ì„¤ì •
â”œâ”€â”€ .eslintrc.js            # ESLint ì„¤ì •
â”œâ”€â”€ .prettierrc.js          # Prettier ì„¤ì •
â””â”€â”€ app.json                # ì•± ë©”íƒ€ë°ì´í„°
```

### ê¸°ìˆ  ìŠ¤íƒ í™•ì¸

| íŒ¨í‚¤ì§€       | ë²„ì „   |
| ------------ | ------ |
| React Native | 0.73.0 |
| React        | 18.2.0 |
| TypeScript   | 5.0.4  |
| Jest         | 29.6.3 |
| ESLint       | 8.57.1 |
| Prettier     | 2.8.8  |

### ì‚°ì¶œë¬¼

- **React Native í”„ë¡œì íŠ¸**: TypeScript ê¸°ë°˜ í”„ë¡œì íŠ¸ êµ¬ì¡°
- **Android í”„ë¡œì íŠ¸**: ë„¤ì´í‹°ë¸Œ Android ì½”ë“œ ë° Gradle ì„¤ì •
- **iOS í”„ë¡œì íŠ¸**: ë„¤ì´í‹°ë¸Œ iOS ì½”ë“œ (ì¶”í›„ ì„¤ì • í•„ìš”)
- **í…ŒìŠ¤íŠ¸ í™˜ê²½**: Jest ì„¤ì • ì™„ë£Œ
- **ë¦°íŠ¸/í¬ë§·**: ESLint + Prettier ì„¤ì • ì™„ë£Œ

### ì°¸ê³ ì‚¬í•­

- React Native 0.73ë¶€í„° TypeScriptê°€ ê¸°ë³¸ í…œí”Œë¦¿
- ì´ 904ê°œ íŒ¨í‚¤ì§€ ì„¤ì¹˜ (node_modules)
- 5ê°œ ë³´ì•ˆ ì·¨ì•½ì  ë°œê²¬ (ì¶”í›„ Phaseì—ì„œ í•´ê²°)
- iOS ë””ë ‰í† ë¦¬ ì´ë¦„ì´ ì—¬ì „íˆ "KooDTXTemp" (Android ìš°ì„  ê°œë°œ)

### ë‹¤ìŒ Phase

â†’ Phase 4: TypeScript ì„¤ì • ê°•í™”

---

## Phase 4: TypeScript ì„¤ì • ê°•í™” âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-12
**ì™„ë£Œì¼**: 2025-11-12
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: high

### ì‘ì—… ë‚´ìš©

- [x] TypeScript strict mode í™œì„±í™”
- [x] ê°•ë ¥í•œ íƒ€ì… ì²´í‚¹ ê·œì¹™ ì¶”ê°€
- [x] Path aliases ì„¤ì • (13ê°œ ê²½ë¡œ)
- [x] Babel module resolver ì„¤ì •
- [x] Type definition íŒŒì¼ êµ¬ì¡° ìƒì„±
- [x] TypeScript ì»´íŒŒì¼ í…ŒìŠ¤íŠ¸

### ì§„í–‰ ë¡œê·¸

**2025-11-12 00:10**

- tsconfig.json ê°•í™” ì‹œì‘
- strict mode í™œì„±í™” ë° ì¶”ê°€ íƒ€ì… ì²´í‚¹ ê·œì¹™ ì„¤ì •
- Path aliases ì„¤ì •: @components, @screens, @navigation, @services ë“±

**2025-11-12 00:12**

- babel-plugin-module-resolver ì„¤ì¹˜ (16 packages)
- babel.config.jsì— path aliases ì„¤ì • ì¶”ê°€
- TypeScriptì™€ Babelì´ ë™ì¼í•œ ê²½ë¡œ í•´ì„ ì‚¬ìš©

**2025-11-12 00:15**

- src/types/ ë””ë ‰í† ë¦¬ ìƒì„±
- íƒ€ì… ì •ì˜ íŒŒì¼ 4ê°œ ì‘ì„±:
  - common.types.ts: ê³µí†µ íƒ€ì… (API, Pagination, Sync ë“±)
  - sensor.types.ts: ì„¼ì„œ ë°ì´í„° íƒ€ì… (Accelerometer, Gyroscope, GPS, Audio)
  - database.types.ts: ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ íƒ€ì… (WatermelonDBìš©)
  - navigation.types.ts: ë„¤ë¹„ê²Œì´ì…˜ íƒ€ì… (React Navigationìš©)
  - index.ts: ì¤‘ì•™ export íŒŒì¼

**2025-11-12 00:18**

- TypeScript ì»´íŒŒì¼ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
- moduleResolutionì„ "bundler"ë¡œ ìˆ˜ì • (React Native 0.73 í˜¸í™˜)
- ì»´íŒŒì¼ ì„±ê³µ í™•ì¸ âœ…

### TypeScript ì„¤ì • ê°•í™” ë‚´ìš©

#### Strict Mode ì˜µì…˜

```typescript
"strict": true,
"noImplicitAny": true,
"strictNullChecks": true,
"strictFunctionTypes": true,
"strictBindCallApply": true,
"strictPropertyInitialization": true,
"noImplicitThis": true,
"alwaysStrict": true
```

#### ì¶”ê°€ ì²´í¬

```typescript
"noUnusedLocals": true,
"noUnusedParameters": true,
"noImplicitReturns": true,
"noFallthroughCasesInSwitch": true,
"noUncheckedIndexedAccess": true,
"noImplicitOverride": true,
"noPropertyAccessFromIndexSignature": true
```

#### Path Aliases (13ê°œ)

- `@components/*` â†’ `src/components/*`
- `@screens/*` â†’ `src/screens/*`
- `@navigation/*` â†’ `src/navigation/*`
- `@services/*` â†’ `src/services/*`
- `@utils/*` â†’ `src/utils/*`
- `@hooks/*` â†’ `src/hooks/*`
- `@store/*` â†’ `src/store/*`
- `@types/*` â†’ `src/types/*`
- `@assets/*` â†’ `src/assets/*`
- `@config/*` â†’ `src/config/*`
- `@constants/*` â†’ `src/constants/*`
- `@models/*` â†’ `src/models/*`
- `@database/*` â†’ `src/database/*`

### ìƒì„±ëœ íƒ€ì… íŒŒì¼

#### 1. common.types.ts (75ì¤„)

- ApiResponse: API ì‘ë‹µ ë˜í¼
- PaginationParams: í˜ì´ì§€ë„¤ì´ì…˜ íŒŒë¼ë¯¸í„°
- SyncableRecord: ë™ê¸°í™” ê°€ëŠ¥í•œ ë ˆì½”ë“œ
- Coordinates: GPS ì¢Œí‘œ
- DateRange: ë‚ ì§œ ë²”ìœ„ í•„í„°

#### 2. sensor.types.ts (125ì¤„)

- SensorType: ì„¼ì„œ íƒ€ì… enum (5ì¢…)
- AccelerometerData: ê°€ì†ë„ê³„ ë°ì´í„°
- GyroscopeData: ìì´ë¡œìŠ¤ì½”í”„ ë°ì´í„°
- MagnetometerData: ìê¸°ê³„ ë°ì´í„°
- GPSData: GPS ë°ì´í„°
- AudioData: ì˜¤ë””ì˜¤ ë…¹ìŒ ë©”íƒ€ë°ì´í„°
- RecordingSession: ë…¹í™” ì„¸ì…˜
- SensorSettings: ì„¼ì„œ ì„¤ì •

#### 3. database.types.ts (75ì¤„)

- TableName: ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ëª… enum
- SyncQueueEntry: ë™ê¸°í™” í í•­ëª©
- UserSettings: ì‚¬ìš©ì ì„¤ì •
- DatabaseStats: ë°ì´í„°ë² ì´ìŠ¤ í†µê³„
- QueryFilter: ì¿¼ë¦¬ í•„í„° ì˜µì…˜

#### 4. navigation.types.ts (75ì¤„)

- RootStackParamList: ë£¨íŠ¸ ìŠ¤íƒ ë„¤ë¹„ê²Œì´í„°
- MainTabParamList: ë©”ì¸ íƒ­ ë„¤ë¹„ê²Œì´í„°
- RecordingStackParamList: ë…¹í™” ìŠ¤íƒ ë„¤ë¹„ê²Œì´í„°
- HistoryStackParamList: íˆìŠ¤í† ë¦¬ ìŠ¤íƒ ë„¤ë¹„ê²Œì´í„°
- SettingsStackParamList: ì„¤ì • ìŠ¤íƒ ë„¤ë¹„ê²Œì´í„°

### ì‚°ì¶œë¬¼

- **tsconfig.json**: ê°•í™”ëœ TypeScript ì„¤ì • (64ì¤„)
- **babel.config.js**: Path aliases ì„¤ì • (26ì¤„)
- **src/types/**: íƒ€ì… ì •ì˜ ë””ë ‰í† ë¦¬ (5ê°œ íŒŒì¼, ì´ 350ì¤„)
- **package.json**: babel-plugin-module-resolver ì¶”ê°€

### ì°¸ê³ ì‚¬í•­

- TypeScript strict modeë¡œ ëŸ°íƒ€ì„ ì—ëŸ¬ë¥¼ ì»´íŒŒì¼ íƒ€ì„ì— ê°ì§€
- Path aliasesë¡œ import ê²½ë¡œ ê°„ì†Œí™” (`../../utils/helper` â†’ `@utils/helper`)
- ëª¨ë“  ì£¼ìš” ë„ë©”ì¸ íƒ€ì… ì •ì˜ ì™„ë£Œ (ì„¼ì„œ, DB, ë„¤ë¹„ê²Œì´ì…˜)
- íƒ€ì… ì•ˆì •ì„± ëŒ€í­ í–¥ìƒ

### ë‹¤ìŒ Phase

â†’ Phase 5: ESLint ë° Prettier ì„¤ì •

---

## Phase 5: ESLint ë° Prettier ì„¤ì • âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-12
**ì™„ë£Œì¼**: 2025-11-12
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: high

### ì‘ì—… ë‚´ìš©

- [x] ESLint ê·œì¹™ ê°•í™” ë° í™•ì¥
- [x] TypeScript ESLint í”ŒëŸ¬ê·¸ì¸ ì„¤ì •
- [x] React Hooks ê·œì¹™ ì¶”ê°€
- [x] Import ìˆœì„œ ìë™ ì •ë ¬ ê·œì¹™
- [x] Prettier ì„¤ì • í™•ì¥ ë° í‘œì¤€í™”
- [x] ESLint-Prettier í†µí•©
- [x] npm scripts ì¶”ê°€ (lint:fix, format, validate)
- [x] ì „ì²´ ì½”ë“œë² ì´ìŠ¤ í¬ë§·íŒ… ë° ê²€ì¦

### ì§„í–‰ ë¡œê·¸

**2025-11-12 00:25**

- ESLint ì„¤ì • ê°•í™” ì‹œì‘
- @typescript-eslint, react-hooks í”ŒëŸ¬ê·¸ì¸ í™œì„±í™”
- Path aliases resolver ì„¤ì • (babel-module)

**2025-11-12 00:28**

- ESLint ê·œì¹™ ì¶”ê°€:
  - TypeScript: no-unused-vars, no-explicit-any, consistent-type-imports
  - React: hooks rules, prop-types off
  - Import: ìë™ ì •ë ¬ ë° ê·¸ë£¹í™”
  - Code quality: no-console (warn), no-debugger, prefer-const

**2025-11-12 00:30**

- Prettier ì„¤ì • í™•ì¥:
  - printWidth: 80
  - tabWidth: 2
  - singleQuote: true
  - trailingComma: 'all'
  - arrowParens: 'avoid'
  - endOfLine: 'lf'

**2025-11-12 00:32**

- ESLint í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜ (16 packages):
  - eslint-config-prettier
  - eslint-plugin-import
  - eslint-import-resolver-babel-module

**2025-11-12 00:35**

- npm scripts ì¶”ê°€:
  - `lint`: ESLint ê²€ì‚¬
  - `lint:fix`: ESLint ìë™ ìˆ˜ì •
  - `format`: Prettier ìë™ í¬ë§·íŒ…
  - `format:check`: Prettier ê²€ì‚¬
  - `typecheck`: TypeScript ì»´íŒŒì¼ ê²€ì‚¬
  - `validate`: ì „ì²´ ê²€ì¦ (typecheck + lint + format:check)

**2025-11-12 00:37**

- ì´ˆê¸° lint ì‹¤í–‰: 11ê°œ ì´ìŠˆ ë°œê²¬
- lint:fix ì‹¤í–‰: 9ê°œ ìë™ ìˆ˜ì •
- ìˆ˜ë™ ìˆ˜ì •: import ìˆœì„œ, require ë¬¸ ì²˜ë¦¬

**2025-11-12 00:40**

- Prettier í¬ë§·íŒ… ì‹¤í–‰ (26 files)
- jsxBracketSameLine ì˜µì…˜ ì œê±° (deprecated)
- ì „ì²´ ê²€ì¦ í†µê³¼ âœ…

### ESLint ê°•í™” ë‚´ìš©

#### í™•ì¥ ì„¤ì •

```javascript
extends: [
  '@react-native',
  'plugin:@typescript-eslint/recommended',
  'plugin:react-hooks/recommended',
  'prettier',
];
```

#### TypeScript ê·œì¹™

- `no-unused-vars`: ë¯¸ì‚¬ìš© ë³€ìˆ˜ ì—ëŸ¬ (\_ë¡œ ì‹œì‘í•˜ëŠ” ë³€ìˆ˜ ì œì™¸)
- `no-explicit-any`: any íƒ€ì… ê²½ê³ 
- `consistent-type-imports`: type import ê°•ì œ

#### Import ì •ë ¬ ê·œì¹™

- ê·¸ë£¹: builtin â†’ external â†’ internal â†’ parent/sibling â†’ index â†’ type
- React/React Native ìš°ì„  ë°°ì¹˜
- ì•ŒíŒŒë²³ ìˆœ ì •ë ¬
- ê·¸ë£¹ ê°„ ë¹ˆ ì¤„ ê°•ì œ

### npm Scripts

| ìŠ¤í¬ë¦½íŠ¸     | ì„¤ëª…                             | ìš©ë„                  |
| ------------ | -------------------------------- | --------------------- |
| lint         | ESLint ê²€ì‚¬                      | CI/CD, ê°œë°œ ì¤‘ ê²€ì‚¬   |
| lint:fix     | ESLint ìë™ ìˆ˜ì •                 | ì½”ë“œ ì •ë¦¬             |
| format       | Prettier í¬ë§·íŒ…                  | ì „ì²´ ì½”ë“œ í¬ë§·íŒ…      |
| format:check | Prettier ê²€ì‚¬                    | CI/CD ê²€ì¦            |
| typecheck    | TypeScript ì»´íŒŒì¼ ê²€ì‚¬           | íƒ€ì… ì—ëŸ¬ í™•ì¸        |
| validate     | ì „ì²´ ê²€ì¦ (type + lint + format) | PR ì „ ìµœì¢… ê²€ì¦       |

### ì‚°ì¶œë¬¼

- **.eslintrc.js**: ê°•í™”ëœ ESLint ì„¤ì • (108ì¤„)
  - 15ê°œ ì»¤ìŠ¤í…€ ê·œì¹™
  - 4ê°œ í”ŒëŸ¬ê·¸ì¸ í†µí•©
  - Path aliases resolver ì„¤ì •
- **.prettierrc.js**: í‘œì¤€ Prettier ì„¤ì • (30ì¤„)
- **package.json**: 6ê°œ ìƒˆë¡œìš´ scripts ì¶”ê°€
- **í¬ë§·íŒ…ëœ ì½”ë“œ**: 26ê°œ íŒŒì¼ ìë™ í¬ë§·íŒ…

### ê²€ì¦ ê²°ê³¼

âœ… **TypeScript ì»´íŒŒì¼**: ì—ëŸ¬ ì—†ìŒ
âœ… **ESLint**: ì—ëŸ¬ ì—†ìŒ
âœ… **Prettier**: ëª¨ë“  íŒŒì¼ í¬ë§· ì¤€ìˆ˜

### ì°¸ê³ ì‚¬í•­

- ESLintì™€ Prettierê°€ ì™„ë²½íˆ í†µí•©ë˜ì–´ ì¶©ëŒ ì—†ìŒ
- Import ìˆœì„œê°€ ìë™ìœ¼ë¡œ ì •ë ¬ë˜ì–´ ì¼ê´€ì„± ìœ ì§€
- validate ìŠ¤í¬ë¦½íŠ¸ë¡œ PR ì „ ìë™ ê²€ì¦ ê°€ëŠ¥
- ì½”ë“œ í’ˆì§ˆê³¼ ì¼ê´€ì„±ì´ í¬ê²Œ í–¥ìƒë¨

### ë‹¤ìŒ Phase

â†’ Phase 6: í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° ìƒì„±

---

## Phase 6: í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° ìƒì„± âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-12
**ì™„ë£Œì¼**: 2025-11-12
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: critical

### ì‘ì—… ë‚´ìš©

- [x] src/ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± (13ê°œ ë””ë ‰í† ë¦¬)
- [x] ê° ë””ë ‰í† ë¦¬ì— README.md ì¶”ê°€ (12ê°œ)
- [x] í”„ë¡œì íŠ¸ êµ¬ì¡° ë¬¸ì„œ ì‘ì„±
- [x] Path aliasesì™€ ë§¤í•‘ í™•ì¸

### ì§„í–‰ ë¡œê·¸

**2025-11-12 00:50**

- src/ ë””ë ‰í† ë¦¬ êµ¬ì¡° ìƒì„± ì‹œì‘
- 13ê°œ ì£¼ìš” ë””ë ‰í† ë¦¬ ìƒì„±: components, screens, navigation, services, utils, hooks, store, assets, config, constants, models, database, types

**2025-11-12 00:55**

- ê° ë””ë ‰í† ë¦¬ì— README.md íŒŒì¼ ìƒì„± (12ê°œ)
- ë””ë ‰í† ë¦¬ë³„ ëª©ì , êµ¬ì¡°, ê°€ì´ë“œë¼ì¸, ì˜ˆì œ ì½”ë“œ ì‘ì„±
- ì´ ë¬¸ì„œ ë¶„ëŸ‰: ì•½ 1,500ì¤„

**2025-11-12 01:00**

- í”„ë¡œì íŠ¸ êµ¬ì¡° í†µí•© ë¬¸ì„œ ì‘ì„±
- docs/PROJECT_STRUCTURE.md ìƒì„± (400ì¤„)
- ì „ì²´ í´ë” êµ¬ì¡°, ëª…ëª… ê·œì¹™, ëª¨ë²” ì‚¬ë¡€ ë¬¸ì„œí™”

### ìƒì„±ëœ í´ë” êµ¬ì¡°

```
src/
â”œâ”€â”€ components/      # ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸
â”œâ”€â”€ screens/         # ì „ì²´ í™”ë©´ ë·°
â”œâ”€â”€ navigation/      # React Navigation ì„¤ì •
â”œâ”€â”€ services/        # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë° API
â”œâ”€â”€ hooks/           # ì»¤ìŠ¤í…€ React hooks
â”œâ”€â”€ store/           # Zustand ì „ì—­ ìƒíƒœ
â”œâ”€â”€ types/           # TypeScript íƒ€ì… ì •ì˜ (Phase 4ì—ì„œ ìƒì„±)
â”œâ”€â”€ utils/           # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ config/          # ì„¤ì • íŒŒì¼
â”œâ”€â”€ constants/       # ìƒìˆ˜ ë° enum
â”œâ”€â”€ models/          # ë¹„ì¦ˆë‹ˆìŠ¤ ì—”í‹°í‹° ëª¨ë¸
â”œâ”€â”€ database/        # WatermelonDB ì„¤ì •
â””â”€â”€ assets/          # ì •ì  ìì‚° (ì´ë¯¸ì§€, í°íŠ¸)
```

### ì‚°ì¶œë¬¼

- **13ê°œ ë””ë ‰í† ë¦¬**: ì™„ì „í•œ í”„ë¡œì íŠ¸ êµ¬ì¡°
- **12ê°œ README íŒŒì¼**: ê° ë””ë ‰í† ë¦¬ ë¬¸ì„œí™” (ì´ ~865ì¤„)
- **docs/PROJECT_STRUCTURE.md**: í†µí•© í”„ë¡œì íŠ¸ êµ¬ì¡° ë¬¸ì„œ (400ì¤„)
- **ì´ ë¬¸ì„œ**: ~1,265ì¤„

### ì°¸ê³ ì‚¬í•­

- ëª¨ë“  ë””ë ‰í† ë¦¬ê°€ tsconfig.jsonì˜ path aliasesì™€ ë§¤í•‘ë¨
- babel.config.jsì˜ module-resolverì™€ ë™ê¸°í™”ë¨
- ê° ë””ë ‰í† ë¦¬ì— ëª©ì , êµ¬ì¡°, ê°€ì´ë“œë¼ì¸, ì˜ˆì œ í¬í•¨
- í™•ì¥ ê°€ëŠ¥í•œ êµ¬ì¡°ë¡œ ì„¤ê³„ (ìƒˆ ê¸°ëŠ¥ ì¶”ê°€ ìš©ì´)

### ë‹¤ìŒ Phase

â†’ Phase 7: Jest ë° í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •

---

## Phase 7: Jest ë° í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì • âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-12
**ì™„ë£Œì¼**: 2025-11-12
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: high

### ì‘ì—… ë‚´ìš©

- [x] Jest ì„¤ì • ê°•í™” (path aliases, coverage)
- [x] jest.setup.js ìƒì„±
- [x] React Native Testing Library ì„¤ì¹˜
- [x] í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì‘ì„±
- [x] date utils ë° í…ŒìŠ¤íŠ¸ ì‘ì„±
- [x] 19ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„± ë° í†µê³¼
- [x] npm scripts ì¶”ê°€ (test:watch, test:coverage)

### ì§„í–‰ ë¡œê·¸

**2025-11-12 01:10**

- Jest ì„¤ì • íŒŒì¼ ê°•í™”
- Path aliases ë§¤í•‘ (13ê°œ)
- Coverage threshold ì„¤ì • (70%)
- Test match patterns ì„¤ì •

**2025-11-12 01:15**

- jest.setup.js ìƒì„±
- LogBox warnings ì–µì œ
- Console methods mock
- Test timeout ì„¤ì • (10ì´ˆ)

**2025-11-12 01:18**

- React Native Testing Library ì„¤ì¹˜ (14 packages)
- @testing-library/react-native v13.3.3
- @testing-library/jest-native v5.4.3 (deprecated, ë‚˜ì¤‘ì— ì œê±°)

**2025-11-12 01:20**

- í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹° ì‘ì„± (__tests__/utils/testUtils.tsx)
- renderWithProviders í•¨ìˆ˜
- Mock navigation/route generators
- Mock sensor data generators
- Async test helpers

**2025-11-12 01:25**

- date utils êµ¬í˜„ (src/utils/date.ts)
- 6ê°œ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜:
  - formatTimestamp: íƒ€ì„ìŠ¤íƒ¬í”„ í¬ë§·íŒ…
  - calculateDuration: ì‹œê°„ ê³„ì‚°
  - formatDuration: ì‹œê°„ í¬ë§·íŒ…
  - getCurrentTimestamp: í˜„ì¬ ì‹œê°„
  - isToday: ì˜¤ëŠ˜ ë‚ ì§œ í™•ì¸
  - getRelativeTime: ìƒëŒ€ ì‹œê°„ ë¬¸ìì—´

**2025-11-12 01:30**

- 19ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„±
- ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ âœ… (19/19)
- Coverage ë‹¬ì„±:
  - Statements: 100%
  - Branch: 86.66%
  - Functions: 100%
  - Lines: 100%

**2025-11-12 01:35**

- npm scripts ì¶”ê°€:
  - test:watch: Watch mode
  - test:coverage: Coverage ë¦¬í¬íŠ¸
  - test:clearCache: Jest ìºì‹œ í´ë¦¬ì–´
- validate ìŠ¤í¬ë¦½íŠ¸ì— test ì¶”ê°€

### Jest ì„¤ì • ê°•í™” ë‚´ìš©

#### Path Aliases ë§¤í•‘

```javascript
moduleNameMapper: {
  '^@components/(.*)$': '<rootDir>/src/components/$1',
  '^@screens/(.*)$': '<rootDir>/src/screens/$1',
  // ... 13ê°œ ê²½ë¡œ ë§¤í•‘
}
```

#### Coverage ì„¤ì •

```javascript
coverageThreshold: {
  global: {
    branches: 70,
    functions: 70,
    lines: 70,
    statements: 70,
  }
}
```

#### Transform ì„¤ì •

- React Native ëª¨ë“ˆ ë³€í™˜
- React Navigation ë³€í™˜
- Community íŒ¨í‚¤ì§€ ë³€í™˜

### í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°

#### renderWithProviders

- Provider wrapper ì§€ì›
- í–¥í›„ Redux, Navigation ì¶”ê°€ ì˜ˆì •

#### Mock Generators

- `createMockNavigation()`: Navigation mock
- `createMockRoute()`: Route mock
- `generateMockSensorData()`: ì„¼ì„œ ë°ì´í„° ìƒì„±
- `generateMockRecordingSession()`: ì„¸ì…˜ ë°ì´í„° ìƒì„±

#### Test Helpers

- `waitForCondition()`: ì¡°ê±´ ëŒ€ê¸°
- `delay()`: ë¹„ë™ê¸° ì§€ì—°
- `mockFetchSuccess()`: Fetch ì„±ê³µ mock
- `mockFetchError()`: Fetch ì—ëŸ¬ mock

### Date Utils í•¨ìˆ˜

| í•¨ìˆ˜                 | ì„¤ëª…                         | í…ŒìŠ¤íŠ¸ ìˆ˜ |
| -------------------- | ---------------------------- | --------- |
| formatTimestamp      | íƒ€ì„ìŠ¤íƒ¬í”„ â†’ ë¬¸ìì—´          | 2         |
| calculateDuration    | ë‘ ì‹œê°„ ì°¨ì´ ê³„ì‚°            | 3         |
| formatDuration       | Duration ê°ì²´ â†’ ë¬¸ìì—´       | 3         |
| getCurrentTimestamp  | í˜„ì¬ íƒ€ì„ìŠ¤íƒ¬í”„ ë°˜í™˜         | 2         |
| isToday              | ì˜¤ëŠ˜ ë‚ ì§œ ì—¬ë¶€ í™•ì¸          | 3         |
| getRelativeTime      | ìƒëŒ€ ì‹œê°„ ë¬¸ìì—´ (X ago)     | 6         |

### npm Scripts

| ìŠ¤í¬ë¦½íŠ¸        | ì„¤ëª…                  | ìš©ë„                |
| --------------- | --------------------- | ------------------- |
| test            | ëª¨ë“  í…ŒìŠ¤íŠ¸ ì‹¤í–‰      | CI/CD, ê°œë°œ         |
| test:watch      | Watch mode            | ê°œë°œ ì¤‘ ìë™ ì‹¤í–‰   |
| test:coverage   | Coverage ë¦¬í¬íŠ¸       | í’ˆì§ˆ í™•ì¸           |
| test:clearCache | Jest ìºì‹œ í´ë¦¬ì–´      | ë¬¸ì œ í•´ê²°           |
| validate        | ì „ì²´ ê²€ì¦ (test í¬í•¨) | PR ì „ ìµœì¢… ê²€ì¦     |

### ì‚°ì¶œë¬¼

- **jest.config.js**: ê°•í™”ëœ Jest ì„¤ì • (61ì¤„)
- **jest.setup.js**: Jest ì…‹ì—… íŒŒì¼ (43ì¤„)
- **__tests__/utils/testUtils.tsx**: í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹° (130ì¤„)
- **src/utils/date.ts**: Date ìœ í‹¸ë¦¬í‹° (94ì¤„)
- **src/utils/__tests__/date.test.ts**: Date í…ŒìŠ¤íŠ¸ (138ì¤„)

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

âœ… **19/19 í…ŒìŠ¤íŠ¸ í†µê³¼**

```
Test Suites: 1 passed, 1 total
Tests:       19 passed, 19 total
Snapshots:   0 total
Time:        3.312 s
```

âœ… **Coverage ë‹¬ì„±**

```
File      | % Stmts | % Branch | % Funcs | % Lines |
----------|---------|----------|---------|---------|
All files |     100 |    86.66 |     100 |     100 |
date.ts   |     100 |    86.66 |     100 |     100 |
```

### ì°¸ê³ ì‚¬í•­

- ëª¨ë“  path aliasesê°€ Jestì—ì„œ ì •ìƒ ì‘ë™
- Coverage threshold 70% ì„¤ì • (ë†’ì€ í’ˆì§ˆ ìœ ì§€)
- React Native Testing Libraryë¡œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì¤€ë¹„ ì™„ë£Œ
- í…ŒìŠ¤íŠ¸ ìœ í‹¸ë¦¬í‹°ë¡œ ë°˜ë³µ ì½”ë“œ ìµœì†Œí™”

### ë‹¤ìŒ Phase

â†’ Phase 8: Zustand ìƒíƒœ ê´€ë¦¬ ì„¤ì •

---

## Phase 8: ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (Zustand) âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-12
**ì™„ë£Œì¼**: 2025-11-12
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: high

### ì‘ì—… ë‚´ìš©

- [x] Zustand ì„¤ì¹˜
- [x] 3ê°œ í•µì‹¬ ìŠ¤í† ì–´ ìƒì„±
- [x] ìŠ¤í† ì–´ íƒ€ì… ì •ì˜
- [x] 23ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ ì‘ì„± ë° í†µê³¼
- [x] ìŠ¤í† ì–´ export ì„¤ì •

### ì§„í–‰ ë¡œê·¸

**2025-11-12 01:45**

- Zustand v4.5.0 ì„¤ì¹˜ (1 package)
- ê²½ëŸ‰ ìƒíƒœ ê´€ë¦¬ ë¼ì´ë¸ŒëŸ¬ë¦¬
- Reduxë³´ë‹¤ ê°„ë‹¨í•˜ê³  ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì ìŒ

**2025-11-12 01:50**

- useAppStore ìƒì„± (110ì¤„)
  - ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê´€ë¦¬ (online, server connection)
  - ë¡œë”© ìƒíƒœ (initializing, loading)
  - ì—ëŸ¬ í•¸ë“¤ë§
  - ì•± ì´ˆê¸°í™” ë¡œì§

**2025-11-12 01:55**

- useRecordingStore ìƒì„± (120ì¤„)
  - ë…¹í™” ì„¸ì…˜ ê´€ë¦¬
  - ë…¹í™” ì œì–´ (start, stop, pause, resume)
  - ì„¼ì„œ ì„¤ì •
  - ë°ì´í„° ì¹´ìš´íŠ¸ ë° duration ì¶”ì 

**2025-11-12 02:00**

- useSensorStore ìƒì„± (90ì¤„)
  - ì„¼ì„œ ì„¤ì • ê´€ë¦¬ (5ê°œ ì„¼ì„œ)
  - ì„¼ì„œ í™œì„±í™”/ë¹„í™œì„±í™”
  - ìƒ˜í”Œë§ ë ˆì´íŠ¸ ì„¤ì •
  - ê¸°ë³¸ ì„¤ì • ë³µì›

**2025-11-12 02:05**

- ìŠ¤í† ì–´ í…ŒìŠ¤íŠ¸ ì‘ì„±:
  - useAppStore: 11ê°œ í…ŒìŠ¤íŠ¸
  - useRecordingStore: 12ê°œ í…ŒìŠ¤íŠ¸
  - ì´ 23ê°œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

**2025-11-12 02:10**

- ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ âœ… (23/23)
- Test execution time: 5.611s

### ìƒì„±ëœ ìŠ¤í† ì–´

#### 1. useAppStore (110ì¤„)

**ìƒíƒœ**:
- `isOnline`: ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœ
- `isConnectedToServer`: ì„œë²„ ì—°ê²° ìƒíƒœ
- `isInitializing`: ì•± ì´ˆê¸°í™” ì¤‘
- `isLoading`: ë¡œë”© ìƒíƒœ
- `error`: í˜„ì¬ ì—ëŸ¬
- `lastError`: ë§ˆì§€ë§‰ ì—ëŸ¬ ë° íƒ€ì„ìŠ¤íƒ¬í”„

**ì•¡ì…˜**:
- `setOnline()`: ì˜¨ë¼ì¸ ìƒíƒœ ì—…ë°ì´íŠ¸
- `setConnectedToServer()`: ì„œë²„ ì—°ê²° ìƒíƒœ
- `setError()`: ì—ëŸ¬ ì„¤ì •
- `clearError()`: ì—ëŸ¬ ì œê±°
- `initialize()`: ì•± ì´ˆê¸°í™”
- `reset()`: ìƒíƒœ ì´ˆê¸°í™”

#### 2. useRecordingStore (120ì¤„)

**ìƒíƒœ**:
- `currentSession`: í˜„ì¬ ë…¹í™” ì„¸ì…˜
- `isRecording`: ë…¹í™” ì¤‘ ì—¬ë¶€
- `isPaused`: ì¼ì‹œì •ì§€ ìƒíƒœ
- `enabledSensors`: í™œì„±í™”ëœ ì„¼ì„œ ëª©ë¡
- `sampleRate`: ìƒ˜í”Œë§ ë ˆì´íŠ¸
- `dataCount`: ìˆ˜ì§‘ëœ ë°ì´í„° ìˆ˜
- `duration`: ë…¹í™” ì‹œê°„

**ì•¡ì…˜**:
- `startRecording()`: ë…¹í™” ì‹œì‘
- `stopRecording()`: ë…¹í™” ì¢…ë£Œ
- `pauseRecording()`: ì¼ì‹œì •ì§€
- `resumeRecording()`: ì¬ê°œ
- `updateDataCount()`: ë°ì´í„° ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
- `updateDuration()`: ì‹œê°„ ì—…ë°ì´íŠ¸

#### 3. useSensorStore (90ì¤„)

**ìƒíƒœ**:
- `settings`: ì„¼ì„œë³„ ì„¤ì •
  - accelerometer, gyroscope, magnetometer
  - gps, audio
- `availableSensors`: ì‚¬ìš© ê°€ëŠ¥í•œ ì„¼ì„œ ëª©ë¡

**ì•¡ì…˜**:
- `updateSensorConfig()`: ì„¼ì„œ ì„¤ì • ì—…ë°ì´íŠ¸
- `toggleSensor()`: ì„¼ì„œ í™œì„±í™”/ë¹„í™œì„±í™”
- `setAvailableSensors()`: ì‚¬ìš© ê°€ëŠ¥ ì„¼ì„œ ì„¤ì •
- `resetToDefaults()`: ê¸°ë³¸ê°’ìœ¼ë¡œ ë³µì›

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

âœ… **23/23 í…ŒìŠ¤íŠ¸ í†µê³¼**

```
Test Suites: 2 passed, 2 total
Tests:       23 passed, 23 total
Time:        5.611 s
```

#### useAppStore í…ŒìŠ¤íŠ¸ (11ê°œ)

- âœ“ Initial state verification
- âœ“ Network status updates
- âœ“ Server disconnection on offline
- âœ“ Loading states management
- âœ“ Error handling and clearing
- âœ“ LastError tracking with timestamp
- âœ“ App initialization
- âœ“ State reset

#### useRecordingStore í…ŒìŠ¤íŠ¸ (12ê°œ)

- âœ“ Initial state verification
- âœ“ Recording start with configuration
- âœ“ Session timestamps validation
- âœ“ Recording stop and session update
- âœ“ Stop without active session
- âœ“ Pause and resume functionality
- âœ“ Data count updates
- âœ“ Duration updates
- âœ“ Sensor configuration changes
- âœ“ Sample rate updates
- âœ“ State reset

### Zustand ì¥ì 

1. **ê°„ë‹¨í•œ API**: Reduxë³´ë‹¤ í›¨ì”¬ ê°„ë‹¨
2. **íƒ€ì… ì•ˆì „**: TypeScript ì™„ë²½ ì§€ì›
3. **ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ìµœì†Œí™”**: Actions, reducers ë¶ˆí•„ìš”
4. **React Hooks ê¸°ë°˜**: ìì—°ìŠ¤ëŸ¬ìš´ ì‚¬ìš©
5. **ë²ˆë“¤ í¬ê¸°**: ë§¤ìš° ì‘ìŒ (~1KB)
6. **DevTools ì§€ì›**: Redux DevTools í˜¸í™˜

### ì‚°ì¶œë¬¼

- **src/store/useAppStore.ts**: ì•± ìƒíƒœ ìŠ¤í† ì–´ (110ì¤„)
- **src/store/useRecordingStore.ts**: ë…¹í™” ìŠ¤í† ì–´ (120ì¤„)
- **src/store/useSensorStore.ts**: ì„¼ì„œ ìŠ¤í† ì–´ (90ì¤„)
- **src/store/index.ts**: ìŠ¤í† ì–´ exports (7ì¤„)
- **src/store/__tests__/useAppStore.test.ts**: í…ŒìŠ¤íŠ¸ (155ì¤„)
- **src/store/__tests__/useRecordingStore.test.ts**: í…ŒìŠ¤íŠ¸ (178ì¤„)
- **ì´ ì½”ë“œ**: ~660ì¤„

### ì°¸ê³ ì‚¬í•­

- ëª¨ë“  ìŠ¤í† ì–´ëŠ” íƒ€ì… ì•ˆì „
- Reset ê¸°ëŠ¥ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ ê²©ë¦¬ ë³´ì¥
- ì´ˆê¸° ìƒíƒœ ëª…í™•íˆ ì •ì˜
- ActionsëŠ” immutable updates ì‚¬ìš©
- í–¥í›„ persist middleware ì¶”ê°€ ê°€ëŠ¥ (AsyncStorage)

### ë‹¤ìŒ Phase

â†’ Phase 9: React Navigation ì„¤ì¹˜

---

## Phase 9: UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (React Native Paper) âœ…

**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-12
**ì™„ë£Œì¼**: 2025-11-12
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: medium

### ì‘ì—… ë‚´ìš©

- [x] React Native Paper ì„¤ì¹˜
- [x] React Native Vector Icons ì„¤ì¹˜
- [x] Material Design 3 í…Œë§ˆ ì„¤ì •
- [x] App.tsxì— PaperProvider ì„¤ì •
- [x] ë°ëª¨ HomeScreen ì‘ì„±
- [x] 8ê°œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼

### ì§„í–‰ ë¡œê·¸

**2025-11-12 02:20**

- React Native Paper ì„¤ì¹˜ (17 packages)
- React Native Vector Icons ì„¤ì¹˜
- Material Design 3 UI ë¼ì´ë¸ŒëŸ¬ë¦¬

**2025-11-12 02:25**

- ì»¤ìŠ¤í…€ í…Œë§ˆ ì„¤ì • (src/config/theme.ts)
- Light & Dark í…Œë§ˆ ëª¨ë‘ ì§€ì›
- Material Design 3 ì»¬ëŸ¬ ì‹œìŠ¤í…œ ì ìš©

**2025-11-12 02:30**

- App.tsx ì—…ë°ì´íŠ¸
- PaperProvider ì¶”ê°€
- í…Œë§ˆ ìë™ ì „í™˜ (ë¼ì´íŠ¸/ë‹¤í¬ ëª¨ë“œ)

**2025-11-12 02:35**

- HomeScreen ë°ëª¨ ì‘ì„±
- ë‹¤ì–‘í•œ Paper ì»´í¬ë„ŒíŠ¸ showcasing:
  - Button (contained, outlined, text)
  - Card
  - TextInput
  - Chip
  - Surface
  - Divider

**2025-11-12 02:40**

- 8ê°œ ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ì‘ì„±
- ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ âœ… (8/8)

### í…Œë§ˆ ì„¤ì •

#### ì»¬ëŸ¬ íŒ”ë ˆíŠ¸

**Light Theme**:
- Primary: #007AFF (iOS Blue)
- Secondary: #5856D6 (iOS Purple)
- Tertiary: #34C759 (iOS Green)
- Error: #FF3B30 (iOS Red)
- Background: #FFFFFF
- Surface: #F2F2F7

**Dark Theme**:
- Primary: #9ECAFF
- Secondary: #BDB3FF
- Tertiary: #90FF9C
- Error: #FFB4AB
- Background: #1A1C1E
- Surface: #1A1C1E

#### ì¶”ê°€ ë””ìì¸ í† í°

- **Spacing**: xs(4), sm(8), md(16), lg(24), xl(32), xxl(48)
- **Border Radius**: sm(4), md(8), lg(12), xl(16), full(9999)
- **Font Sizes**: xs(12) ~ xxxl(32)
- **Font Weights**: normal, medium, semibold, bold

### HomeScreen ì»´í¬ë„ŒíŠ¸

#### êµ¬í˜„ëœ ì„¹ì…˜

1. **í—¤ë”**
   - ì•± íƒ€ì´í‹€ (Display Small)
   - ì„œë¸Œíƒ€ì´í‹€

2. **Welcome ì¹´ë“œ**
   - ì†Œê°œ í…ìŠ¤íŠ¸
   - TextInput ë°ëª¨
   - Button variants (Contained, Outlined, Text)
   - Chip ì»´í¬ë„ŒíŠ¸ (Info, Success, Warning)

3. **Features ì¹´ë“œ**
   - ì•± ì£¼ìš” ê¸°ëŠ¥ ëª©ë¡
   - í–¥í›„ êµ¬í˜„ ì˜ˆì • ê¸°ëŠ¥ í‘œì‹œ

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

âœ… **8/8 í…ŒìŠ¤íŠ¸ í†µê³¼**

```
Test Suites: 1 passed, 1 total
Tests:       8 passed, 8 total
Time:        6.032 s
```

#### HomeScreen í…ŒìŠ¤íŠ¸ (8ê°œ)

- âœ“ Render without crashing
- âœ“ Render app title
- âœ“ Render subtitle
- âœ“ Render Welcome card
- âœ“ Render text input section
- âœ“ Render buttons section
- âœ“ Render chips section
- âœ“ Render features card

### ì‚°ì¶œë¬¼

- **react-native-paper**: Material Design 3 ì»´í¬ë„ŒíŠ¸
- **react-native-vector-icons**: ì•„ì´ì½˜ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **src/config/theme.ts**: ì»¤ìŠ¤í…€ í…Œë§ˆ ì„¤ì • (140ì¤„)
- **App.tsx**: PaperProvider ì ìš© (37ì¤„)
- **src/screens/HomeScreen.tsx**: ë°ëª¨ í™”ë©´ (140ì¤„)
- **__tests__/App.test.tsx**: App í…ŒìŠ¤íŠ¸ (25ì¤„)
- **src/screens/__tests__/HomeScreen.test.tsx**: HomeScreen í…ŒìŠ¤íŠ¸ (60ì¤„)

### React Native Paper ì¥ì 

1. **Material Design 3**: ìµœì‹  ë””ìì¸ ì‹œìŠ¤í…œ
2. **í’ë¶€í•œ ì»´í¬ë„ŒíŠ¸**: 30+ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥
3. **í…Œë§ˆ ì§€ì›**: ë¼ì´íŠ¸/ë‹¤í¬ ëª¨ë“œ ìë™ ì „í™˜
4. **ì ‘ê·¼ì„±**: WCAG ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
5. **TypeScript ì§€ì›**: ì™„ë²½í•œ íƒ€ì… ì•ˆì „ì„±
6. **ë°˜ì‘í˜•**: ë‹¤ì–‘í•œ í™”ë©´ í¬ê¸° ì§€ì›

### ì°¸ê³ ì‚¬í•­

- Vector Icons deprecation ê²½ê³ ëŠ” í–¥í›„ ë§ˆì´ê·¸ë ˆì´ì…˜ ì˜ˆì •
- í…Œë§ˆëŠ” useColorSchemeìœ¼ë¡œ ìë™ ì „í™˜
- Material Design 3 ê°€ì´ë“œë¼ì¸ ì¤€ìˆ˜
- ëª¨ë“  ì»´í¬ë„ŒíŠ¸ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

### ë‹¤ìŒ Phase

â†’ Phase 10: í”„ë¡œì íŠ¸ ë¬¸ì„œí™” ì™„ì„±

---

## Phase 10: ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ âœ…
## Phase 11: React Native ì„¼ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ âœ…
## Phase 12: ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ ë° ë²„í¼ë§ ì‹œìŠ¤í…œ âœ…
## Phase 13: WatermelonDB ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤ ì„¤ì • âœ…
## Phase 14: ì„¼ì„œ ë°ì´í„° ì €ì¥ í†µí•© âœ…
## Phase 15: Recording UI í™”ë©´ êµ¬í˜„ âœ…
## Phase 16: ê¶Œí•œ ì²˜ë¦¬ ë° ì‚¬ìš©ì ê²½í—˜ ê°œì„  âœ…

**ì™„ë£Œ ì‹œê°„**: 2025-11-12 07:30  
**ì†Œìš” ì‹œê°„**: 0.5ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. TypeScript ë°ì½”ë ˆì´í„° ì„¤ì •** (tsconfig.json)

WatermelonDB ëª¨ë¸ ë°ì½”ë ˆì´í„° ì§€ì›ì„ ìœ„í•œ ì„¤ì • ì¶”ê°€

```json
{
  "experimentalDecorators": true,
  "emitDecoratorMetadata": true,
  "strictPropertyInitialization": false
}
```

**2. usePermissions Hook êµ¬í˜„** (150ì¤„)

Android/iOS ì„¼ì„œ ê¶Œí•œ ê´€ë¦¬ Hook

```typescript
export function usePermissions(): UsePermissionsResult {
  permissions: PermissionsState;
  isLoading: boolean;
  requestPermissions(): Promise<boolean>;
  openSettings(): void;
}
```

**ê¸°ëŠ¥**:
- âœ… ìœ„ì¹˜ ê¶Œí•œ í™•ì¸ (Android)
- ğŸ¤ ë§ˆì´í¬ ê¶Œí•œ í™•ì¸ (Android)
- ğŸ”„ ê¶Œí•œ ìš”ì²­ (PermissionsAndroid.requestMultiple)
- âš™ï¸ ì•± ì„¤ì • ì—´ê¸° (Linking.openSettings)
- ğŸ“± í”Œë«í¼ë³„ ì²˜ë¦¬ (Android/iOS)

**ê¶Œí•œ ìƒíƒœ**:
- `granted`: í—ˆìš©ë¨
- `denied`: ê±°ë¶€ë¨
- `blocked`: ì°¨ë‹¨ë¨
- `unavailable`: í™•ì¸ ë¶ˆê°€

**3. RecordingScreen ê°œì„ ** (430ì¤„)

**ì¶”ê°€ëœ ê¸°ëŠ¥**:

**ê¶Œí•œ ë°°ë„ˆ** (Banner):
```
âš ï¸ GPS ì„¼ì„œë¥¼ ì‚¬ìš©í•˜ë ¤ë©´ ìœ„ì¹˜ ê¶Œí•œì´ í•„ìš”í•©ë‹ˆë‹¤.
[ê¶Œí•œ ìš”ì²­]
```

**ë¡œë”© ìƒíƒœ**:
- `isStarting`: ë…¹ìŒ ì‹œì‘ ì¤‘
- `permissionsLoading`: ê¶Œí•œ ìš”ì²­ ì¤‘
- ë²„íŠ¼ì— ë¡œë”© ì¸ë””ì¼€ì´í„° í‘œì‹œ
- "ì‹œì‘ ì¤‘..." í…ìŠ¤íŠ¸ í‘œì‹œ

**ì„¼ì„œ ì´ˆê¸°í™” í‘œì‹œ**:
```
ğŸ”„ ì„¼ì„œ ì´ˆê¸°í™” ì¤‘...
(ActivityIndicator)
```

**ë°ì´í„° ëŒ€ê¸° í‘œì‹œ**:
```
accelerometer
ë°ì´í„° ëŒ€ê¸° ì¤‘...
```

**ê¶Œí•œ í”Œë¡œìš°**:
1. GPS ì²´í¬ë°•ìŠ¤ ì„ íƒ
2. ê¶Œí•œ ë°°ë„ˆ í‘œì‹œ
3. "ê¶Œí•œ ìš”ì²­" ë²„íŠ¼ í´ë¦­
4. Android ê¶Œí•œ ë‹¤ì´ì–¼ë¡œê·¸
5. í—ˆìš©/ê±°ë¶€ ì²˜ë¦¬
6. ê±°ë¶€ ì‹œ ì„¤ì • ì—´ê¸° ì œì•ˆ

**4. ê°œì„ ëœ ì‚¬ìš©ì ê²½í—˜**

**ë…¹ìŒ ì‹œì‘**:
```
1. ì„¼ì„œ ì„ íƒ
2. GPS ì„ íƒ ì‹œ â†’ ê¶Œí•œ ë°°ë„ˆ í‘œì‹œ
3. "ë…¹ìŒ ì‹œì‘" í´ë¦­
4. ê¶Œí•œ í™•ì¸ â†’ í•„ìš” ì‹œ ìš”ì²­
5. ë²„íŠ¼ ë¡œë”© ìƒíƒœ: "ì‹œì‘ ì¤‘..."
6. ì„¼ì„œ ì´ˆê¸°í™” í‘œì‹œ
7. ì‹¤ì‹œê°„ ë°ì´í„° í‘œì‹œ ì‹œì‘
```

**ì—ëŸ¬ ì²˜ë¦¬**:
- ê¶Œí•œ ê±°ë¶€ â†’ ì„¤ì • ì—´ê¸° ì œì•ˆ
- ì„¼ì„œ ì´ˆê¸°í™” ì‹¤íŒ¨ â†’ ì—ëŸ¬ ë©”ì‹œì§€
- ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜ â†’ ì½˜ì†” ë¡œê·¸

**ë¡œë”© í”¼ë“œë°±**:
- ê¶Œí•œ ìš”ì²­ ì¤‘: ë²„íŠ¼ ë¡œë”© (ë°°ë„ˆ)
- ë…¹ìŒ ì‹œì‘ ì¤‘: ë²„íŠ¼ ë¡œë”© + í…ìŠ¤íŠ¸ ë³€ê²½
- ì„¼ì„œ ì´ˆê¸°í™” ì¤‘: ActivityIndicator
- ë°ì´í„° ëŒ€ê¸° ì¤‘: "ë°ì´í„° ëŒ€ê¸° ì¤‘..." í…ìŠ¤íŠ¸

### ì—…ë°ì´íŠ¸ëœ íŒŒì¼

- **tsconfig.json**: ë°ì½”ë ˆì´í„° ì„¤ì • ì¶”ê°€
- **usePermissions.ts** (150ì¤„): ê¶Œí•œ ê´€ë¦¬ Hook
- **hooks/index.ts**: usePermissions export ì¶”ê°€
- **RecordingScreen.tsx** (430ì¤„): ê¶Œí•œ/ë¡œë”© í†µí•©

### ì‚¬ìš©ì ì‹œë‚˜ë¦¬ì˜¤

**ì‹œë‚˜ë¦¬ì˜¤ 1: GPS ì—†ì´ ë…¹ìŒ**
1. ê°€ì†ë„ê³„, ìì´ë¡œìŠ¤ì½”í”„ ì„ íƒ
2. "ë…¹ìŒ ì‹œì‘" â†’ ì¦‰ì‹œ ì‹œì‘
3. ê¶Œí•œ ìš”ì²­ ì—†ìŒ

**ì‹œë‚˜ë¦¬ì˜¤ 2: GPS í¬í•¨ ë…¹ìŒ (ê¶Œí•œ ì—†ìŒ)**
1. GPS ì²´í¬ â†’ ë°°ë„ˆ í‘œì‹œ
2. "ê¶Œí•œ ìš”ì²­" í´ë¦­
3. Android ê¶Œí•œ ë‹¤ì´ì–¼ë¡œê·¸
4. í—ˆìš© â†’ "ë…¹ìŒ ì‹œì‘" í™œì„±í™”
5. "ë…¹ìŒ ì‹œì‘" â†’ GPS ë°ì´í„° ìˆ˜ì§‘

**ì‹œë‚˜ë¦¬ì˜¤ 3: GPS í¬í•¨ ë…¹ìŒ (ê¶Œí•œ ê±°ë¶€)**
1. GPS ì²´í¬ â†’ ë°°ë„ˆ í‘œì‹œ
2. "ê¶Œí•œ ìš”ì²­" í´ë¦­
3. ê±°ë¶€ â†’ "ì„¤ì • ì—´ê¸°" ì•Œë¦¼
4. ì„¤ì •ì—ì„œ ê¶Œí•œ í—ˆìš©
5. ì•± ë³µê·€ â†’ ë…¹ìŒ ê°€ëŠ¥

### ë‹¤ìŒ ë‹¨ê³„ (Phase 17)
- ë…¹ìŒ íˆìŠ¤í† ë¦¬ í™”ë©´ êµ¬í˜„ âœ…
- ì„¸ì…˜ ëª©ë¡ í‘œì‹œ âœ…
- React Navigation ì„¤ì • âœ…
- Bottom Tabs ë„¤ë¹„ê²Œì´ì…˜ âœ…

---

## Phase 17: History Screen ë° ë„¤ë¹„ê²Œì´ì…˜ êµ¬í˜„ âœ…

**ì™„ë£Œ ì‹œê°„**: 2025-11-12 08:00
**ì†Œìš” ì‹œê°„**: 0.8ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. React Navigation ì„¤ì¹˜**

Bottom Tabs ë„¤ë¹„ê²Œì´ì…˜ì„ ìœ„í•œ íŒ¨í‚¤ì§€ ì„¤ì¹˜:

```bash
npm install @react-navigation/native @react-navigation/bottom-tabs
npm install react-native-safe-area-context react-native-screens
npm install --save-dev @types/react-native-vector-icons
```

**2. HistoryScreen êµ¬í˜„** (279ì¤„)

ë…¹ìŒëœ ì„¸ì…˜ ëª©ë¡ì„ í‘œì‹œí•˜ëŠ” í™”ë©´

```typescript
export function HistoryScreen() {
  const [sessions, setSessions] = useState<RecordingSession[]>([]);
  const [isLoading, setIsLoading] = useState(true);
  const [isRefreshing, setIsRefreshing] = useState(false);

  const loadSessions = useCallback(async () => {
    const allSessions = await sessionRepo.findAll();
    setSessions(allSessions);
  }, [sessionRepo]);
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ğŸ“‹ ì„¸ì…˜ ëª©ë¡ í‘œì‹œ (FlatList)
- ğŸ”„ Pull-to-refresh ìƒˆë¡œê³ ì¹¨
- ğŸ“Š ì„¸ì…˜ í†µê³„ (ì†Œìš” ì‹œê°„, ë°ì´í„° ìˆ˜, ìƒ˜í”Œ ë ˆì´íŠ¸)
- ğŸ·ï¸ í™œì„± ì„¸ì…˜ í‘œì‹œ (ğŸ”´ ë…¹ìŒ ì¤‘)
- ğŸ“ ì„¸ì…˜ ë©”ëª¨ í‘œì‹œ
- â˜ï¸ ì—…ë¡œë“œ ìƒíƒœ í‘œì‹œ
- âš¡ FAB ìƒˆë¡œê³ ì¹¨ ë²„íŠ¼

**ì„¸ì…˜ ì¹´ë“œ ì •ë³´**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì„¸ì…˜ ABC123XY   [ğŸ”´ ë…¹ìŒ ì¤‘] â”‚
â”‚ 2025-11-12 08:00:00         â”‚
â”‚                             â”‚
â”‚ ì†Œìš” ì‹œê°„    ë°ì´í„° ìˆ˜   ìƒ˜í”Œ  â”‚
â”‚  00:15:30    1,250     100Hz â”‚
â”‚                             â”‚
â”‚ ì„¼ì„œ: [ACC] [GYR] [MAG]     â”‚
â”‚                             â”‚
â”‚ ë©”ëª¨: ê±·ê¸° í…ŒìŠ¤íŠ¸             â”‚
â”‚ [â˜ï¸ ì—…ë¡œë“œ ì™„ë£Œ]             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**3. App.tsx ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡° ì—…ë°ì´íŠ¸** (73ì¤„)

Bottom Tabs ë„¤ë¹„ê²Œì´ì…˜ ì„¤ì •:

```typescript
<NavigationContainer>
  <Tab.Navigator>
    <Tab.Screen
      name="Recording"
      component={RecordingScreen}
      options={{
        title: 'ë…¹ìŒ',
        tabBarIcon: ({color, size}) => (
          <MaterialCommunityIcons name="record-circle" color={color} size={size} />
        ),
      }}
    />
    <Tab.Screen
      name="History"
      component={HistoryScreen}
      options={{
        title: 'ê¸°ë¡',
        tabBarIcon: ({color, size}) => (
          <MaterialCommunityIcons name="history" color={color} size={size} />
        ),
      }}
    />
  </Tab.Navigator>
</NavigationContainer>
```

**ë„¤ë¹„ê²Œì´ì…˜ ê¸°ëŠ¥**:
- ğŸ”„ Bottom Tabs: ë…¹ìŒ â†”ï¸ ê¸°ë¡ í™”ë©´ ì „í™˜
- ğŸ¨ Material Design 3 í…Œë§ˆ ì ìš©
- ğŸ  Header ìŠ¤íƒ€ì¼ë§ (Primary ìƒ‰ìƒ)
- ğŸ“± Tab Bar ì•„ì´ì½˜ (Material Community Icons)

**4. Android MainActivity ì—…ë°ì´íŠ¸**

react-native-screens ì§€ì› ì¶”ê°€:

```kotlin
override fun onCreate(savedInstanceState: Bundle?) {
  super.onCreate(null)
}
```

**5. TypeScript ê²½ë¡œ ë³„ì¹­ ê°œì„ **

tsconfig.json ë° babel.config.jsì— @screens ë³„ì¹­ ì¶”ê°€:

```json
{
  "paths": {
    "@screens": ["src/screens"],
    "@screens/*": ["src/screens/*"]
  }
}
```

**6. usePermissions íƒ€ì… ì•ˆì „ì„± ê°œì„ **

PermissionsAndroid ì¸ë±ìŠ¤ ì„œëª… ì²˜ë¦¬:

```typescript
// Before:
PermissionsAndroid.PERMISSIONS.ACCESS_FINE_LOCATION

// After:
PermissionsAndroid.PERMISSIONS['ACCESS_FINE_LOCATION']
```

### í™”ë©´ êµ¬ì¡°

```
KooDTX App
â”œâ”€â”€ ğŸ“± Tab Navigator (Bottom)
â”‚   â”œâ”€â”€ ğŸ”´ Recording (RecordingScreen)
â”‚   â”‚   â”œâ”€â”€ ì„¼ì„œ ì„ íƒ
â”‚   â”‚   â”œâ”€â”€ ë…¹ìŒ ì‹œì‘/ì¤‘ì§€
â”‚   â”‚   â”œâ”€â”€ ì‹¤ì‹œê°„ ë°ì´í„° í‘œì‹œ
â”‚   â”‚   â””â”€â”€ ê¶Œí•œ ê´€ë¦¬
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‹ History (HistoryScreen)
â”‚       â”œâ”€â”€ ì„¸ì…˜ ëª©ë¡
â”‚       â”œâ”€â”€ Pull-to-refresh
â”‚       â”œâ”€â”€ ì„¸ì…˜ í†µê³„
â”‚       â””â”€â”€ FAB ìƒˆë¡œê³ ì¹¨
```

### ì—…ë°ì´íŠ¸ëœ íŒŒì¼

- **App.tsx** (73ì¤„): Bottom Tabs ë„¤ë¹„ê²Œì´ì…˜
- **src/screens/HistoryScreen.tsx** (279ì¤„): íˆìŠ¤í† ë¦¬ í™”ë©´
- **src/screens/index.ts**: í™”ë©´ barrel export
- **android/MainActivity.kt**: react-native-screens ì§€ì›
- **tsconfig.json**: @screens ê²½ë¡œ ë³„ì¹­ ì¶”ê°€
- **src/hooks/usePermissions.ts**: ì¸ë±ìŠ¤ ì„œëª… ì²˜ë¦¬
- **package.json**: React Navigation ì˜ì¡´ì„± ì¶”ê°€

### ì‚¬ìš©ì í”Œë¡œìš°

**í”Œë¡œìš° 1: ë…¹ìŒ â†’ ê¸°ë¡ í™•ì¸**
1. Recording íƒ­ì—ì„œ ì„¼ì„œ ë°ì´í„° ë…¹ìŒ
2. "ë…¹ìŒ ì¤‘ì§€" í´ë¦­
3. History íƒ­ìœ¼ë¡œ ì „í™˜
4. ë°©ê¸ˆ ë…¹ìŒí•œ ì„¸ì…˜ í™•ì¸

**í”Œë¡œìš° 2: íˆìŠ¤í† ë¦¬ ìƒˆë¡œê³ ì¹¨**
1. History íƒ­ ì„ íƒ
2. ì•„ë˜ë¡œ ë‹¹ê²¨ì„œ ìƒˆë¡œê³ ì¹¨ (Pull-to-refresh)
3. ë˜ëŠ” FAB "ìƒˆë¡œê³ ì¹¨" ë²„íŠ¼ í´ë¦­
4. ìµœì‹  ì„¸ì…˜ ëª©ë¡ ë¡œë“œ

**í”Œë¡œìš° 3: ë¹ˆ íˆìŠ¤í† ë¦¬**
1. History íƒ­ ì„ íƒ
2. ë…¹ìŒëœ ì„¸ì…˜ ì—†ìŒ
3. "ë…¹ìŒëœ ì„¸ì…˜ì´ ì—†ìŠµë‹ˆë‹¤" ë©”ì‹œì§€
4. "ìƒˆë¡œìš´ ì„¼ì„œ ë°ì´í„° ë…¹ìŒì„ ì‹œì‘í•˜ì„¸ìš”" ì•ˆë‚´

### ë‹¤ìŒ ë‹¨ê³„ (Phase 18)
- ì„¸ì…˜ ìƒì„¸ ì •ë³´ í™”ë©´ âœ…
- ì„¼ì„œ ë°ì´í„° í†µê³„ í‘œì‹œ âœ…
- ë°ì´í„° ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥ (CSV, JSON) âœ…
- ì„¸ì…˜ ì‚­ì œ ê¸°ëŠ¥ âœ…

---

## Phase 18: ì„¸ì…˜ ìƒì„¸ í™”ë©´ ë° ë°ì´í„° ë‚´ë³´ë‚´ê¸° âœ…

**ì™„ë£Œ ì‹œê°„**: 2025-11-12 09:00
**ì†Œìš” ì‹œê°„**: 1.2ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. SessionDetailScreen êµ¬í˜„** (580ì¤„)

ì„¸ì…˜ì˜ ìƒì„¸ ì •ë³´ì™€ ì„¼ì„œ ë°ì´í„° í†µê³„ë¥¼ í‘œì‹œí•˜ëŠ” í™”ë©´

```typescript
export function SessionDetailScreen({route, navigation}: Props) {
  const {sessionId} = route.params;
  const [session, setSession] = useState<RecordingSession | null>(null);
  const [sensorData, setSensorData] = useState<SensorDataRecord[]>([]);
  const [sensorStats, setSensorStats] = useState<Record<SensorType, SensorStats>>({});

  // Load session data and calculate statistics
  // Export to CSV/JSON
  // Delete session
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ğŸ“Š ì„¸ì…˜ ì •ë³´ í‘œì‹œ (ID, ì‹œê°„, ì„¼ì„œ, ë©”ëª¨)
- ğŸ“ˆ ì„¼ì„œë³„ ë°ì´í„° í†µê³„ (ë°ì´í„° ìˆ˜, í‰ê· ê°’)
- ğŸ“¤ CSV ë‚´ë³´ë‚´ê¸°
- ğŸ“¤ JSON ë‚´ë³´ë‚´ê¸°
- ğŸ—‘ï¸ ì„¸ì…˜ ì‚­ì œ (í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸)
- ğŸ”„ Loading ìƒíƒœ í‘œì‹œ

**ì„¸ì…˜ ì •ë³´ ì¹´ë“œ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì„¸ì…˜ ì •ë³´          [ğŸ”´ ë…¹ìŒ ì¤‘]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì„¸ì…˜ ID: abc123...               â”‚
â”‚ ì‹œì‘ ì‹œê°„: 2025-11-12 08:00:00  â”‚
â”‚ ì¢…ë£Œ ì‹œê°„: 2025-11-12 08:15:30  â”‚
â”‚ ì†Œìš” ì‹œê°„: 00:15:30             â”‚
â”‚ ìƒ˜í”Œ ë ˆì´íŠ¸: 100Hz              â”‚
â”‚ í™œì„± ì„¼ì„œ: [ACC] [GYR] [MAG]    â”‚
â”‚ ë©”ëª¨: ê±·ê¸° í…ŒìŠ¤íŠ¸                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ì„¼ì„œ í†µê³„ ì¹´ë“œ** (ê° ì„¼ì„œë³„):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê°€ì†ë„ê³„                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë°ì´í„° ìˆ˜: 1,250                 â”‚
â”‚ í‰ê·  X: 0.1234                  â”‚
â”‚ í‰ê·  Y: -0.4567                 â”‚
â”‚ í‰ê·  Z: 9.7890                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GPS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ë°ì´í„° ìˆ˜: 125                   â”‚
â”‚ í‰ê·  ìœ„ë„: 37.123456Â°           â”‚
â”‚ í‰ê·  ê²½ë„: 127.123456Â°          â”‚
â”‚ í‰ê·  ê³ ë„: 123.45m              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**2. CSV ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥**

react-native-fsì™€ react-native-shareë¥¼ ì‚¬ìš©í•œ íŒŒì¼ ë‚´ë³´ë‚´ê¸°

```typescript
const exportToCSV = useCallback(async () => {
  // Create CSV content
  const headers = ['timestamp', 'sensorType', 'x', 'y', 'z', ...];
  const csvContent = headers.join(',') + '\n' +
    sensorData.map(record => [...].join(',')).join('\n');

  // Write to file
  const fileName = `session_${sessionId}_${Date.now()}.csv`;
  const filePath = `${RNFS.DocumentDirectoryPath}/${fileName}`;
  await RNFS.writeFile(filePath, csvContent, 'utf8');

  // Share file
  await Share.open({
    url: `file://${filePath}`,
    type: 'text/csv',
  });
}, [session, sensorData, sessionId]);
```

**CSV í˜•ì‹**:
```csv
timestamp,sensorType,x,y,z,latitude,longitude,altitude,accuracy
1731394800000,accelerometer,0.123,-0.456,9.789,,,,
1731394800100,accelerometer,0.124,-0.455,9.788,,,,
1731394800000,gps,,,37.123456,127.123456,123.45,10.5
```

**3. JSON ë‚´ë³´ë‚´ê¸° ê¸°ëŠ¥**

ì„¸ì…˜ ì •ë³´, ì„¼ì„œ ë°ì´í„°, í†µê³„ë¥¼ í¬í•¨í•œ JSON íŒŒì¼

```typescript
const exportToJSON = useCallback(async () => {
  const exportData = {
    session: {
      sessionId: session.sessionId,
      startTime: session.startTime,
      endTime: session.endTime,
      enabledSensors: session.enabledSensors,
      // ...
    },
    data: sensorData.map(record => ({
      timestamp: record.timestamp,
      sensorType: record.sensorType,
      x: record.x,
      // ...
    })),
    statistics: sensorStats,
  };

  await RNFS.writeFile(filePath, JSON.stringify(exportData, null, 2), 'utf8');
  await Share.open({url: `file://${filePath}`, type: 'application/json'});
}, [session, sensorData, sensorStats]);
```

**JSON í˜•ì‹**:
```json
{
  "session": {
    "sessionId": "session-1731394800000-abc123",
    "startTime": 1731394800000,
    "endTime": 1731395730000,
    "enabledSensors": ["accelerometer", "gyroscope", "magnetometer"]
  },
  "data": [
    {
      "timestamp": 1731394800000,
      "sensorType": "accelerometer",
      "x": 0.123,
      "y": -0.456,
      "z": 9.789
    }
  ],
  "statistics": {
    "accelerometer": {
      "count": 1250,
      "avgX": 0.1234,
      "avgY": -0.4567,
      "avgZ": 9.7890
    }
  }
}
```

**4. ì„¸ì…˜ ì‚­ì œ ê¸°ëŠ¥**

í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ì™€ í•¨ê»˜ ì„¸ì…˜ ë° ì„¼ì„œ ë°ì´í„° ì‚­ì œ

```typescript
const handleDelete = useCallback(async () => {
  setDeleteDialogVisible(false);
  try {
    // Delete sensor data first
    await dataRepo.deleteBySession(sessionId);
    // Delete session
    await sessionRepo.delete(sessionId);

    Alert.alert('ì™„ë£Œ', 'ì„¸ì…˜ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤.', [
      {text: 'í™•ì¸', onPress: () => navigation.goBack()}
    ]);
  } catch (error) {
    Alert.alert('ì˜¤ë¥˜', 'ì„¸ì…˜ ì‚­ì œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
  }
}, [sessionId, dataRepo, sessionRepo, navigation]);
```

**ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ì„¸ì…˜ ì‚­ì œ                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ì´ ì„¸ì…˜ê³¼ ëª¨ë“  ì„¼ì„œ ë°ì´í„°ë¥¼    â”‚
â”‚ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?              â”‚
â”‚ ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.  â”‚
â”‚                                â”‚
â”‚         [ì·¨ì†Œ]    [ì‚­ì œ]       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**5. HistoryStack Navigator êµ¬í˜„** (53ì¤„)

History íƒ­ ë‚´ì˜ Stack Navigator

```typescript
export function HistoryStack() {
  return (
    <Stack.Navigator>
      <Stack.Screen
        name="HistoryList"
        component={HistoryScreen}
        options={{title: 'ê¸°ë¡', headerShown: false}}
      />
      <Stack.Screen
        name="SessionDetail"
        component={SessionDetailScreen}
        options={{title: 'ì„¸ì…˜ ìƒì„¸'}}
      />
    </Stack.Navigator>
  );
}
```

**ë„¤ë¹„ê²Œì´ì…˜ í”Œë¡œìš°**:
```
History Tab
â”œâ”€â”€ HistoryList (HistoryScreen)
â”‚   â””â”€â”€ [ì„¸ì…˜ ì¹´ë“œ í´ë¦­]
â”‚       â†“
â””â”€â”€ SessionDetail (SessionDetailScreen)
    â”œâ”€â”€ CSV ë‚´ë³´ë‚´ê¸°
    â”œâ”€â”€ JSON ë‚´ë³´ë‚´ê¸°
    â”œâ”€â”€ ì„¸ì…˜ ì‚­ì œ
    â””â”€â”€ [ë’¤ë¡œê°€ê¸°] â†’ HistoryList
```

**6. HistoryScreen ì—…ë°ì´íŠ¸**

ì„¸ì…˜ ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ í™”ë©´ ì´ë™

```typescript
export function HistoryScreen({navigation}: Props) {
  const renderSessionItem = useCallback(
    ({item}: {item: RecordingSession}) => {
      return (
        <TouchableOpacity
          onPress={() =>
            navigation.navigate('SessionDetail', {sessionId: item.sessionId})
          }>
          <Card style={styles.sessionCard}>
            {/* ... */}
          </Card>
        </TouchableOpacity>
      );
    },
    [navigation],
  );
}
```

**7. ì˜ì¡´ì„± ì„¤ì¹˜**

```bash
npm install @react-navigation/native-stack
npm install react-native-fs react-native-share
```

- **@react-navigation/native-stack**: Native Stack Navigator
- **react-native-fs**: íŒŒì¼ ì‹œìŠ¤í…œ ì ‘ê·¼
- **react-native-share**: íŒŒì¼ ê³µìœ  ê¸°ëŠ¥

### í™”ë©´ êµ¬ì¡° ì—…ë°ì´íŠ¸

```
KooDTX App
â”œâ”€â”€ ğŸ“± Tab Navigator (Bottom)
â”‚   â”œâ”€â”€ ğŸ”´ Recording (RecordingScreen)
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‹ History (HistoryStack)
â”‚       â”œâ”€â”€ HistoryList (HistoryScreen)
â”‚       â”‚   â””â”€â”€ [ì„¸ì…˜ ì¹´ë“œ í´ë¦­]
â”‚       â”‚       â†“
â”‚       â””â”€â”€ SessionDetail (SessionDetailScreen)
â”‚           â”œâ”€â”€ ì„¸ì…˜ ì •ë³´
â”‚           â”œâ”€â”€ ì„¼ì„œ í†µê³„
â”‚           â”œâ”€â”€ CSV ë‚´ë³´ë‚´ê¸°
â”‚           â”œâ”€â”€ JSON ë‚´ë³´ë‚´ê¸°
â”‚           â””â”€â”€ ì„¸ì…˜ ì‚­ì œ
```

### ì—…ë°ì´íŠ¸ëœ íŒŒì¼

- **src/screens/SessionDetailScreen.tsx** (580ì¤„): ì„¸ì…˜ ìƒì„¸ í™”ë©´
- **src/navigation/HistoryStack.tsx** (53ì¤„): History Stack Navigator
- **src/navigation/index.ts**: Navigation barrel export
- **src/screens/HistoryScreen.tsx**: ë„¤ë¹„ê²Œì´ì…˜ ì—°ê²°
- **src/screens/index.ts**: SessionDetailScreen export
- **App.tsx**: HistoryStack ì‚¬ìš©
- **package.json**: ìƒˆ ì˜ì¡´ì„± ì¶”ê°€

### ì‚¬ìš©ì í”Œë¡œìš°

**í”Œë¡œìš° 1: ì„¸ì…˜ ìƒì„¸ ì •ë³´ ë³´ê¸°**
1. History íƒ­ ì„ íƒ
2. ì„¸ì…˜ ì¹´ë“œ í´ë¦­
3. ì„¸ì…˜ ìƒì„¸ í™”ë©´ í‘œì‹œ
4. ì„¸ì…˜ ì •ë³´ ë° ì„¼ì„œ í†µê³„ í™•ì¸

**í”Œë¡œìš° 2: ë°ì´í„° ë‚´ë³´ë‚´ê¸° (CSV)**
1. ì„¸ì…˜ ìƒì„¸ í™”ë©´
2. "CSVë¡œ ë‚´ë³´ë‚´ê¸°" ë²„íŠ¼ í´ë¦­
3. íŒŒì¼ ìƒì„± ë° ê³µìœ  ì‹œíŠ¸ í‘œì‹œ
4. ê³µìœ  ëŒ€ìƒ ì„ íƒ (ì´ë©”ì¼, ë“œë¼ì´ë¸Œ ë“±)

**í”Œë¡œìš° 3: ë°ì´í„° ë‚´ë³´ë‚´ê¸° (JSON)**
1. ì„¸ì…˜ ìƒì„¸ í™”ë©´
2. "JSONìœ¼ë¡œ ë‚´ë³´ë‚´ê¸°" ë²„íŠ¼ í´ë¦­
3. íŒŒì¼ ìƒì„± ë° ê³µìœ  ì‹œíŠ¸ í‘œì‹œ
4. ê³µìœ  ëŒ€ìƒ ì„ íƒ

**í”Œë¡œìš° 4: ì„¸ì…˜ ì‚­ì œ**
1. ì„¸ì…˜ ìƒì„¸ í™”ë©´
2. "ì„¸ì…˜ ì‚­ì œ" ë²„íŠ¼ í´ë¦­
3. í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ í‘œì‹œ
4. "ì‚­ì œ" ì„ íƒ
5. ì„¸ì…˜ ë° ë°ì´í„° ì‚­ì œ
6. HistoryListë¡œ ìë™ ì´ë™

### ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

**ì„¼ì„œ í†µê³„ ê³„ì‚°**:
```typescript
// 3-axis sensors (Accelerometer, Gyroscope, Magnetometer)
const sumX = records.reduce((sum, r) => sum + (r.x || 0), 0);
const avgX = sumX / count;

// GPS
const sumLat = records.reduce((sum, r) => sum + (r.latitude || 0), 0);
const avgLatitude = sumLat / count;
```

**íŒŒì¼ ê²½ë¡œ**:
- Android: `/data/data/com.koodtxtemp/files/session_*.csv`
- iOS: `~/Library/Application Support/session_*.json`

**ì—ëŸ¬ ì²˜ë¦¬**:
- ì„¸ì…˜ ì—†ìŒ: ë’¤ë¡œ ì´ë™
- ë‚´ë³´ë‚´ê¸° ì‹¤íŒ¨: Alert í‘œì‹œ
- ì‚­ì œ ì‹¤íŒ¨: Alert í‘œì‹œ
- ì‚¬ìš©ì ì·¨ì†Œ: ì¡°ìš©íˆ ë¬´ì‹œ

### ë‹¤ìŒ ë‹¨ê³„ (Phase 19)
- ì„¼ì„œ ë°ì´í„° ì°¨íŠ¸ ì‹œê°í™” (Line Chart) âœ…
- ì„¼ì„œë³„ ì°¨íŠ¸ í† ê¸€ âœ…
- ì°¨íŠ¸ ê°€ë¡œ ìŠ¤í¬ë¡¤ âœ…
- ë°ì´í„° ìƒ˜í”Œë§ (ì„±ëŠ¥ ìµœì í™”) âœ…

---

## Phase 19: ì„¼ì„œ ë°ì´í„° ì°¨íŠ¸ ì‹œê°í™” âœ…

**ì™„ë£Œ ì‹œê°„**: 2025-11-12 10:00
**ì†Œìš” ì‹œê°„**: 1.0ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. ChartScreen êµ¬í˜„** (415ì¤„)

ì„¼ì„œ ë°ì´í„°ë¥¼ Line Chartë¡œ ì‹œê°í™”í•˜ëŠ” í™”ë©´

```typescript
export function ChartScreen({route}: Props) {
  const {sessionId} = route.params;
  const [sensorData, setSensorData] = useState<SensorDataRecord[]>([]);
  const [selectedSensor, setSelectedSensor] = useState<SensorType>(SensorType.ACCELEROMETER);
  const [availableSensors, setAvailableSensors] = useState<SensorType[]>([]);

  // Load sensor data, sample data, render charts
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ğŸ“Š Line Chartë¡œ ì„¼ì„œ ë°ì´í„° ì‹œê°í™”
- ğŸ”„ ì„¼ì„œë³„ í† ê¸€ (SegmentedButtons)
- ğŸ“ ë°ì´í„° ìƒ˜í”Œë§ (ìµœëŒ€ 100 í¬ì¸íŠ¸)
- â†”ï¸ ê°€ë¡œ ìŠ¤í¬ë¡¤ (ê¸´ ë°ì´í„°)
- ğŸ¨ ìƒ‰ìƒ êµ¬ë¶„ (X: ë¹¨ê°•, Y: ì´ˆë¡, Z: íŒŒë‘)
- ğŸ“‘ ë²”ë¡€ í‘œì‹œ
- ğŸ“ˆ 3ì¶• ì„¼ì„œ (ê°€ì†ë„ê³„, ìì´ë¡œìŠ¤ì½”í”„, ìê¸°ê³„)
- ğŸŒ GPS (ìœ„ë„, ê²½ë„, ê³ ë„ ë³„ë„ ì°¨íŠ¸)

**2. ì°¨íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜**

```bash
npm install react-native-svg react-native-chart-kit
```

- **react-native-svg**: SVG ë Œë”ë§
- **react-native-chart-kit**: Line Chart ì»´í¬ë„ŒíŠ¸

**3. ì„¼ì„œë³„ ì°¨íŠ¸ êµ¬ì„±**

**3ì¶• ì„¼ì„œ (Accelerometer, Gyroscope, Magnetometer)**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ê°€ì†ë„ê³„ - 3ì¶• ë°ì´í„°           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [Xì¶•] [Yì¶•] [Zì¶•]              â”‚
â”‚                                â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚  ğŸ“ˆ Line Chart  â”‚           â”‚
â”‚  â”‚  (X, Y, Z)      â”‚           â”‚
â”‚  â”‚  Time â†’         â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                â”‚
â”‚ 100ê°œ ë°ì´í„° í¬ì¸íŠ¸ í‘œì‹œ        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**GPS ì„¼ì„œ**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GPS - ìœ„ë„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ Line Chart (latitude)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GPS - ê²½ë„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ Line Chart (longitude)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ GPS - ê³ ë„                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ğŸ“ˆ Line Chart (altitude)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**4. ì„¼ì„œ ì„ íƒ UI**

SegmentedButtonsë¡œ ì„¼ì„œ ì „í™˜:

```typescript
<SegmentedButtons
  value={selectedSensor}
  onValueChange={value => setSelectedSensor(value as SensorType)}
  buttons={[
    {value: SensorType.ACCELEROMETER, label: 'ê°€ì†ë„ê³„'},
    {value: SensorType.GYROSCOPE, label: 'ìì´ë¡œìŠ¤ì½”í”„'},
    {value: SensorType.MAGNETOMETER, label: 'ìê¸°ê³„'},
    {value: SensorType.GPS, label: 'GPS'},
  ]}
/>
```

**5. ë°ì´í„° ìƒ˜í”Œë§**

ì„±ëŠ¥ ìµœì í™”ë¥¼ ìœ„í•œ ë°ì´í„° ìƒ˜í”Œë§:

```typescript
const sampleData = useCallback((data: SensorDataRecord[]): SensorDataRecord[] => {
  if (data.length <= MAX_DATA_POINTS) {
    return data;
  }

  const step = Math.ceil(data.length / MAX_DATA_POINTS);
  return data.filter((_, index) => index % step === 0);
}, []);
```

- **MAX_DATA_POINTS**: 100ê°œ
- **ìƒ˜í”Œë§ ë°©ì‹**: ê· ë“± ê°„ê²© ìƒ˜í”Œë§
- **ì˜ˆì‹œ**: 1000ê°œ ë°ì´í„° â†’ 10ê°œë§ˆë‹¤ 1ê°œ ì„ íƒ â†’ 100ê°œ

**6. ì°¨íŠ¸ ë°ì´í„° ì¤€ë¹„**

**3ì¶• ì„¼ì„œ**:
```typescript
const prepare3AxisChartData = useCallback((data: SensorDataRecord[]): ChartData => {
  const sampledData = sampleData(data);

  const xData = sampledData.map(d => d.x || 0);
  const yData = sampledData.map(d => d.y || 0);
  const zData = sampledData.map(d => d.z || 0);

  return {
    labels: sampledData.map((d, i) => {
      if (i % 10 === 0) {
        const date = new Date(d.timestamp);
        return `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;
      }
      return '';
    }),
    datasets: [
      {data: xData, color: () => 'rgba(255, 0, 0, 1)'},  // Red
      {data: yData, color: () => 'rgba(0, 255, 0, 1)'},  // Green
      {data: zData, color: () => 'rgba(0, 0, 255, 1)'},  // Blue
    ],
    legend: ['Xì¶•', 'Yì¶•', 'Zì¶•'],
  };
}, [sampleData]);
```

**GPS**:
```typescript
const prepareGPSChartData = useCallback(
  (data: SensorDataRecord[], field: 'latitude' | 'longitude' | 'altitude') => {
    const sampledData = sampleData(data);
    const values = sampledData.map(d => {
      if (field === 'latitude') return d.latitude || 0;
      if (field === 'longitude') return d.longitude || 0;
      return d.altitude || 0;
    });

    return {
      labels: /* time labels */,
      datasets: [{data: values, color: () => 'rgba(75, 192, 192, 1)'}],
      legend: [fieldNames[field]],
    };
  },
  [sampleData],
);
```

**7. ì°¨íŠ¸ ë Œë”ë§**

react-native-chart-kitì˜ LineChart ì‚¬ìš©:

```typescript
<LineChart
  data={chartData}
  width={Math.max(screenWidth - 60, chartData.labels.length * 20)}
  height={220}
  chartConfig={{
    backgroundColor: '#ffffff',
    backgroundGradientFrom: '#ffffff',
    backgroundGradientTo: '#ffffff',
    decimalPlaces: 2,
    color: (opacity = 1) => `rgba(0, 0, 0, ${opacity})`,
    propsForDots: {r: '2', strokeWidth: '1'},
  }}
  bezier
  withInnerLines
  withOuterLines
  withVerticalLines
  withHorizontalLines
/>
```

**ì°¨íŠ¸ ì„¤ì •**:
- **Width**: ë™ì  (ë°ì´í„° ì–‘ì— ë”°ë¼)
- **Height**: 220px
- **Bezier**: ë¶€ë“œëŸ¬ìš´ ê³¡ì„ 
- **Grid Lines**: ë‚´ë¶€/ì™¸ë¶€/ìˆ˜ì§/ìˆ˜í‰
- **Dots**: ì‘ì€ ì  (ë°˜ì§€ë¦„ 2px)
- **ë°°ê²½**: í°ìƒ‰

**8. ê°€ë¡œ ìŠ¤í¬ë¡¤**

ê¸´ ë°ì´í„°ë¥¼ ìœ„í•œ ìˆ˜í‰ ìŠ¤í¬ë¡¤:

```typescript
<ScrollView horizontal showsHorizontalScrollIndicator>
  <LineChart
    data={chartData}
    width={Math.max(screenWidth - 60, chartData.labels.length * 20)}
    // ì°¨íŠ¸ widthê°€ í™”ë©´ë³´ë‹¤ í¬ë©´ ìŠ¤í¬ë¡¤ ê°€ëŠ¥
  />
</ScrollView>
```

**9. SessionDetail í†µí•©**

ì„¸ì…˜ ìƒì„¸ í™”ë©´ì— "ì°¨íŠ¸ ë³´ê¸°" ë²„íŠ¼ ì¶”ê°€:

```typescript
<Button
  mode="contained"
  icon="chart-line"
  onPress={() => navigation.navigate('Chart', {sessionId})}
  disabled={sensorData.length === 0}
  style={styles.button}>
  ì°¨íŠ¸ ë³´ê¸°
</Button>
```

**10. ë„¤ë¹„ê²Œì´ì…˜ êµ¬ì¡° ì—…ë°ì´íŠ¸**

```
History Tab
â”œâ”€â”€ HistoryList (ì„¸ì…˜ ëª©ë¡)
â”‚   â””â”€â”€ [ì„¸ì…˜ í´ë¦­]
â”‚       â†“
â”œâ”€â”€ SessionDetail (ì„¸ì…˜ ìƒì„¸)
â”‚   â”œâ”€â”€ [ì°¨íŠ¸ ë³´ê¸°]
â”‚   â”‚   â†“
â”‚   â”œâ”€â”€ Chart (ì°¨íŠ¸ í™”ë©´)
â”‚   â”œâ”€â”€ CSV ë‚´ë³´ë‚´ê¸°
â”‚   â”œâ”€â”€ JSON ë‚´ë³´ë‚´ê¸°
â”‚   â””â”€â”€ ì„¸ì…˜ ì‚­ì œ
```

### í™”ë©´ êµ¬ì¡° ì—…ë°ì´íŠ¸

```
KooDTX App
â”œâ”€â”€ ğŸ“± Tab Navigator (Bottom)
â”‚   â”œâ”€â”€ ğŸ”´ Recording (RecordingScreen)
â”‚   â”‚
â”‚   â””â”€â”€ ğŸ“‹ History (HistoryStack)
â”‚       â”œâ”€â”€ HistoryList
â”‚       â”œâ”€â”€ SessionDetail
â”‚       â”‚   â””â”€â”€ [ì°¨íŠ¸ ë³´ê¸°]
â”‚       â”‚       â†“
â”‚       â””â”€â”€ Chart (ChartScreen) â­ NEW
â”‚           â”œâ”€â”€ ì„¼ì„œ ì„ íƒ (SegmentedButtons)
â”‚           â”œâ”€â”€ Line Chart (3ì¶• or GPS)
â”‚           â”œâ”€â”€ ë²”ë¡€ (Legend)
â”‚           â””â”€â”€ ê°€ë¡œ ìŠ¤í¬ë¡¤
```

### ì—…ë°ì´íŠ¸ëœ íŒŒì¼

- **src/screens/ChartScreen.tsx** (415ì¤„): ì°¨íŠ¸ í™”ë©´
- **src/screens/index.ts**: ChartScreen export
- **src/navigation/HistoryStack.tsx**: Chart í™”ë©´ ì¶”ê°€
- **src/screens/SessionDetailScreen.tsx**: "ì°¨íŠ¸ ë³´ê¸°" ë²„íŠ¼ ì¶”ê°€
- **package.json**: react-native-svg, react-native-chart-kit ì¶”ê°€

### ì‚¬ìš©ì í”Œë¡œìš°

**í”Œë¡œìš° 1: ì„¼ì„œ ë°ì´í„° ì°¨íŠ¸ ë³´ê¸°**
1. History íƒ­ â†’ ì„¸ì…˜ ì„ íƒ
2. ì„¸ì…˜ ìƒì„¸ í™”ë©´
3. "ì°¨íŠ¸ ë³´ê¸°" ë²„íŠ¼ í´ë¦­
4. ì°¨íŠ¸ í™”ë©´ í‘œì‹œ (ê¸°ë³¸: ê°€ì†ë„ê³„)
5. ì„¼ì„œë³„ ë°ì´í„° ì‹œê°í™”

**í”Œë¡œìš° 2: ì„¼ì„œ ì „í™˜**
1. ì°¨íŠ¸ í™”ë©´
2. ì„¼ì„œ ì„ íƒ ë²„íŠ¼ (ê°€ì†ë„ê³„/ìì´ë¡œìŠ¤ì½”í”„/ìê¸°ê³„/GPS)
3. ì„ íƒí•œ ì„¼ì„œì˜ ì°¨íŠ¸ í‘œì‹œ
4. X/Y/Z (ë˜ëŠ” ìœ„ë„/ê²½ë„/ê³ ë„) í™•ì¸

**í”Œë¡œìš° 3: ì°¨íŠ¸ ìŠ¤í¬ë¡¤**
1. ì°¨íŠ¸ í™”ë©´
2. ê°€ë¡œë¡œ ìŠ¤í¬ë¡¤
3. ì „ì²´ ë°ì´í„° í¬ì¸íŠ¸ íƒìƒ‰

### ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

**ì°¨íŠ¸ ìƒ‰ìƒ**:
- **Xì¶•**: rgba(255, 0, 0, 1) - ë¹¨ê°•
- **Yì¶•**: rgba(0, 255, 0, 1) - ì´ˆë¡
- **Zì¶•**: rgba(0, 0, 255, 1) - íŒŒë‘
- **GPS**: rgba(75, 192, 192, 1) - ì²­ë¡ìƒ‰

**ë°ì´í„° í¬ì¸íŠ¸ ê³„ì‚°**:
```typescript
// ì˜ˆ: 1000ê°œ ë°ì´í„°
const step = Math.ceil(1000 / 100); // 10
// 0, 10, 20, 30, ... 990 ì¸ë±ìŠ¤ ì„ íƒ â†’ 100ê°œ
```

**íƒ€ì„ìŠ¤íƒ¬í”„ í¬ë§·**:
```typescript
const date = new Date(timestamp);
const label = `${date.getHours()}:${date.getMinutes()}:${date.getSeconds()}`;
// ì˜ˆ: "14:32:45"
```

**ì„±ëŠ¥ ìµœì í™”**:
- ìµœëŒ€ 100ê°œ ë°ì´í„° í¬ì¸íŠ¸ë¡œ ì œí•œ
- ê· ë“± ê°„ê²© ìƒ˜í”Œë§
- useCallbackìœ¼ë¡œ í•¨ìˆ˜ ë©”ëª¨ì´ì œì´ì…˜
- ScrollViewì˜ showsHorizontalScrollIndicator={true}

### ë‹¤ìŒ ë‹¨ê³„ (Phase 20)
- ì˜¤ë””ì˜¤ ë…¹ìŒ ì¤€ë¹„ âœ…
- AudioRecorderService êµ¬í˜„ âœ…
- AudioRecordingRepository êµ¬í˜„ âœ…
- useAudioRecording Hook êµ¬í˜„ âœ…

---

## Phase 20: ì˜¤ë””ì˜¤ ë…¹ìŒ ì¸í”„ë¼ êµ¬ì¶• âœ…

**ì™„ë£Œ ì‹œê°„**: 2025-11-12 11:00
**ì†Œìš” ì‹œê°„**: 1.0ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. react-native-audio-recorder-player ì„¤ì¹˜**

```bash
npm install react-native-audio-recorder-player
```

- **ê¸°ëŠ¥**: ì˜¤ë””ì˜¤ ë…¹ìŒ ë° ì¬ìƒ
- **ì§€ì›**: Android & iOS
- **í¬ë§·**: m4a (AAC ì¸ì½”ë”©)

**2. AudioRecorderService êµ¬í˜„** (270ì¤„)

ì˜¤ë””ì˜¤ ë…¹ìŒ ê´€ë¦¬ ì„œë¹„ìŠ¤ (Singleton Pattern)

```typescript
export class AudioRecorderService {
  async startRecording(options: AudioRecordingOptions, onProgress?, onError?): Promise<string>;
  async stopRecording(): Promise<AudioRecordingResult | null>;
  async startPlayer(filePath: string, onProgress?): Promise<void>;
  async stopPlayer(): Promise<void>;
  async pausePlayer(): Promise<void>;
  async resumePlayer(): Promise<void>;
  async cleanup(): Promise<void>;
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ğŸ¤ ì˜¤ë””ì˜¤ ë…¹ìŒ (m4a í˜•ì‹)
- ğŸµ ì˜¤ë””ì˜¤ ì¬ìƒ
- â¸ï¸ ì¼ì‹œì •ì§€/ì¬ê°œ
- ğŸ“Š ë…¹ìŒ ì§„í–‰ë¥  ì½œë°±
- ğŸ“ íŒŒì¼ ê²½ë¡œ ê´€ë¦¬
- ğŸ§¹ ë¦¬ì†ŒìŠ¤ ì •ë¦¬

**ì˜¤ë””ì˜¤ ì„¤ì •**:
```typescript
const audioSet = {
  AudioEncoderAndroid: AudioEncoderAndroidType.AAC,
  AudioSourceAndroid: AudioSourceAndroidType.MIC,
  AVEncoderAudioQualityKeyIOS: AVEncoderAudioQualityIOSType.high,
  AVNumberOfChannelsKeyIOS: 2,  // Stereo
  AVFormatIDKeyIOS: AVEncodingOption.aac,
  AudioSamplingRate: 44100,  // 44.1 kHz
};
```

**íŒŒì¼ ê²½ë¡œ ìƒì„±**:
```typescript
const timestamp = Date.now();
const fileName = `audio_${sessionId}_${timestamp}.m4a`;
const directory = Platform.OS === 'ios'
  ? RNFS.DocumentDirectoryPath
  : RNFS.ExternalDirectoryPath;
const filePath = `${directory}/${fileName}`;
```

**3. AudioRecordingRepository êµ¬í˜„** (240ì¤„)

ì˜¤ë””ì˜¤ ë…¹ìŒ ë©”íƒ€ë°ì´í„° ê´€ë¦¬ ë ˆí¬ì§€í† ë¦¬

```typescript
export class AudioRecordingRepository {
  async create(input: CreateAudioRecordingInput): Promise<AudioRecording>;
  async findById(id: string): Promise<AudioRecording | null>;
  async findBySession(sessionId: string): Promise<AudioRecording[]>;
  async findAll(): Promise<AudioRecording[]>;
  async findNotUploaded(): Promise<AudioRecording[]>;
  async update(id: string, input: UpdateAudioRecordingInput): Promise<AudioRecording>;
  async markAsUploaded(ids: string[]): Promise<void>;
  async delete(id: string): Promise<void>;
  async deleteBySession(sessionId: string): Promise<void>;
  async count(): Promise<number>;
  async countBySession(sessionId: string): Promise<number>;
}
```

**ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ** (audio_recordings í…Œì´ë¸”):
- `session_id`: ì„¸ì…˜ ID (ì™¸ë˜ í‚¤)
- `timestamp`: ë…¹ìŒ ì‹œì‘ íƒ€ì„ìŠ¤íƒ¬í”„
- `file_path`: ì˜¤ë””ì˜¤ íŒŒì¼ ê²½ë¡œ
- `file_size`: íŒŒì¼ í¬ê¸° (bytes)
- `duration`: ë…¹ìŒ ê¸¸ì´ (seconds)
- `sample_rate`: ìƒ˜í”Œ ë ˆì´íŠ¸ (Hz)
- `channels`: ì±„ë„ ìˆ˜ (1: mono, 2: stereo)
- `format`: íŒŒì¼ í¬ë§· (m4a)
- `is_uploaded`: ì—…ë¡œë“œ ì—¬ë¶€
- `uploaded_url`: ì—…ë¡œë“œëœ URL

**4. useAudioRecording Hook êµ¬í˜„** (130ì¤„)

React Hookìœ¼ë¡œ ì˜¤ë””ì˜¤ ë…¹ìŒ ê¸°ëŠ¥ ì œê³µ

```typescript
export function useAudioRecording(options: UseAudioRecordingOptions): UseAudioRecordingResult {
  const {sessionId, sampleRate, channels, onProgress, onError} = options;

  return {
    isRecording: boolean;
    recordingDuration: number;
    filePath: string | null;
    start: () => Promise<void>;
    stop: () => Promise<AudioRecordingResult | null>;
    error: Error | null;
  };
}
```

**ì‚¬ìš© ì˜ˆì œ**:
```typescript
const {isRecording, recordingDuration, start, stop, error} = useAudioRecording({
  sessionId: 'session-123',
  sampleRate: 44100,
  channels: 2,
  onProgress: (progress) => {
    console.log(`Duration: ${progress.currentPosition}ms`);
  },
  onError: (err) => {
    console.error('Recording error:', err);
  },
});

// Start recording
await start();

// Stop recording
const result = await stop();
// result: {filePath, duration, fileSize}
```

**Hook ê¸°ëŠ¥**:
- âœ… ìë™ ì„¸ì…˜ ID ê²€ì¦
- âœ… ë…¹ìŒ ìƒíƒœ ê´€ë¦¬
- âœ… ì§„í–‰ë¥  ì¶”ì 
- âœ… ì—ëŸ¬ ì²˜ë¦¬
- âœ… ìë™ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
- âœ… ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì •ë¦¬

**5. íŒŒì¼ ì €ì¥ êµ¬ì¡°**

**Android**:
```
/storage/emulated/0/Android/data/com.koodtxtemp/files/
â”œâ”€â”€ audio_session-123_1731394800000.m4a
â”œâ”€â”€ audio_session-123_1731394900000.m4a
â””â”€â”€ audio_session-456_1731395000000.m4a
```

**iOS**:
```
~/Library/Application Support/
â”œâ”€â”€ audio_session-123_1731394800000.m4a
â”œâ”€â”€ audio_session-123_1731394900000.m4a
â””â”€â”€ audio_session-456_1731395000000.m4a
```

**íŒŒì¼ ë„¤ì´ë° ê·œì¹™**:
```
audio_{sessionId}_{timestamp}.m4a
```

### ì˜¤ë””ì˜¤ ë…¹ìŒ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ useAudioRecording Hook           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. start() í˜¸ì¶œ                  â”‚
â”‚    â†“                             â”‚
â”‚ 2. AudioRecorderService          â”‚
â”‚    - startRecording()            â”‚
â”‚    - íŒŒì¼ ê²½ë¡œ ìƒì„±               â”‚
â”‚    - ë…¹ìŒ ì‹œì‘                   â”‚
â”‚    â†“                             â”‚
â”‚ 3. ì§„í–‰ë¥  ì½œë°±                   â”‚
â”‚    - onProgress(progress)        â”‚
â”‚    - ë…¹ìŒ ì‹œê°„ ì—…ë°ì´íŠ¸           â”‚
â”‚    â†“                             â”‚
â”‚ 4. stop() í˜¸ì¶œ                   â”‚
â”‚    â†“                             â”‚
â”‚ 5. AudioRecorderService          â”‚
â”‚    - stopRecording()             â”‚
â”‚    - íŒŒì¼ ì •ë³´ ë°˜í™˜               â”‚
â”‚    â†“                             â”‚
â”‚ 6. AudioRecordingRepository      â”‚
â”‚    - create()                    â”‚
â”‚    - ë©”íƒ€ë°ì´í„° ì €ì¥              â”‚
â”‚    â†“                             â”‚
â”‚ 7. ì™„ë£Œ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì˜¤ë””ì˜¤ ì¬ìƒ í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ AudioRecorderService             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. startPlayer(filePath)         â”‚
â”‚    â†“                             â”‚
â”‚ 2. ì˜¤ë””ì˜¤ íŒŒì¼ ë¡œë“œ               â”‚
â”‚    â†“                             â”‚
â”‚ 3. ì¬ìƒ ì‹œì‘                     â”‚
â”‚    â†“                             â”‚
â”‚ 4. ì§„í–‰ë¥  ì½œë°±                   â”‚
â”‚    - onProgress(progress)        â”‚
â”‚    â†“                             â”‚
â”‚ 5. pausePlayer() / resumePlayer()â”‚
â”‚    â†“                             â”‚
â”‚ 6. stopPlayer()                  â”‚
â”‚    â†“                             â”‚
â”‚ 7. ì™„ë£Œ                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì—…ë°ì´íŠ¸ëœ íŒŒì¼

- **src/services/audio/AudioRecorderService.ts** (270ì¤„): ì˜¤ë””ì˜¤ ë…¹ìŒ ì„œë¹„ìŠ¤
- **src/database/repositories/AudioRecordingRepository.ts** (240ì¤„): ì˜¤ë””ì˜¤ ë ˆí¬ì§€í† ë¦¬
- **src/database/repositories/index.ts**: AudioRecordingRepository export
- **src/hooks/useAudioRecording.ts** (130ì¤„): ì˜¤ë””ì˜¤ ë…¹ìŒ Hook
- **src/hooks/index.ts**: useAudioRecording export
- **package.json**: react-native-audio-recorder-player ì¶”ê°€

### í†µí•© ì¤€ë¹„ ì™„ë£Œ

RecordingScreenì— ì˜¤ë””ì˜¤ ë…¹ìŒì„ í†µí•©í•˜ë ¤ë©´:

```typescript
import {useAudioRecording} from '@hooks';

// Inside RecordingScreen component:
const audioRecording = useAudioRecording({
  sessionId,
  sampleRate: 44100,
  channels: 2,
  onProgress: (progress) => {
    // Update UI with recording duration
  },
  onError: (error) => {
    console.error('Audio recording error:', error);
  },
});

// Start recording (í•¨ê»˜ ì„¼ì„œ ë°ì´í„°ì™€)
const handleStartRecording = async () => {
  // ... start sensor collection
  if (enabledSensors[SensorType.AUDIO]) {
    await audioRecording.start();
  }
};

// Stop recording
const handleStopRecording = async () => {
  // ... stop sensor collection
  if (audioRecording.isRecording) {
    const result = await audioRecording.stop();
    console.log('Audio saved:', result);
  }
};
```

### ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

**ì˜¤ë””ì˜¤ í’ˆì§ˆ**:
- **ìƒ˜í”Œ ë ˆì´íŠ¸**: 44.1 kHz (CD í’ˆì§ˆ)
- **ì±„ë„**: 2 (ìŠ¤í…Œë ˆì˜¤)
- **ì¸ì½”ë”©**: AAC (ê³ íš¨ìœ¨ ì••ì¶•)
- **ì»¨í…Œì´ë„ˆ**: m4a

**íŒŒì¼ í¬ê¸° ì˜ˆìƒ**:
- 1ë¶„ ë…¹ìŒ: ~1-2 MB
- 10ë¶„ ë…¹ìŒ: ~10-20 MB
- 60ë¶„ ë…¹ìŒ: ~60-120 MB

**ê¶Œí•œ**:
- Android: `RECORD_AUDIO` (ì´ë¯¸ AndroidManifest.xmlì— ì¶”ê°€ë¨)
- iOS: `NSMicrophoneUsageDescription` (Info.plistì— ì¶”ê°€ í•„ìš”)

**ì—ëŸ¬ ì²˜ë¦¬**:
- ê¶Œí•œ ê±°ë¶€: Error throw
- ë””ìŠ¤í¬ ê³µê°„ ë¶€ì¡±: Error throw
- ì´ë¯¸ ë…¹ìŒ ì¤‘: Error throw
- ì„¸ì…˜ ID ì—†ìŒ: Error throw

### ë‹¤ìŒ ë‹¨ê³„ (Phase 21)
- RecordingScreenì— ì˜¤ë””ì˜¤ í†µí•©
- ì˜¤ë””ì˜¤ ì¬ìƒ UI ì¶”ê°€
- SessionDetailì— ì˜¤ë””ì˜¤ í‘œì‹œ
- ì˜¤ë””ì˜¤ íŒŒì¼ ë‚´ë³´ë‚´ê¸°

---


**ì™„ë£Œ ì‹œê°„**: 2025-11-12 07:00  
**ì†Œìš” ì‹œê°„**: 0.7ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. RecordingScreen êµ¬í˜„** (320ì¤„)

ì™„ì „í•œ ê¸°ëŠ¥ì˜ ì„¼ì„œ ë…¹ìŒ í™”ë©´

**ì£¼ìš” ê¸°ëŠ¥**:
- âœ… **ì„¼ì„œ ì„ íƒ**: 4ê°œ ì„¼ì„œ (ê°€ì†ë„ê³„, ìì´ë¡œìŠ¤ì½”í”„, ìê¸°ê³„, GPS)
- ğŸ›ï¸ **ì„¤ì •**: ìƒ˜í”Œë§ ë ˆì´íŠ¸ í‘œì‹œ
- ğŸ“ **ë©”ëª¨**: ì„¸ì…˜ ë…¸íŠ¸ ì…ë ¥
- â–¶ï¸ **ì œì–´**: ë…¹ìŒ ì‹œì‘/ì¤‘ì§€ ë²„íŠ¼
- ğŸ“Š **ì‹¤ì‹œê°„ ë°ì´í„°**: ì„¼ì„œë³„ ìµœì‹  ê°’ í‘œì‹œ
- ğŸ“ˆ **í†µê³„**: ë²„í¼/ì €ì¥ í†µê³„ ì‹¤ì‹œê°„ í‘œì‹œ
- âš ï¸ **ì—ëŸ¬ ì²˜ë¦¬**: ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ

**2. UI ì»´í¬ë„ŒíŠ¸**

**ìƒíƒœ í‘œì‹œ**:
```typescript
ìƒíƒœ: ğŸ”´ ë…¹ìŒ ì¤‘ / âšª ëŒ€ê¸° ì¤‘
ì„¸ì…˜: session-1731393600000-a1b2c3d4
```

**ì„¼ì„œ ì„ íƒ (Checkbox)**:
- âœ“ ê°€ì†ë„ê³„ (Accelerometer)
- âœ“ ìì´ë¡œìŠ¤ì½”í”„ (Gyroscope)
- âœ“ ìê¸°ê³„ (Magnetometer)
- â˜ GPS

**ì‹¤ì‹œê°„ ë°ì´í„°**:
```
accelerometer
X: 0.123, Y: -0.456, Z: 9.789

gyroscope
X: 0.001, Y: 0.002, Z: -0.001

gps
Lat: 37.123456, Lng: 127.654321
```

**í†µê³„**:
```
ë²„í¼: 45 / 1250
ì €ì¥: 1200 (ì‹¤íŒ¨: 5)
ë°°ì¹˜: 12
```

**3. í†µí•© ê¸°ëŠ¥**

**ì„¸ì…˜ ìƒì„±**:
```typescript
await sessionRepo.create({
  sessionId: newSessionId,
  startTime: Date.now(),
  enabledSensors: [SensorType.ACCELEROMETER, SensorType.GYROSCOPE],
  sampleRate: 100,
  notes: sessionNotes,
});
```

**ì„¼ì„œ ì‹œì‘**:
```typescript
await start([
  SensorType.ACCELEROMETER,
  SensorType.GYROSCOPE,
  SensorType.MAGNETOMETER,
]);
```

**ë°ì´í„° ìˆ˜ì§‘ â†’ ì €ì¥**:
```
useSensorCollectionWithDB Hook
  â†’ ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹ 
  â†’ í™”ë©´ì— ìµœì‹  ê°’ í‘œì‹œ
  â†’ ìë™ìœ¼ë¡œ DB ì €ì¥
  â†’ í†µê³„ ì—…ë°ì´íŠ¸
```

**ì„¸ì…˜ ì¢…ë£Œ**:
```typescript
await stop();
await sessionRepo.updateBySessionId(sessionId, {
  endTime: Date.now(),
  isActive: false,
});
```

**4. ì‚¬ìš©ì ê²½í—˜**

**ë…¹ìŒ ì „**:
1. ì›í•˜ëŠ” ì„¼ì„œ ì„ íƒ (ì²´í¬ë°•ìŠ¤)
2. ë©”ëª¨ ì…ë ¥ (ì„ íƒì‚¬í•­)
3. "ë…¹ìŒ ì‹œì‘" ë²„íŠ¼ í´ë¦­

**ë…¹ìŒ ì¤‘**:
1. ğŸ”´ ë…¹ìŒ ì¤‘ í‘œì‹œ
2. ì‹¤ì‹œê°„ ì„¼ì„œ ë°ì´í„° í‘œì‹œ
3. ë²„í¼/ì €ì¥ í†µê³„ í‘œì‹œ
4. "ë…¹ìŒ ì¤‘ì§€" ë²„íŠ¼ (ë¹¨ê°„ìƒ‰)

**ë…¹ìŒ í›„**:
1. ë°ì´í„°ë² ì´ìŠ¤ì— ìë™ ì €ì¥
2. ì„¸ì…˜ ì¢…ë£Œ ì²˜ë¦¬
3. ëŒ€ê¸° ìƒíƒœë¡œ ë³µê·€

**5. ì—…ë°ì´íŠ¸ëœ íŒŒì¼**

- **RecordingScreen.tsx** (320ì¤„): ë©”ì¸ ë…¹ìŒ í™”ë©´
- **App.tsx**: RecordingScreen ì‚¬ìš©
- **src/screens/README.md**: ìŠ¤í¬ë¦° ë¬¸ì„œ ì—…ë°ì´íŠ¸

### í™”ë©´ êµ¬ì¡°

```
RecordingScreen
â”œâ”€â”€ Card: ì„¼ì„œ ë…¹ìŒ
â”‚   â”œâ”€â”€ ìƒíƒœ í‘œì‹œ
â”‚   â”œâ”€â”€ ì„¼ì„œ ì„ íƒ (Checkbox)
â”‚   â”œâ”€â”€ ì„¤ì • í‘œì‹œ
â”‚   â”œâ”€â”€ ë©”ëª¨ ë²„íŠ¼
â”‚   â””â”€â”€ ë…¹ìŒ ì‹œì‘/ì¤‘ì§€ ë²„íŠ¼
â”œâ”€â”€ Card: ì‹¤ì‹œê°„ ë°ì´í„° (ë…¹ìŒ ì¤‘)
â”‚   â””â”€â”€ ì„¼ì„œë³„ ìµœì‹  ê°’
â””â”€â”€ Card: í†µê³„ (ë…¹ìŒ ì¤‘)
    â”œâ”€â”€ ë²„í¼ í†µê³„
    â””â”€â”€ ì €ì¥ í†µê³„
```

### Material Design 3 ìŠ¤íƒ€ì¼

- **Card**: ì •ë³´ ê·¸ë£¹í™”
- **Checkbox**: ì„¼ì„œ ì„ íƒ
- **Button**: contained (ê°•ì¡°), outlined (ì¼ë°˜)
- **Dialog**: ë©”ëª¨ ì…ë ¥
- **Text**: variantë¡œ ê³„ì¸µ êµ¬ì¡°
- **Divider**: ì„¹ì…˜ êµ¬ë¶„

### ì™„ì „í•œ ë°ì´í„° íë¦„

```
ì‚¬ìš©ì UI ì¡°ì‘
    â†“
RecordingScreen
    â†“
RecordingSessionRepository.create() â†’ DB
    â†“
useSensorCollectionWithDB.start()
    â†“
SensorManager â†’ SensorService â†’ ì„¼ì„œ í•˜ë“œì›¨ì–´
    â†“
ì‹¤ì‹œê°„ ë°ì´í„° ìˆ˜ì‹ 
    â”œâ”€â†’ í™”ë©´ ì—…ë°ì´íŠ¸ (latestData)
    â””â”€â†’ SensorDataService
          â”œâ”€â†’ SensorDataBuffer
          â””â”€â†’ SensorDataBatchSaver
                â””â”€â†’ SensorDataRepository.createBatch() â†’ DB
                      â””â”€â†’ RecordingSessionRepository.incrementDataCount()
```

### ë‹¤ìŒ ë‹¨ê³„ (Phase 16)
- TypeScript ë°ì½”ë ˆì´í„° ì„¤ì • ìˆ˜ì •
- ê¶Œí•œ ìš”ì²­ ì²˜ë¦¬ (Android/iOS)
- ì—ëŸ¬ í•¸ë“¤ë§ ê°œì„ 
- ë¡œë”© ìƒíƒœ í‘œì‹œ

---


**ì™„ë£Œ ì‹œê°„**: 2025-11-12 06:30  
**ì†Œìš” ì‹œê°„**: 0.5ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. SensorDataService êµ¬í˜„** (230ì¤„)

ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ë¶€í„° ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ê¹Œì§€ ì „ì²´ íŒŒì´í”„ë¼ì¸ì„ í†µí•©í•˜ëŠ” ì„œë¹„ìŠ¤

```typescript
export class SensorDataService {
  private buffer: SensorDataBuffer;
  private batchSaver: SensorDataBatchSaver;
  private sensorDataRepo: SensorDataRepository;
  private sessionRepo: RecordingSessionRepository;
  
  async start(): void;
  async stop(): Promise<void>;
  addData(data: SensorData): void;
  addBatch(data: SensorData[]): void;
  async flush(): Promise<void>;
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ğŸ”„ **ë²„í¼ë§**: SensorDataBufferë¥¼ í†µí•œ ë©”ëª¨ë¦¬ ë²„í¼ë§
- ğŸ’¾ **ë°°ì¹˜ ì €ì¥**: SensorDataBatchSaverë¥¼ í†µí•œ ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
- ğŸ” **ì¬ì‹œë„**: ì‹¤íŒ¨í•œ ë°°ì¹˜ ìë™ ì¬ì‹œë„
- ğŸ“Š **í†µê³„**: ë²„í¼ ë° ì €ì¥ í†µê³„ ì¶”ì 
- ğŸ“ˆ **ì„¸ì…˜ ì—…ë°ì´íŠ¸**: ìë™ ì„¸ì…˜ ë°ì´í„° ì¹´ìš´íŠ¸ ì—…ë°ì´íŠ¸
- ğŸ¯ **ì‹±ê¸€í†¤**: ì „ì—­ ì¸ìŠ¤í„´ìŠ¤ ê´€ë¦¬

**2. useSensorCollectionWithDB Hook** (200ì¤„)

ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥ ê¸°ëŠ¥ì´ í†µí•©ëœ ì„¼ì„œ ìˆ˜ì§‘ Hook

```typescript
export function useSensorCollectionWithDB(
  sessionId: string | null,
  options: UseSensorCollectionWithDBOptions = {},
): UseSensorCollectionWithDBResult
```

**ì˜µì…˜**:
- `enabled`: ìë™ ì‹œì‘/ì¤‘ì§€
- `sensors`: ì„¼ì„œë³„ ì„¤ì •
- `onData`: ë°ì´í„° ì½œë°±
- `onError`: ì—ëŸ¬ ì½œë°±
- `bufferSize`: ë²„í¼ í¬ê¸° (ê¸°ë³¸: 100)
- `flushInterval`: í”ŒëŸ¬ì‹œ ê°„ê²© (ê¸°ë³¸: 5000ms)
- `retryAttempts`: ì¬ì‹œë„ íšŸìˆ˜ (ê¸°ë³¸: 3)

**ë°˜í™˜ê°’**:
- `isRunning`: ì‹¤í–‰ ìƒíƒœ
- `runningSensors`: ì‹¤í–‰ ì¤‘ì¸ ì„¼ì„œ ëª©ë¡
- `error`: ì—ëŸ¬ ìƒíƒœ
- `start()`: ì„¼ì„œ ì‹œì‘
- `stop()`: ì„¼ì„œ ì¤‘ì§€
- `getBufferStats()`: ë²„í¼ í†µê³„
- `getSaverStats()`: ì €ì¥ í†µê³„
- `getFailedBatchesCount()`: ì‹¤íŒ¨ ë°°ì¹˜ ìˆ˜
- `flush()`: ìˆ˜ë™ í”ŒëŸ¬ì‹œ

**3. í†µí•© í…ŒìŠ¤íŠ¸** (163ì¤„)

SensorDataServiceì˜ ê¸°ë³¸ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸

```typescript
describe('SensorDataService', () => {
  // ì´ˆê¸°í™”, ì‹œì‘/ì¤‘ì§€
  // ë°ì´í„° ì¶”ê°€ (ë‹¨ì¼/ë°°ì¹˜)
  // í†µê³„ ì¡°íšŒ
  // ìˆ˜ë™ í”ŒëŸ¬ì‹œ
  // ì‹±ê¸€í†¤ íŒ¨í„´
  // ì—ëŸ¬ ì²˜ë¦¬
});
```

### ë°ì´í„° íë¦„ (ì™„ì „í•œ íŒŒì´í”„ë¼ì¸)

```
ì„¼ì„œ í•˜ë“œì›¨ì–´
    â†“
SensorService (AccelerometerService, GyroscopeService, etc.)
    â†“
SensorManager.startCollection()
    â†“
useSensorCollectionWithDB Hook
    â†“
SensorDataService
    â”œâ”€â†’ SensorDataBuffer (ë©”ëª¨ë¦¬ ë²„í¼ë§)
    â”‚     â””â”€â†’ ìë™ í”ŒëŸ¬ì‹œ (í¬ê¸°/ì‹œê°„ ê¸°ë°˜)
    â””â”€â†’ SensorDataBatchSaver (ë°°ì¹˜ ì €ì¥)
          â””â”€â†’ SensorDataRepository.createBatch()
                â””â”€â†’ WatermelonDB
                      â””â”€â†’ SQLite Database
```

### ì‚¬ìš© ì˜ˆì‹œ

**ê¸°ë³¸ ì‚¬ìš©**:
```typescript
const {isRunning, start, stop} = useSensorCollectionWithDB(
  sessionId,
  {
    enabled: true,
    sensors: {
      [SensorType.ACCELEROMETER]: {enabled: true, sampleRate: 100},
      [SensorType.GYROSCOPE]: {enabled: true, sampleRate: 100},
      [SensorType.GPS]: {enabled: true, sampleRate: 1},
    },
    bufferSize: 100,
    flushInterval: 5000,
    retryAttempts: 3,
    onData: (data) => {
      console.log('Received data:', data);
    },
    onError: (error) => {
      console.error('Sensor error:', error);
    },
  }
);

// ë°ì´í„°ëŠ” ìë™ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥ë¨
```

**í†µê³„ ëª¨ë‹ˆí„°ë§**:
```typescript
const {getBufferStats, getSaverStats, getFailedBatchesCount} = 
  useSensorCollectionWithDB(sessionId, options);

// ë²„í¼ í†µê³„
const bufferStats = getBufferStats();
console.log('Buffer:', bufferStats.currentSize, '/', bufferStats.totalReceived);

// ì €ì¥ í†µê³„
const saverStats = getSaverStats();
console.log('Saved:', saverStats.totalSaved, 'Failed:', saverStats.totalFailed);

// ì‹¤íŒ¨ ë°°ì¹˜ ìˆ˜
const failedCount = getFailedBatchesCount();
console.log('Failed batches:', failedCount);
```

**ìˆ˜ë™ ì œì–´**:
```typescript
const {start, stop, flush} = useSensorCollectionWithDB(
  sessionId,
  {enabled: false} // ìë™ ì‹œì‘ ë¹„í™œì„±í™”
);

// ìˆ˜ë™ ì‹œì‘
await start([SensorType.ACCELEROMETER, SensorType.GYROSCOPE]);

// ìˆ˜ë™ í”ŒëŸ¬ì‹œ
await flush();

// ìˆ˜ë™ ì¤‘ì§€
await stop();
```

### íŒŒì¼ êµ¬ì¡°
```
src/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ SensorDataService.ts           # í†µí•© ì„œë¹„ìŠ¤
â”‚   â””â”€â”€ __tests__/
â”‚       â””â”€â”€ SensorDataService.test.ts  # í†µí•© í…ŒìŠ¤íŠ¸
â””â”€â”€ hooks/
    â”œâ”€â”€ useSensorCollectionWithDB.ts   # DB í†µí•© Hook
    â””â”€â”€ index.ts                       # ì—…ë°ì´íŠ¸ëœ Export
```

### ì£¼ìš” íŠ¹ì§•

**ì„±ëŠ¥ ìµœì í™”**:
- âš¡ ë©”ëª¨ë¦¬ ë²„í¼ë§ìœ¼ë¡œ I/O ìµœì†Œí™”
- ğŸ“¦ ë°°ì¹˜ ì‚½ì…ìœ¼ë¡œ ë°ì´í„°ë² ì´ìŠ¤ ì„±ëŠ¥ ìµœì í™”
- â±ï¸ ì‹œê°„ ê¸°ë°˜ ìë™ í”ŒëŸ¬ì‹œ

**ì•ˆì •ì„±**:
- ğŸ” ìë™ ì¬ì‹œë„ ë©”ì»¤ë‹ˆì¦˜
- ğŸ’¾ ì‹¤íŒ¨í•œ ë°°ì¹˜ í ê´€ë¦¬
- ğŸ“Š ì„¸ì…˜ ë°ì´í„° ì¹´ìš´íŠ¸ ìë™ ì—…ë°ì´íŠ¸

**ê´€ì°° ê°€ëŠ¥ì„±**:
- ğŸ“ˆ ì‹¤ì‹œê°„ ë²„í¼ í†µê³„
- ğŸ“‰ ì €ì¥ ì„±ê³µ/ì‹¤íŒ¨ í†µê³„
- ğŸ” ì‹¤íŒ¨ ë°°ì¹˜ ì¶”ì 

**ì‚¬ìš© í¸ì˜ì„±**:
- ğŸ£ React Hook ì¸í„°í˜ì´ìŠ¤
- ğŸ”§ ì™„ì „ ì„¤ì • ê°€ëŠ¥
- ğŸ¯ ì‹±ê¸€í†¤ íŒ¨í„´

### ë‹¤ìŒ ë‹¨ê³„ (Phase 15)
- Recording UI í™”ë©´ êµ¬í˜„
- ì„¼ì„œ ì„ íƒ ë° ì„¤ì • UI
- ì‹¤ì‹œê°„ ì„¼ì„œ ë°ì´í„° ì‹œê°í™”
- ë…¹ìŒ ì‹œì‘/ì¤‘ì§€ ì œì–´

---


**ì™„ë£Œ ì‹œê°„**: 2025-11-12 06:00  
**ì†Œìš” ì‹œê°„**: 0.8ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. WatermelonDB ì„¤ì¹˜**
```bash
npm install @nozbe/watermelondb @nozbe/with-observables
```
- **@nozbe/watermelondb**: React Nativeìš© ê³ ì„±ëŠ¥ ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤
- **@nozbe/with-observables**: ì˜µì €ë²„ë¸” HOC ìœ í‹¸ë¦¬í‹°

**2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ì •ì˜** (schema.ts - 78ì¤„)

**3ê°œ í…Œì´ë¸” ì •ì˜**:

**recording_sessions**
- session_id (indexed)
- start_time, end_time (indexed)
- is_active, enabled_sensors (JSON)
- sample_rate, data_count, notes
- is_uploaded, created_at, updated_at

**sensor_data**
- sensor_type, session_id (indexed)
- timestamp (indexed)
- x, y, z (3ì¶• ë°ì´í„°)
- latitude, longitude, altitude, accuracy, speed, heading (GPS)
- is_uploaded, created_at, updated_at

**audio_recordings**
- session_id, timestamp (indexed)
- file_path, file_size, duration
- sample_rate, channels, format
- is_uploaded, uploaded_url
- created_at, updated_at

**3. ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ êµ¬í˜„** (~160ì¤„)

**RecordingSession.ts** (25ì¤„)
```typescript
export class RecordingSession extends Model {
  static table = 'recording_sessions';
  
  @field('session_id') sessionId!: string;
  @json('enabled_sensors', ...) enabledSensors!: SensorType[];
  @readonly @date('created_at') createdAt!: Date;
}
```

**SensorDataRecord.ts** (36ì¤„)
```typescript
export class SensorDataRecord extends Model {
  static table = 'sensor_data';
  
  @field('sensor_type') sensorType!: SensorType;
  @field('x') x?: number;
  @field('latitude') latitude?: number;
}
```

**AudioRecording.ts** (26ì¤„)
```typescript
export class AudioRecording extends Model {
  static table = 'audio_recordings';
  
  @field('file_path') filePath!: string;
  @field('duration') duration!: number;
}
```

**4. ë°ì´í„°ë² ì´ìŠ¤ ì–´ëŒ‘í„° ì„¤ì •** (index.ts - 32ì¤„)

```typescript
const adapter = new SQLiteAdapter({
  schema,
  jsi: false, // JSI ë¯¸ì‚¬ìš© (í˜¸í™˜ì„±)
  onSetUpError: error => {
    console.error('Database setup error:', error);
  },
});

export const database = new Database({
  adapter,
  modelClasses: [RecordingSession, SensorDataRecord, AudioRecording],
});
```

**5. Repository íŒ¨í„´ êµ¬í˜„** (~440ì¤„)

**SensorDataRepository** (240ì¤„)
```typescript
export class SensorDataRepository {
  async create(data: SensorData): Promise<SensorDataRecord>;
  async createBatch(dataArray: SensorData[]): Promise<SensorDataRecord[]>;
  async findBySession(sessionId: string): Promise<SensorDataRecord[]>;
  async findBySessionAndType(sessionId: string, sensorType: SensorType): Promise<SensorDataRecord[]>;
  async findByTimeRange(sessionId: string, startTime: number, endTime: number): Promise<SensorDataRecord[]>;
  async findUnuploaded(limit?: number): Promise<SensorDataRecord[]>;
  async markAsUploaded(ids: string[]): Promise<void>;
  async delete(id: string): Promise<void>;
  async count(sessionId?: string): Promise<number>;
}
```

**RecordingSessionRepository** (203ì¤„)
```typescript
export class RecordingSessionRepository {
  async create(data: CreateSessionData): Promise<RecordingSession>;
  async findBySessionId(sessionId: string): Promise<RecordingSession | null>;
  async findAll(limit?: number): Promise<RecordingSession[]>;
  async findActive(): Promise<RecordingSession[]>;
  async findCompleted(limit?: number): Promise<RecordingSession[]>;
  async findUnuploaded(): Promise<RecordingSession[]>;
  async incrementDataCount(sessionId: string, increment: number): Promise<void>;
  async markAsUploaded(sessionId: string): Promise<void>;
  async delete(id: string): Promise<void>;
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- âœ… ë‹¨ì¼/ë°°ì¹˜ ìƒì„±
- ğŸ” ë‹¤ì–‘í•œ ì¿¼ë¦¬ (ì„¸ì…˜, íƒ€ì…, ì‹œê°„ ë²”ìœ„)
- ğŸ“¤ ì—…ë¡œë“œ ìƒíƒœ ê´€ë¦¬
- ğŸ“Š í†µê³„ ë° ì¹´ìš´íŠ¸
- ğŸ—‘ï¸ ì‚­ì œ ì‘ì—…
- ğŸ”’ ì‹±ê¸€í†¤ íŒ¨í„´

### ì•„í‚¤í…ì²˜ íŒ¨í„´

**ê³„ì¸µ êµ¬ì¡°**:
```
UI Components
    â†“
Hooks (useSensor, useSensorCollection)
    â†“
Services (SensorManager, SensorDataBuffer)
    â†“
Repositories (SensorDataRepository, RecordingSessionRepository)
    â†“
WatermelonDB Models
    â†“
SQLiteAdapter
    â†“
SQLite Database
```

**ë°ì´í„° íë¦„**:
```
ì„¼ì„œ â†’ Hook â†’ Buffer â†’ BatchSaver 
  â†’ SensorDataRepository.createBatch()
  â†’ WatermelonDB â†’ SQLite
```

### íŒŒì¼ êµ¬ì¡°
```
src/database/
â”œâ”€â”€ schema.ts                      # DB ìŠ¤í‚¤ë§ˆ ì •ì˜
â”œâ”€â”€ index.ts                       # DB ì–´ëŒ‘í„° ë° ì¸ìŠ¤í„´ìŠ¤
â”œâ”€â”€ models/
â”‚   â”œâ”€â”€ RecordingSession.ts        # ì„¸ì…˜ ëª¨ë¸
â”‚   â”œâ”€â”€ SensorDataRecord.ts        # ì„¼ì„œ ë°ì´í„° ëª¨ë¸
â”‚   â”œâ”€â”€ AudioRecording.ts          # ì˜¤ë””ì˜¤ ëª¨ë¸
â”‚   â””â”€â”€ index.ts                   # Export ëª¨ë“ˆ
â””â”€â”€ repositories/
    â”œâ”€â”€ SensorDataRepository.ts    # ì„¼ì„œ ë°ì´í„° ë ˆí¬ì§€í† ë¦¬
    â”œâ”€â”€ RecordingSessionRepository.ts  # ì„¸ì…˜ ë ˆí¬ì§€í† ë¦¬
    â””â”€â”€ index.ts                   # Export ëª¨ë“ˆ
```

### WatermelonDB ì£¼ìš” íŠ¹ì§•

**ì„±ëŠ¥**:
- âš¡ Lazy loadingìœ¼ë¡œ ë¹ ë¥¸ ì¿¼ë¦¬
- ğŸš€ ì¸ë±ì‹±ìœ¼ë¡œ ë¹ ë¥¸ ê²€ìƒ‰
- ğŸ’¾ íš¨ìœ¨ì ì¸ SQLite ì‚¬ìš©

**ì˜µì €ë²„ë¸”**:
- ğŸ“¡ RxJS ê¸°ë°˜ ë°˜ì‘í˜• ì¿¼ë¦¬
- ğŸ”„ ìë™ UI ì—…ë°ì´íŠ¸
- ğŸ¯ ì„ íƒì  ê´€ì°°

**ì˜¤í”„ë¼ì¸ ìš°ì„ **:
- ğŸ“± ì™„ì „í•œ ë¡œì»¬ ì €ì¥ì†Œ
- ğŸ”Œ ë™ê¸°í™” ì¤€ë¹„
- ğŸ’ª ì•ˆì •ì ì¸ ë°ì´í„° ì§€ì†ì„±

### ì‚¬ìš© ì˜ˆì‹œ

**ì„¼ì„œ ë°ì´í„° ì €ì¥**:
```typescript
const repo = getSensorDataRepository();

// ë‹¨ì¼ ì €ì¥
await repo.create(sensorData);

// ë°°ì¹˜ ì €ì¥
await repo.createBatch(sensorDataArray);

// ì„¸ì…˜ë³„ ì¡°íšŒ
const data = await repo.findBySession('session-123');

// ì—…ë¡œë“œë˜ì§€ ì•Šì€ ë°ì´í„° ì¡°íšŒ
const unuploaded = await repo.findUnuploaded();
```

**ë…¹ìŒ ì„¸ì…˜ ê´€ë¦¬**:
```typescript
const sessionRepo = getRecordingSessionRepository();

// ì„¸ì…˜ ìƒì„±
await sessionRepo.create({
  sessionId: 'session-123',
  startTime: Date.now(),
  enabledSensors: [SensorType.ACCELEROMETER, SensorType.GPS],
  sampleRate: 100,
});

// ë°ì´í„° ì¹´ìš´íŠ¸ ì¦ê°€
await sessionRepo.incrementDataCount('session-123', 10);

// ì„¸ì…˜ ì¢…ë£Œ
await sessionRepo.updateBySessionId('session-123', {
  endTime: Date.now(),
  isActive: false,
});
```

### ë‹¤ìŒ ë‹¨ê³„ (Phase 14)
- SensorDataBatchSaverë¥¼ ë°ì´í„°ë² ì´ìŠ¤ì™€ í†µí•©
- ì„¼ì„œ ìˆ˜ì§‘ Hookê³¼ ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²°
- ì‹¤ì‹œê°„ ë°ì´í„° ì €ì¥ êµ¬í˜„
- ë°ì´í„° ë™ê¸°í™” ì¤€ë¹„

---


**ì™„ë£Œ ì‹œê°„**: 2025-11-12 05:00  
**ì†Œìš” ì‹œê°„**: 1.0ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. React Hooks êµ¬í˜„** (~400ì¤„)

**useSensor Hook** (183ì¤„)
```typescript
export function useSensor(
  sensorType: SensorType,
  sessionId: string | null,
  options: UseSensorOptions = {},
): UseSensorResult
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ê°œë³„ ì„¼ì„œ ì œì–´
- ì„¼ì„œ ê°€ìš©ì„± ìë™ í™•ì¸
- ìµœì‹  ì„¼ì„œ ë°ì´í„° ì¶”ì 
- ì—ëŸ¬ ì²˜ë¦¬
- ìë™ ì‹œì‘/ì¤‘ì§€ (enabled ì˜µì…˜)
- ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ìë™ ì •ë¦¬

**useSensorCollection Hook** (213ì¤„)
```typescript
export function useSensorCollection(
  sessionId: string | null,
  options: UseSensorCollectionOptions = {},
): UseSensorCollectionResult
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ì—¬ëŸ¬ ì„¼ì„œ ë™ì‹œ ê´€ë¦¬
- ì„¼ì„œë³„ ì„¤ì • (sampleRate, enabled)
- ë°ì´í„° ë²„í¼ë§ (configurable buffer size)
- ë°°ì¹˜ ì½œë°± (bufferSize, batchInterval)
- ì‹¤í–‰ ì¤‘ì¸ ì„¼ì„œ ì¶”ì 
- ë²„í¼ í”ŒëŸ¬ì‹œ ë° í´ë¦¬ì–´

**2. ì„¼ì„œ ë°ì´í„° ë²„í¼ë§ ì‹œìŠ¤í…œ**

**SensorDataBuffer** (265ì¤„)
```typescript
export class SensorDataBuffer {
  add(data: SensorData): void;
  addBatch(data: SensorData[]): void;
  async flush(): Promise<SensorData[]>;
  clear(): void;
  start(): void;
  async stop(): Promise<void>;
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ë©”ëª¨ë¦¬ ê¸°ë°˜ ë°ì´í„° ë²„í¼ë§
- ìë™ í”ŒëŸ¬ì‹œ (ë²„í¼ í¬ê¸° ì´ˆê³¼ ì‹œ)
- íƒ€ì´ë¨¸ ê¸°ë°˜ í”ŒëŸ¬ì‹œ (ì„¤ì • ê°„ê²©)
- ì„¼ì„œ íƒ€ì…ë³„ í•„í„°ë§
- ì‹œê°„ ë²”ìœ„ í•„í„°ë§
- í†µê³„ ì¶”ì  (totalReceived, totalFlushed, flushCount)
- ë²„í¼ ìƒíƒœ ê´€ë¦¬

**3. ë°°ì¹˜ ì €ì¥ ì‹œìŠ¤í…œ**

**SensorDataBatchSaver** (235ì¤„)
```typescript
export class SensorDataBatchSaver {
  async saveBatch(batch: SensorData[]): Promise<BatchSaveResult>;
  async retryFailedBatches(): Promise<BatchSaveResult>;
  getFailedBatchesCount(): number;
  clearFailedBatches(): void;
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ë°°ì¹˜ ë°ì´í„° ì €ì¥
- ì‹¤íŒ¨ ì¬ì‹œë„ ë¡œì§ (exponential backoff)
- ì‹¤íŒ¨í•œ ë°°ì¹˜ í ê´€ë¦¬
- ìµœëŒ€ ì¬ì‹œë„ íšŸìˆ˜ ì„¤ì •
- í†µê³„ ì¶”ì  (totalBatches, totalSaved, totalFailed)
- ì •ì  í—¬í¼ ë©”ì„œë“œ:
  - groupBySensorType: ì„¼ì„œ íƒ€ì…ë³„ ê·¸ë£¹í™”
  - sortByTimestamp: íƒ€ì„ìŠ¤íƒ¬í”„ ì •ë ¬
  - filterByTimeRange: ì‹œê°„ ë²”ìœ„ í•„í„°

**4. í…ŒìŠ¤íŠ¸ ì‘ì„± ë° ê²€ì¦** (35ê°œ í…ŒìŠ¤íŠ¸)

**SensorDataBuffer.test.ts** (22ê°œ í…ŒìŠ¤íŠ¸)
- ì´ˆê¸°í™” ë° ì„¤ì •
- ë°ì´í„° ì¶”ê°€ (ë‹¨ì¼/ë°°ì¹˜)
- í”ŒëŸ¬ì‹œ ë™ì‘
- ìë™ í”ŒëŸ¬ì‹œ
- í†µê³„ ì¶”ì 
- í•„í„°ë§ (ì„¼ì„œ íƒ€ì…, ì‹œê°„ ë²”ìœ„)
- ì„¤ì • ê´€ë¦¬
- ì‹œì‘/ì¤‘ì§€

**SensorDataBatchSaver.test.ts** (13ê°œ í…ŒìŠ¤íŠ¸)
- ë°°ì¹˜ ì €ì¥
- í†µê³„ ì¶”ì 
- ì‹¤íŒ¨í•œ ë°°ì¹˜ ê´€ë¦¬
- ì¬ì‹œë„ ë¡œì§ (ì„±ê³µ/ì‹¤íŒ¨ ì¼€ì´ìŠ¤)
- ì •ì  ë©”ì„œë“œ
- ì½œë°± ì„¤ì •

### í…ŒìŠ¤íŠ¸ ê²°ê³¼
```
âœ… ì´ 149ê°œ í…ŒìŠ¤íŠ¸ í†µê³¼
  - ê¸°ì¡´ 114ê°œ í…ŒìŠ¤íŠ¸ (Phase 1-11)
  - ì‹ ê·œ 35ê°œ í…ŒìŠ¤íŠ¸ (Phase 12)

Test Suites: 12 passed, 12 total
Tests:       149 passed, 149 total
Time:        8.344 s
```

### íŒŒì¼ êµ¬ì¡°
```
src/
â”œâ”€â”€ hooks/
â”‚   â”œâ”€â”€ useSensor.ts                  # ê°œë³„ ì„¼ì„œ Hook
â”‚   â”œâ”€â”€ useSensorCollection.ts        # ë‹¤ì¤‘ ì„¼ì„œ Hook
â”‚   â””â”€â”€ index.ts                      # Export ëª¨ë“ˆ
â””â”€â”€ services/sensors/
    â”œâ”€â”€ SensorDataBuffer.ts           # ë²„í¼ë§ ì‹œìŠ¤í…œ
    â”œâ”€â”€ SensorDataBatchSaver.ts       # ë°°ì¹˜ ì €ì¥ ì‹œìŠ¤í…œ
    â”œâ”€â”€ index.ts                      # ì—…ë°ì´íŠ¸ëœ Export
    â””â”€â”€ __tests__/
        â”œâ”€â”€ SensorDataBuffer.test.ts
        â””â”€â”€ SensorDataBatchSaver.test.ts
```

### ì•„í‚¤í…ì²˜ íŒ¨í„´

**ë°ì´í„° íë¦„**:
```
ì„¼ì„œ â†’ SensorService â†’ useSensor/useSensorCollection 
  â†’ SensorDataBuffer â†’ onBatch ì½œë°± 
  â†’ SensorDataBatchSaver â†’ ì €ì¥ì†Œ (DB/File)
```

**ì£¼ìš” íŠ¹ì§•**:
- **ì„±ëŠ¥ ìµœì í™”**: ë²„í¼ë§ìœ¼ë¡œ I/O ìµœì†Œí™”
- **ì‹ ë¢°ì„±**: ì‹¤íŒ¨ ì¬ì‹œë„ ë° í ê´€ë¦¬
- **ìœ ì—°ì„±**: ì„¤ì • ê°€ëŠ¥í•œ ë²„í¼ í¬ê¸°, í”ŒëŸ¬ì‹œ ê°„ê²©
- **ê´€ì°° ê°€ëŠ¥ì„±**: ìƒì„¸í•œ í†µê³„ ë° ìƒíƒœ ì¶”ì 
- **íƒ€ì… ì•ˆì „ì„±**: TypeScript ì™„ì „ ì§€ì›

### ì‚¬ìš© ì˜ˆì‹œ

**ê°œë³„ ì„¼ì„œ ì‚¬ìš©**:
```typescript
const {isRunning, latestData, start, stop} = useSensor(
  SensorType.ACCELEROMETER,
  sessionId,
  {
    enabled: true,
    sampleRate: 100,
    onData: (data) => console.log(data),
  }
);
```

**ë‹¤ì¤‘ ì„¼ì„œ ì‚¬ìš©**:
```typescript
const {isRunning, runningSensors, dataBuffer} = useSensorCollection(
  sessionId,
  {
    enabled: true,
    sensors: {
      [SensorType.ACCELEROMETER]: {enabled: true, sampleRate: 100},
      [SensorType.GYROSCOPE]: {enabled: true, sampleRate: 100},
    },
    bufferSize: 100,
    batchInterval: 1000,
    onBatch: async (batch) => {
      await saver.saveBatch(batch);
    },
  }
);
```

### ë‹¤ìŒ ë‹¨ê³„ (Phase 13)
- WatermelonDB ì„¤ì¹˜ ë° ì„¤ì •
- ì„¼ì„œ ë°ì´í„° ìŠ¤í‚¤ë§ˆ ì •ì˜
- ë¡œì»¬ ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ êµ¬í˜„
- ì„¼ì„œ ë°ì´í„° CRUD ì‘ì—…

---


**ì™„ë£Œ ì‹œê°„**: 2025-11-12 04:00  
**ì†Œìš” ì‹œê°„**: 0.7ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. ì„¼ì„œ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜**
```bash
npm install react-native-sensors @react-native-community/geolocation
```
- react-native-sensors: ê°€ì†ë„ê³„, ìì´ë¡œìŠ¤ì½”í”„, ìê¸°ê³„ ì§€ì›
- @react-native-community/geolocation: GPS ìœ„ì¹˜ ì •ë³´

**2. í”Œë«í¼ ê¶Œí•œ ì„¤ì •**

**Android (AndroidManifest.xml)**
```xml
<!-- Sensor permissions -->
<uses-permission android:name="android.permission.HIGH_SAMPLING_RATE_SENSORS" />

<!-- Location permissions -->
<uses-permission android:name="android.permission.ACCESS_FINE_LOCATION" />
<uses-permission android:name="android.permission.ACCESS_COARSE_LOCATION" />

<!-- Audio recording permission -->
<uses-permission android:name="android.permission.RECORD_AUDIO" />
<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
<uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" />
```

**iOS (Info.plist)**
```xml
<key>NSLocationWhenInUseUsageDescription</key>
<string>KooDTX needs access to your location to record GPS data during data collection sessions.</string>
<key>NSMotionUsageDescription</key>
<string>KooDTX needs access to motion sensors to collect accelerometer, gyroscope, and magnetometer data.</string>
<key>NSMicrophoneUsageDescription</key>
<string>KooDTX needs access to your microphone to record audio during data collection sessions.</string>
```

**3. ì„¼ì„œ ì„œë¹„ìŠ¤ ì•„í‚¤í…ì²˜ êµ¬í˜„** (~1,050ì¤„)

**SensorService.ts** (93ì¤„) - ì¶”ìƒ ê¸°ë³¸ í´ë˜ìŠ¤
```typescript
export abstract class SensorService<T extends SensorData = SensorData> {
  abstract start(sessionId: string, onData: SensorDataCallback<T>, onError?: SensorErrorCallback): Promise<void>;
  abstract stop(): Promise<void>;
  abstract isAvailable(): Promise<boolean>;
  setSampleRate(rate: number): void;
  getSampleRate(): number;
}
```

**ê°œë³„ ì„¼ì„œ ì„œë¹„ìŠ¤ êµ¬í˜„**:
- **AccelerometerService.ts** (107ì¤„): 3ì¶• ê°€ì†ë„ê³„ ë°ì´í„° ìˆ˜ì§‘
- **GyroscopeService.ts** (105ì¤„): 3ì¶• ìì´ë¡œìŠ¤ì½”í”„ ë°ì´í„° ìˆ˜ì§‘
- **MagnetometerService.ts** (105ì¤„): 3ì¶• ìê¸°ê³„ ë°ì´í„° ìˆ˜ì§‘
- **GPSService.ts** (108ì¤„): GPS ìœ„ì¹˜ ì •ë³´ ìˆ˜ì§‘

**SensorManager.ts** (245ì¤„) - í†µí•© ì„¼ì„œ ê´€ë¦¬
```typescript
export class SensorManager {
  async checkAvailability(): Promise<SensorAvailability>;
  async startCollection(sessionId: string, enabledSensors: SensorType[], options?: SensorManagerOptions): Promise<void>;
  async stopCollection(): Promise<void>;
  getRunningSensors(): SensorType[];
  setSampleRate(sensorType: SensorType, rate: number): void;
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ì‹±ê¸€í†¤ íŒ¨í„´ìœ¼ë¡œ ì „ì—­ ì ‘ê·¼
- ì—¬ëŸ¬ ì„¼ì„œ ë™ì‹œ ì œì–´
- ì„¼ì„œë³„ ìƒ˜í”Œë§ ë ˆì´íŠ¸ ì„¤ì •
- í†µí•© ë°ì´í„° ì½œë°±
- ì„¼ì„œ ê°€ìš©ì„± í™•ì¸

**4. í…ŒìŠ¤íŠ¸ ì‘ì„± ë° ê²€ì¦** (19ê°œ í…ŒìŠ¤íŠ¸)
- **SensorManager.test.ts**: 10ê°œ í…ŒìŠ¤íŠ¸
  - ì´ˆê¸°í™” ë° ì„œë¹„ìŠ¤ ì ‘ê·¼
  - ìƒ˜í”Œë§ ë ˆì´íŠ¸ ê´€ë¦¬
  - ì‹±ê¸€í†¤ íŒ¨í„´ ê²€ì¦
  - ë¦¬ì†ŒìŠ¤ ì •ë¦¬
- **AccelerometerService.test.ts**: 9ê°œ í…ŒìŠ¤íŠ¸
  - ì„œë¹„ìŠ¤ ì´ˆê¸°í™”
  - ìƒ˜í”Œë§ ë ˆì´íŠ¸ ì„¤ì •/ê²€ì¦
  - ì‹œì‘/ì¤‘ì§€ ë™ì‘
  - ë¦¬ì†ŒìŠ¤ ì •ë¦¬

**5. Jest ì„¤ì • ê°œì„ **
- uuid íŒ¨í‚¤ì§€ ESM ì§€ì› ì¶”ê°€
```javascript
transformIgnorePatterns: [
  'node_modules/(?!(react-native|...|uuid)/)',
],
```

### í…ŒìŠ¤íŠ¸ ê²°ê³¼
```
âœ… ì´ 114ê°œ í…ŒìŠ¤íŠ¸ í†µê³¼
  - ê¸°ì¡´ 95ê°œ í…ŒìŠ¤íŠ¸ (Phase 1-10)
  - ì‹ ê·œ 19ê°œ í…ŒìŠ¤íŠ¸ (Phase 11 ì„¼ì„œ ì„œë¹„ìŠ¤)

Test Suites: 10 passed, 10 total
Tests:       114 passed, 114 total
Time:        20.516 s
```

### íŒŒì¼ êµ¬ì¡°
```
src/services/sensors/
â”œâ”€â”€ SensorService.ts          # ì¶”ìƒ ê¸°ë³¸ í´ë˜ìŠ¤
â”œâ”€â”€ AccelerometerService.ts   # ê°€ì†ë„ê³„ ì„œë¹„ìŠ¤
â”œâ”€â”€ GyroscopeService.ts       # ìì´ë¡œìŠ¤ì½”í”„ ì„œë¹„ìŠ¤
â”œâ”€â”€ MagnetometerService.ts    # ìê¸°ê³„ ì„œë¹„ìŠ¤
â”œâ”€â”€ GPSService.ts             # GPS ì„œë¹„ìŠ¤
â”œâ”€â”€ SensorManager.ts          # ì„¼ì„œ ë§¤ë‹ˆì €
â”œâ”€â”€ index.ts                  # Export ëª¨ë“ˆ
â””â”€â”€ __tests__/
    â”œâ”€â”€ SensorManager.test.ts
    â””â”€â”€ AccelerometerService.test.ts
```

### ë‹¤ìŒ ë‹¨ê³„ (Phase 12)
- ì„¼ì„œ ë°ì´í„° ì‹¤ì‹œê°„ ìˆ˜ì§‘ êµ¬í˜„
- ì„¼ì„œ Hook ì‘ì„± (useSensor, useSensorData)
- ë…¹ìŒ ì„¸ì…˜ê³¼ ì„¼ì„œ ì—°ë™
- ì„¼ì„œ ë°ì´í„° ë²„í¼ë§ ë° ë°°ì¹˜ ì €ì¥

---


**ìƒíƒœ**: âœ… ì™„ë£Œ
**ì‹œì‘ì¼**: 2025-11-12
**ì™„ë£Œì¼**: 2025-11-12
**ì‹¤ì œ ì†Œìš”**: 0.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: medium

### ì‘ì—… ë‚´ìš©

- [x] date-fns, lodash, uuid ì„¤ì¹˜
- [x] 6ê°œ ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ ì‘ì„±
- [x] TypeScript íƒ€ì… ì™„ë²½ ì ìš©
- [x] 31ê°œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± ë° í†µê³¼
- [x] ì „ì²´ 84ê°œ í…ŒìŠ¤íŠ¸ í†µê³¼

### ì§„í–‰ ë¡œê·¸

**2025-11-12 02:50**

- ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜ (4 packages)
  - date-fns: ë‚ ì§œ ì²˜ë¦¬
  - lodash: ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
  - uuid: ê³ ìœ  ID ìƒì„±
  - @types/lodash, @types/uuid

**2025-11-12 02:55**

- validation.ts ì‘ì„± (100ì¤„)
  - ì´ë©”ì¼, ì „í™”ë²ˆí˜¸, URL ê²€ì¦
  - ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ê²€ì¦
  - ë²”ìœ„, ê¸¸ì´ ê²€ì¦

**2025-11-12 03:00**

- formatting.ts ì‘ì„± (140ì¤„)
  - í†µí™”, ìˆ«ì, íŒŒì¼ í¬ê¸° í¬ë§·íŒ…
  - ë‚ ì§œ, ì „í™”ë²ˆí˜¸ í¬ë§·íŒ…
  - í…ìŠ¤íŠ¸ ë³€í™˜ (capitalize, truncate)

**2025-11-12 03:05**

- id.ts ì‘ì„± (85ì¤„)
  - UUID, Session ID, Device ID ìƒì„±
  - Recording ID, Data Point ID ìƒì„±
  - ID ê²€ì¦ í•¨ìˆ˜

**2025-11-12 03:10**

- array.ts ì‘ì„± (110ì¤„)
  - ì¤‘ë³µ ì œê±°, ì²­í¬, ì •ë ¬
  - ê·¸ë£¹í™”, ëœë¤ ì„ íƒ
  - first, last, isEmpty í—¬í¼

**2025-11-12 03:15**

- object.ts ì‘ì„± (130ì¤„)
  - Deep clone, merge, compare
  - Nested value get/set
  - Query string ë³€í™˜

**2025-11-12 03:20**

- 31ê°œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±
  - validation: 8ê°œ í…ŒìŠ¤íŠ¸
  - id: 8ê°œ í…ŒìŠ¤íŠ¸
  - array: 15ê°œ í…ŒìŠ¤íŠ¸
  - ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ âœ…

### ìœ í‹¸ë¦¬í‹° ëª¨ë“ˆ

#### 1. validation.ts (100ì¤„)

**í•¨ìˆ˜**:
- `isValidEmail()`: ì´ë©”ì¼ ê²€ì¦
- `isValidPhone()`: ì „í™”ë²ˆí˜¸ ê²€ì¦
- `isValidUrl()`: URL ê²€ì¦
- `isNotEmpty()`: ë¹ˆ ê°’ ì²´í¬
- `isInRange()`: ë²”ìœ„ ì²´í¬
- `meetsMinLength()`, `meetsMaxLength()`: ê¸¸ì´ ì²´í¬
- `validatePassword()`: ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ê²€ì¦

#### 2. formatting.ts (140ì¤„)

**í•¨ìˆ˜**:
- `formatCurrency()`: í†µí™” í¬ë§·
- `formatNumber()`: ìˆ«ì í¬ë§· (ì²œ ë‹¨ìœ„ êµ¬ë¶„)
- `formatFileSize()`: íŒŒì¼ í¬ê¸° (Bytes, KB, MB, GB)
- `formatPercentage()`: í¼ì„¼íŠ¸ í¬ë§·
- `formatPhoneNumber()`: ì „í™”ë²ˆí˜¸ í¬ë§·
- `formatDate()`: ë‚ ì§œ í¬ë§· (date-fns)
- `truncateText()`: í…ìŠ¤íŠ¸ ìë¥´ê¸°
- `capitalize()`, `toTitleCase()`: í…ìŠ¤íŠ¸ ë³€í™˜

#### 3. id.ts (85ì¤„)

**í•¨ìˆ˜**:
- `generateUUID()`: UUID v4 ìƒì„±
- `generateSessionId()`: ì„¸ì…˜ ID
- `generateDeviceId()`: ë””ë°”ì´ìŠ¤ ID
- `generateRecordingId()`: ë…¹í™” ID
- `generateDataPointId()`: ë°ì´í„° í¬ì¸íŠ¸ ID
- `generateShortId()`: ì§§ì€ ID (8ì)
- `generateNumericId()`: ìˆ«ì ID
- `isValidUUID()`: UUID ê²€ì¦

#### 4. array.ts (110ì¤„)

**í•¨ìˆ˜**:
- `removeDuplicates()`, `removeDuplicatesByKey()`: ì¤‘ë³µ ì œê±°
- `chunkArray()`: ë°°ì—´ ë¶„í• 
- `sortBy()`: ì •ë ¬
- `groupBy()`: ê·¸ë£¹í™”
- `compact()`: falsy ê°’ ì œê±°
- `getRandomElement()`, `getRandomElements()`: ëœë¤ ì„ íƒ
- `first()`, `last()`, `isEmpty()`: í—¬í¼

#### 5. object.ts (130ì¤„)

**í•¨ìˆ˜**:
- `removeKeys()`, `pickKeys()`: í‚¤ í•„í„°ë§
- `deepClone()`: ê¹Šì€ ë³µì‚¬
- `deepMerge()`: ê¹Šì€ ë³‘í•©
- `areEqual()`: ê¹Šì€ ë¹„êµ
- `isEmptyObject()`: ë¹ˆ ê°ì²´ ì²´í¬
- `getNestedValue()`, `setNestedValue()`: ì¤‘ì²© ê°’ ì ‘ê·¼
- `toQueryString()`: ì¿¼ë¦¬ ë¬¸ìì—´ ë³€í™˜

#### 6. date.ts (94ì¤„ - Phase 7)

**í•¨ìˆ˜**:
- `formatTimestamp()`: íƒ€ì„ìŠ¤íƒ¬í”„ í¬ë§·
- `calculateDuration()`, `formatDuration()`: ì‹œê°„ ê³„ì‚°
- `getCurrentTimestamp()`: í˜„ì¬ ì‹œê°„
- `isToday()`: ì˜¤ëŠ˜ ì—¬ë¶€
- `getRelativeTime()`: ìƒëŒ€ ì‹œê°„ (X ago)

### í…ŒìŠ¤íŠ¸ ê²°ê³¼

âœ… **ì „ì²´ 84ê°œ í…ŒìŠ¤íŠ¸ í†µê³¼**

```
Test Suites: 8 passed
Tests:       84 passed, 84 total
Time:        7.769 s
```

#### ì‹ ê·œ í…ŒìŠ¤íŠ¸ (31ê°œ)

- **validation.test.ts**: 8ê°œ í…ŒìŠ¤íŠ¸
  - Email, phone, URL ê²€ì¦
  - ë¹„ë°€ë²ˆí˜¸ ê°•ë„ ê²€ì¦
  - ë²”ìœ„ ë° ê¸¸ì´ ê²€ì¦

- **id.test.ts**: 8ê°œ í…ŒìŠ¤íŠ¸
  - UUID ìƒì„± ë° ê²€ì¦
  - Session, Device, Recording ID
  - ê³ ìœ ì„± í…ŒìŠ¤íŠ¸

- **array.test.ts**: 15ê°œ í…ŒìŠ¤íŠ¸
  - ì¤‘ë³µ ì œê±°, ì •ë ¬, ê·¸ë£¹í™”
  - ëœë¤ ì„ íƒ, ë°°ì—´ í—¬í¼
  - ë¹ˆ ë°°ì—´ ì²˜ë¦¬

### ì‚°ì¶œë¬¼

- **date-fns, lodash, uuid**: ìœ í‹¸ë¦¬í‹° ë¼ì´ë¸ŒëŸ¬ë¦¬
- **src/utils/validation.ts**: ê²€ì¦ í•¨ìˆ˜ (100ì¤„)
- **src/utils/formatting.ts**: í¬ë§·íŒ… í•¨ìˆ˜ (140ì¤„)
- **src/utils/id.ts**: ID ìƒì„± í•¨ìˆ˜ (85ì¤„)
- **src/utils/array.ts**: ë°°ì—´ ìœ í‹¸ë¦¬í‹° (110ì¤„)
- **src/utils/object.ts**: ê°ì²´ ìœ í‹¸ë¦¬í‹° (130ì¤„)
- **src/utils/index.ts**: ì¤‘ì•™ export (20ì¤„)
- **3ê°œ í…ŒìŠ¤íŠ¸ íŒŒì¼**: ì´ 31ê°œ í…ŒìŠ¤íŠ¸
- **ì´ ì½”ë“œ**: ~800ì¤„ (utils + tests)

### ì°¸ê³ ì‚¬í•­

- ëª¨ë“  í•¨ìˆ˜ TypeScript íƒ€ì… ì•ˆì „
- lodashë¡œ ì„±ëŠ¥ ìµœì í™”
- date-fnsë¡œ ë‚ ì§œ ì²˜ë¦¬ ê°„ì†Œí™”
- uuidë¡œ ì•ˆì „í•œ ê³ ìœ  ID ìƒì„±
- 100% í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ

### ë‹¤ìŒ Phase

â†’ Phase 11: ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ ì¤€ë¹„

---

## ì£¼ê°„ ëª©í‘œ

### Week 1 (2025-11-11 ~ 2025-11-17)

- [ ] Phase 1-10: í”„ë¡œì íŠ¸ ì…‹ì—… ë° ê¸°ë³¸ ì¸í”„ë¼
- [ ] ê°œë°œ í™˜ê²½ ì™„ì „ êµ¬ì¶•
- [ ] React Native í”„ë¡œì íŠ¸ ì´ˆê¸°í™”
- [ ] ê¸°ë³¸ í´ë” êµ¬ì¡° ìƒì„±

---

## í†µê³„

- **ì´ ì‘ì—… ì‹œê°„**: 9.2ì‹œê°„
- **ì™„ë£Œìœ¨**: 5.3% (16/300)
- **ì´ë²ˆ ì£¼ ëª©í‘œ ì™„ë£Œìœ¨**: 160% (16/10)

---

## ë‹¤ìŒ ë‹¨ê³„

1. ~~Phase 1 ì™„ë£Œ (Git ì„¤ì •)~~ âœ…
2. ~~Phase 2 ì™„ë£Œ (Node.js ë° ê°œë°œ ë„êµ¬ ì„¤ì¹˜)~~ âœ…
3. ~~Phase 3 ì™„ë£Œ (React Native í”„ë¡œì íŠ¸ ì´ˆê¸°í™”)~~ âœ…
4. ~~Phase 4 ì™„ë£Œ (TypeScript ì„¤ì • ê°•í™”)~~ âœ…
5. ~~Phase 5 ì™„ë£Œ (ESLint ë° Prettier ì„¤ì •)~~ âœ…
6. ~~Phase 6 ì™„ë£Œ (í”„ë¡œì íŠ¸ í´ë” êµ¬ì¡° ìƒì„±)~~ âœ…
7. ~~Phase 7 ì™„ë£Œ (Jest ë° í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •)~~ âœ…
8. ~~Phase 8 ì™„ë£Œ (Zustand ìƒíƒœ ê´€ë¦¬ ì„¤ì¹˜)~~ âœ…
9. ~~Phase 9 ì™„ë£Œ (React Native Paper UI ë¼ì´ë¸ŒëŸ¬ë¦¬)~~ âœ…
10. Phase 10 ì‹œì‘ (í”„ë¡œì íŠ¸ ë¬¸ì„œí™” ì™„ì„±)
9. Phase 9 ì‹œì‘ (React Navigation ì„¤ì¹˜)
8. Phase 8 ì‹œì‘ (Zustand ìƒíƒœ ê´€ë¦¬ ì„¤ì •)

---

## ì°¸ê³  ë¬¸ì„œ

- [ìƒì„¸ ê°œë°œ ê³„íš](./detailed_phases_plan.json)
- [ì›ë³¸ ì•„í‚¤í…ì²˜ ê³„íš](./REACT_NATIVE_LOCAL_FIRST_ARCHITECTURE_PLAN.md)

---

_ìµœì¢… ì—…ë°ì´íŠ¸: 2025-11-12 02:45_

## Phase 21: ì˜¤ë””ì˜¤ ë…¹ìŒ UI í†µí•© ë° ì¬ìƒ ê¸°ëŠ¥ âœ…

**ì™„ë£Œ ì‹œê°„**: 2025-11-12 11:30
**ì†Œìš” ì‹œê°„**: 0.5ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. RecordingScreenì— ì˜¤ë””ì˜¤ ë…¹ìŒ í†µí•©**

RecordingScreenì„ ì—…ë°ì´íŠ¸í•˜ì—¬ ì˜¤ë””ì˜¤ ë…¹ìŒ ê¸°ëŠ¥ì„ í†µí•©:

```typescript
// useAudioRecording Hook í†µí•©
const {
  isRecording: isAudioRecording,
  recordingDuration: audioDuration,
  start: startAudio,
  stop: stopAudio,
  error: audioError,
} = useAudioRecording({
  sessionId: sessionId || undefined,
  sampleRate: 44100,
  channels: 2,
  onError: err => {
    console.error('Audio recording error:', err);
  },
});
```

**ì£¼ìš” ê¸°ëŠ¥**:
- âœ… AUDIO ì„¼ì„œ ì²´í¬ë°•ìŠ¤ ì¶”ê°€
- âœ… ë§ˆì´í¬ ê¶Œí•œ ì²´í¬ ë° ë°°ë„ˆ í‘œì‹œ
- âœ… ì˜¤ë””ì˜¤ ë…¹ìŒ ì‹œì‘/ì¤‘ì§€ í†µí•©
- âœ… ì‹¤ì‹œê°„ ë…¹ìŒ ì‹œê°„ í‘œì‹œ
- âœ… ì„¼ì„œ ë…¹ìŒê³¼ ë™ê¸°í™”

**ê¶Œí•œ ê´€ë¦¬**:
```typescript
const needsGPS = enabledSensors[SensorType.GPS];
const needsAudio = enabledSensors[SensorType.AUDIO];

if ((needsGPS && permissions.location !== 'granted') ||
    (needsAudio && permissions.microphone !== 'granted')) {
  const granted = await requestPermissions();
  if (!granted) {
    openSettings();
    return;
  }
}
```

**ë…¹ìŒ ì‹œì‘ ë¡œì§**:
```typescript
// Start sensor collection (excluding AUDIO as it's handled separately)
const sensorsToStart = Object.entries(enabledSensors)
  .filter(([type, enabled]) => enabled && type !== SensorType.AUDIO)
  .map(([type]) => type as SensorType);

if (sensorsToStart.length > 0) {
  await start(sensorsToStart);
}

// Start audio recording if enabled
if (enabledSensors[SensorType.AUDIO]) {
  await startAudio();
}
```

**ë…¹ìŒ ì¤‘ì§€ ë¡œì§**:
```typescript
// Stop sensor collection
if (runningSensors.length > 0) {
  await stop();
}

// Stop audio recording if it's running
if (isAudioRecording) {
  await stopAudio();
}
```

**ì‹¤ì‹œê°„ í‘œì‹œ**:
```typescript
{/* Audio Recording Status */}
{isAudioRecording && (
  <View style={[styles.dataItem, styles.audioStatusItem]}>
    <Text variant="titleSmall">ğŸ¤ ì˜¤ë””ì˜¤ ë…¹ìŒ ì¤‘</Text>
    <Text variant="bodySmall">
      ë…¹ìŒ ì‹œê°„: {Math.floor(audioDuration / 1000)}ì´ˆ
    </Text>
  </View>
)}
```

**2. SessionDetailScreenì— ì˜¤ë””ì˜¤ ì¬ìƒ ê¸°ëŠ¥ ì¶”ê°€**

ì˜¤ë””ì˜¤ ë…¹ìŒ ëª©ë¡ ë° ì¬ìƒ ê¸°ëŠ¥ ì¶”ê°€:

```typescript
// Audio recordings state
const [audioRecordings, setAudioRecordings] = useState<AudioRecording[]>([]);
const [playingAudioId, setPlayingAudioId] = useState<string | null>(null);

// Load audio recordings
const audioData = await audioRepo.findBySession(sessionId);
setAudioRecordings(audioData);
```

**ì¬ìƒ/ì¤‘ì§€ ê¸°ëŠ¥**:
```typescript
const toggleAudioPlayback = useCallback(async (recording: AudioRecording) => {
  if (playingAudioId === recording.id) {
    // Stop current playback
    await audioService.stopPlayer();
    setPlayingAudioId(null);
  } else {
    // Stop any current playback first
    if (playingAudioId) {
      await audioService.stopPlayer();
    }

    // Start new playback
    await audioService.startPlayer(recording.filePath);
    setPlayingAudioId(recording.id);
  }
}, [playingAudioId, audioService]);
```

**ì˜¤ë””ì˜¤ íŒŒì¼ ê³µìœ **:
```typescript
const shareAudioFile = useCallback(async (recording: AudioRecording) => {
  // Check if file exists
  const fileExists = await RNFS.exists(recording.filePath);
  if (!fileExists) {
    Alert.alert('ì˜¤ë¥˜', 'ì˜¤ë””ì˜¤ íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
    return;
  }

  await Share.open({
    title: 'ì˜¤ë””ì˜¤ íŒŒì¼ ê³µìœ ',
    url: `file://${recording.filePath}`,
    type: 'audio/m4a',
  });
}, []);
```

**ì˜¤ë””ì˜¤ UI í‘œì‹œ**:
```typescript
{/* Audio Recordings */}
{audioRecordings.length > 0 && (
  <Card style={styles.card}>
    <Card.Content>
      <Text variant="headlineSmall">ì˜¤ë””ì˜¤ ë…¹ìŒ</Text>
      <Divider style={styles.divider} />

      <View style={styles.statsOverview}>
        <Text variant="bodyMedium">
          ë…¹ìŒ íŒŒì¼: {audioRecordings.length}ê°œ
        </Text>
      </View>

      {audioRecordings.map((recording) => {
        const isPlaying = playingAudioId === recording.id;
        const durationSeconds = Math.floor(recording.duration / 1000);
        const fileSizeMB = (recording.fileSize / (1024 * 1024)).toFixed(2);

        return (
          <Card key={recording.id} style={styles.audioCard}>
            <List.Item
              title={formatTimestamp(recording.timestamp)}
              description={`${durationSeconds}ì´ˆ Â· ${fileSizeMB}MB Â· ${recording.format}`}
              left={() => (
                <IconButton
                  icon={isPlaying ? 'stop' : 'play'}
                  size={24}
                  onPress={() => toggleAudioPlayback(recording)}
                />
              )}
              right={() => (
                <IconButton
                  icon="share-variant"
                  size={20}
                  onPress={() => shareAudioFile(recording)}
                />
              )}
            />
          </Card>
        );
      })}
    </Card.Content>
  </Card>
)}
```

**ì„¸ì…˜ ì‚­ì œ ì‹œ ì˜¤ë””ì˜¤ íŒŒì¼ ì •ë¦¬**:
```typescript
// Stop any playing audio
if (playingAudioId) {
  await audioService.stopPlayer();
}

// Delete audio recordings and files
for (const recording of audioRecordings) {
  try {
    const fileExists = await RNFS.exists(recording.filePath);
    if (fileExists) {
      await RNFS.unlink(recording.filePath);
    }
  } catch (fileError) {
    console.error('Failed to delete audio file:', fileError);
  }
}
await audioRepo.deleteBySession(sessionId);
```

**ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì •ë¦¬**:
```typescript
// Cleanup: stop audio on unmount
useEffect(() => {
  return () => {
    if (playingAudioId) {
      audioService.stopPlayer().catch(console.error);
    }
  };
}, [playingAudioId, audioService]);
```

### ì—…ë°ì´íŠ¸ëœ íŒŒì¼

- **src/screens/RecordingScreen.tsx** (505ì¤„): 
  - useAudioRecording Hook í†µí•©
  - AUDIO ì„¼ì„œ ì²´í¬ë°•ìŠ¤ ì¶”ê°€
  - ë§ˆì´í¬ ê¶Œí•œ ë°°ë„ˆ ì¶”ê°€
  - ì˜¤ë””ì˜¤ ë…¹ìŒ ì‹œì‘/ì¤‘ì§€ ë¡œì§
  - ì‹¤ì‹œê°„ ë…¹ìŒ ì‹œê°„ í‘œì‹œ
  - ì˜¤ë””ì˜¤ ì—ëŸ¬ í‘œì‹œ

- **src/screens/SessionDetailScreen.tsx** (778ì¤„):
  - AudioRecording ëª¨ë¸ import
  - AudioRecordingRepository í†µí•©
  - AudioRecorderService í†µí•©
  - ì˜¤ë””ì˜¤ ë…¹ìŒ ëª©ë¡ í‘œì‹œ
  - ì¬ìƒ/ì¤‘ì§€ ë²„íŠ¼
  - íŒŒì¼ ê³µìœ  ê¸°ëŠ¥
  - ì„¸ì…˜ ì‚­ì œ ì‹œ ì˜¤ë””ì˜¤ íŒŒì¼ ì •ë¦¬
  - ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ì¬ìƒ ì¤‘ì§€

### ê¸°ëŠ¥ íë¦„ë„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ RecordingScreen - ì˜¤ë””ì˜¤ ë…¹ìŒ                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. AUDIO ì„¼ì„œ ì²´í¬ë°•ìŠ¤ ì„ íƒ                   â”‚
â”‚    â†“                                         â”‚
â”‚ 2. ë§ˆì´í¬ ê¶Œí•œ í™•ì¸                          â”‚
â”‚    - ê¶Œí•œ ì—†ìœ¼ë©´: ê¶Œí•œ ìš”ì²­ ë°°ë„ˆ í‘œì‹œ         â”‚
â”‚    - ê¶Œí•œ ìˆìœ¼ë©´: ë…¹ìŒ ì‹œì‘ ê°€ëŠ¥              â”‚
â”‚    â†“                                         â”‚
â”‚ 3. "ë…¹ìŒ ì‹œì‘" ë²„íŠ¼ í´ë¦­                     â”‚
â”‚    â†“                                         â”‚
â”‚ 4. useAudioRecording.start()                â”‚
â”‚    - AudioRecorderService.startRecording()  â”‚
â”‚    - íŒŒì¼ ê²½ë¡œ ìƒì„±                          â”‚
â”‚    - ë…¹ìŒ ì‹œì‘                               â”‚
â”‚    â†“                                         â”‚
â”‚ 5. ì‹¤ì‹œê°„ í‘œì‹œ                               â”‚
â”‚    - ğŸ¤ ì˜¤ë””ì˜¤ ë…¹ìŒ ì¤‘                       â”‚
â”‚    - ë…¹ìŒ ì‹œê°„: Xs                           â”‚
â”‚    â†“                                         â”‚
â”‚ 6. "ë…¹ìŒ ì¤‘ì§€" ë²„íŠ¼ í´ë¦­                     â”‚
â”‚    â†“                                         â”‚
â”‚ 7. useAudioRecording.stop()                 â”‚
â”‚    - AudioRecorderService.stopRecording()   â”‚
â”‚    - AudioRecordingRepository.create()      â”‚
â”‚    - ë©”íƒ€ë°ì´í„° ì €ì¥                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SessionDetailScreen - ì˜¤ë””ì˜¤ ì¬ìƒ             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ì„¸ì…˜ ìƒì„¸ í™”ë©´ ì§„ì…                       â”‚
â”‚    â†“                                         â”‚
â”‚ 2. AudioRecordingRepository.findBySession() â”‚
â”‚    - ì˜¤ë””ì˜¤ ë…¹ìŒ ëª©ë¡ ë¡œë“œ                   â”‚
â”‚    â†“                                         â”‚
â”‚ 3. ì˜¤ë””ì˜¤ ë…¹ìŒ ì¹´ë“œ í‘œì‹œ                     â”‚
â”‚    - íƒ€ì„ìŠ¤íƒ¬í”„                              â”‚
â”‚    - ê¸¸ì´ (ì´ˆ)                               â”‚
â”‚    - íŒŒì¼ í¬ê¸° (MB)                          â”‚
â”‚    - í¬ë§· (m4a)                              â”‚
â”‚    â†“                                         â”‚
â”‚ 4. Play ë²„íŠ¼ í´ë¦­                            â”‚
â”‚    â†“                                         â”‚
â”‚ 5. AudioRecorderService.startPlayer()       â”‚
â”‚    - ì˜¤ë””ì˜¤ íŒŒì¼ ì¬ìƒ                        â”‚
â”‚    - Play ì•„ì´ì½˜ â†’ Stop ì•„ì´ì½˜               â”‚
â”‚    â†“                                         â”‚
â”‚ 6. Stop ë²„íŠ¼ í´ë¦­ ë˜ëŠ” ì¬ìƒ ì™„ë£Œ             â”‚
â”‚    â†“                                         â”‚
â”‚ 7. AudioRecorderService.stopPlayer()        â”‚
â”‚    - ì¬ìƒ ì¤‘ì§€                               â”‚
â”‚    - Stop ì•„ì´ì½˜ â†’ Play ì•„ì´ì½˜               â”‚
â”‚    â†“                                         â”‚
â”‚ 8. Share ë²„íŠ¼ í´ë¦­ (ì„ íƒì‚¬í•­)                â”‚
â”‚    â†“                                         â”‚
â”‚ 9. react-native-share                       â”‚
â”‚    - ë„¤ì´í‹°ë¸Œ ê³µìœ  ì‹œíŠ¸ í‘œì‹œ                 â”‚
â”‚    - ë‹¤ë¥¸ ì•±ìœ¼ë¡œ ì˜¤ë””ì˜¤ íŒŒì¼ ê³µìœ             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### UI/UX ê°œì„ ì‚¬í•­

**RecordingScreen**:
- âœ… AUDIO ì„¼ì„œ ì²´í¬ë°•ìŠ¤ ì¶”ê°€ (ì„¼ì„œ ëª©ë¡ì— í¬í•¨)
- âœ… ë§ˆì´í¬ ê¶Œí•œ ë°°ë„ˆ (GPS ê¶Œí•œ ë°°ë„ˆì™€ ë™ì¼í•œ ìŠ¤íƒ€ì¼)
- âœ… ì‹¤ì‹œê°„ ì˜¤ë””ì˜¤ ë…¹ìŒ ìƒíƒœ í‘œì‹œ (ë…¹ìŒ ì‹œê°„ í¬í•¨)
- âœ… ì˜¤ë””ì˜¤ ì—ëŸ¬ ë³„ë„ í‘œì‹œ (ì„¼ì„œ ì—ëŸ¬ì™€ êµ¬ë¶„)
- âœ… ë…¹ìŒ ì¤‘ ìƒíƒœ ì‹œê°í™” (ë…¹ìƒ‰ ë°°ê²½)

**SessionDetailScreen**:
- âœ… ì˜¤ë””ì˜¤ ë…¹ìŒ ì„¹ì…˜ ì¶”ê°€ (ì„¼ì„œ í†µê³„ ë‹¤ìŒì— í‘œì‹œ)
- âœ… ì˜¤ë””ì˜¤ íŒŒì¼ ì¹´ë“œ (íŒŒì¼ ì •ë³´ ë° ì»¨íŠ¸ë¡¤ ë²„íŠ¼)
- âœ… Play/Stop í† ê¸€ ë²„íŠ¼ (ì•„ì´ì½˜ ë³€ê²½)
- âœ… Share ë²„íŠ¼ (ì˜¤ë””ì˜¤ íŒŒì¼ ê³µìœ )
- âœ… ì„¸ì…˜ ì‚­ì œ ì‹œ ì˜¤ë””ì˜¤ íŒŒì¼ë„ í•¨ê»˜ ì‚­ì œ

### ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

**RecordingScreen ì˜¤ë””ì˜¤ í†µí•©**:
- AUDIO ì„¼ì„œëŠ” SensorManagerë¥¼ í†µí•˜ì§€ ì•Šê³  ì§ì ‘ ê´€ë¦¬
- useAudioRecording Hookìœ¼ë¡œ ê°„í¸í•œ ìƒíƒœ ê´€ë¦¬
- ì„¼ì„œ ë…¹ìŒê³¼ ë…ë¦½ì ìœ¼ë¡œ ì‹œì‘/ì¤‘ì§€
- ë§ˆì´í¬ ê¶Œí•œì€ usePermissions Hookì—ì„œ í†µí•© ê´€ë¦¬

**SessionDetailScreen ì˜¤ë””ì˜¤ ì¬ìƒ**:
- AudioRecorderServiceì˜ startPlayer/stopPlayer ì‚¬ìš©
- í•œ ë²ˆì— í•˜ë‚˜ì˜ ì˜¤ë””ì˜¤ë§Œ ì¬ìƒ (ë‹¤ë¥¸ ì˜¤ë””ì˜¤ ì¬ìƒ ì‹œ ê¸°ì¡´ ì¤‘ì§€)
- ì»´í¬ë„ŒíŠ¸ ì–¸ë§ˆìš´íŠ¸ ì‹œ ìë™ ì •ë¦¬
- íŒŒì¼ ì¡´ì¬ í™•ì¸ í›„ ê³µìœ 

**ê¶Œí•œ ì²˜ë¦¬**:
- Android: `RECORD_AUDIO` (AndroidManifest.xmlì— ì´ë¯¸ ì¶”ê°€ë¨)
- iOS: `NSMicrophoneUsageDescription` (Info.plistì— ì¶”ê°€ í•„ìš”)
- usePermissions Hookì— ì´ë¯¸ ë§ˆì´í¬ ê¶Œí•œ ë¡œì§ í¬í•¨

### ë‹¤ìŒ ë‹¨ê³„ (Phase 22)
- ë„¤íŠ¸ì›Œí¬ ë™ê¸°í™” ì¸í”„ë¼ êµ¬ì¶•
- API í´ë¼ì´ì–¸íŠ¸ ì„¤ì •
- ë°ì´í„° ì—…ë¡œë“œ í ê´€ë¦¬
- ë°±ê·¸ë¼ìš´ë“œ ë™ê¸°í™”

---

## Phase 22: ë„¤íŠ¸ì›Œí¬ ë™ê¸°í™” ì¸í”„ë¼ êµ¬ì¶• âœ…

**ì™„ë£Œ ì‹œê°„**: 2025-11-12 12:00
**ì†Œìš” ì‹œê°„**: 1.0ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. ë„¤íŠ¸ì›Œí¬ ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì¹˜**

```bash
npm install axios @react-native-community/netinfo
```

- **axios**: HTTP í´ë¼ì´ì–¸íŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
- **@react-native-community/netinfo**: ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê°ì§€

**2. ApiClient êµ¬í˜„** (420ì¤„)

Axios ê¸°ë°˜ HTTP API í´ë¼ì´ì–¸íŠ¸ (Singleton Pattern)

```typescript
export class ApiClient {
  async get<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>>;
  async post<T>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>>;
  async put<T>(url: string, data?: any, config?: AxiosRequestConfig): Promise<ApiResponse<T>>;
  async delete<T>(url: string, config?: AxiosRequestConfig): Promise<ApiResponse<T>>;
  async uploadFile<T>(url: string, formData: FormData, onProgress?): Promise<ApiResponse<T>>;
  
  setAuthToken(token: string | null): void;
  getAuthToken(): string | null;
}
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ğŸŒ HTTP ìš”ì²­ (GET, POST, PUT, DELETE)
- ğŸ“ íŒŒì¼ ì—…ë¡œë“œ (multipart/form-data)
- ğŸ”‘ ì¸ì¦ í† í° ê´€ë¦¬
- ğŸ”„ ìë™ ì¬ì‹œë„ ë¡œì§ (ì§€ìˆ˜ ë°±ì˜¤í”„)
- â±ï¸ íƒ€ì„ì•„ì›ƒ ì„¤ì • (ê¸°ë³¸ 30ì´ˆ)
- ğŸ“Š ìš”ì²­/ì‘ë‹µ ì¸í„°ì…‰í„°
- âŒ í†µí•© ì—ëŸ¬ í•¸ë“¤ë§

**ì¬ì‹œë„ ë¡œì§**:
```typescript
// ì¬ì‹œë„ ê°€ëŠ¥í•œ ë©”ì„œë“œ: GET, PUT, DELETE
// ì¬ì‹œë„ ê°€ëŠ¥í•œ ìƒíƒœ ì½”ë“œ: 408, 429, 500, 502, 503, 504
// ìµœëŒ€ ì¬ì‹œë„: 3íšŒ
// ì§€ìˆ˜ ë°±ì˜¤í”„: 1ì´ˆ * 2^retryCount
```

**ì¸í„°ì…‰í„°**:
```typescript
// ìš”ì²­ ì¸í„°ì…‰í„°
- Authorization í—¤ë” ìë™ ì¶”ê°€
- ìš”ì²­ ë¡œê¹…

// ì‘ë‹µ ì¸í„°ì…‰í„°
- ì‘ë‹µ ë¡œê¹…
- ì—ëŸ¬ ì¬ì‹œë„ ì²˜ë¦¬
```

**ì—ëŸ¬ í•¸ë“¤ë§**:
```typescript
export interface ApiError {
  code: string;           // ì—ëŸ¬ ì½”ë“œ (e.g., "NETWORK_ERROR", "HTTP_404")
  message: string;        // ì‚¬ìš©ì ì¹œí™”ì  ë©”ì‹œì§€
  details?: any;          // ì›ë³¸ ì—ëŸ¬ ë°ì´í„°
}
```

**3. useNetworkStatus Hook êµ¬í˜„** (90ì¤„)

ë„¤íŠ¸ì›Œí¬ ì—°ê²° ìƒíƒœë¥¼ ê°ì§€í•˜ëŠ” React Hook

```typescript
export function useNetworkStatus(): UseNetworkStatusResult {
  return {
    isConnected: boolean;              // ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì—¬ë¶€
    connectionType: ConnectionType;     // ì—°ê²° íƒ€ì… (wifi, cellular, none, etc.)
    isInternetReachable: boolean | null;  // ì¸í„°ë„· ì ‘ê·¼ ê°€ëŠ¥ ì—¬ë¶€
    refresh: () => Promise<void>;      // ìƒíƒœ ê°±ì‹ 
  };
}
```

**ì—°ê²° íƒ€ì…**:
- `wifi`: Wi-Fi ì—°ê²°
- `cellular`: ëª¨ë°”ì¼ ë°ì´í„°
- `ethernet`: ì´ë”ë„·
- `none`: ì—°ê²° ì—†ìŒ
- `unknown`: ì•Œ ìˆ˜ ì—†ìŒ

**ì‚¬ìš© ì˜ˆì œ**:
```typescript
const {isConnected, connectionType, isInternetReachable} = useNetworkStatus();

useEffect(() => {
  if (isConnected && connectionType === 'wifi') {
    // Wi-Fi ì—°ê²° ì‹œ ë™ê¸°í™”
    syncData();
  }
}, [isConnected, connectionType]);
```

**4. UploadQueue êµ¬í˜„** (370ì¤„)

ì—…ë¡œë“œ ì‘ì—…ì„ íì‰í•˜ê³  ìˆœì°¨ ì²˜ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ (Singleton Pattern)

```typescript
export class UploadQueue {
  async addTask(type: UploadTaskType, data: any, maxRetries?: number): Promise<string>;
  registerHandler(type: UploadTaskType, handler: UploadHandler): void;
  setOnProgressCallback(callback: (progress: UploadProgress) => void): void;
  
  getProgress(): UploadProgress;
  clearCompleted(): void;
  retryFailed(): void;
  clear(): void;
  pause(): void;
  resume(): void;
}
```

**ì—…ë¡œë“œ ì‘ì—… íƒ€ì…**:
```typescript
enum UploadTaskType {
  SESSION = 'SESSION',           // ì„¸ì…˜ ë©”íƒ€ë°ì´í„°
  SENSOR_DATA = 'SENSOR_DATA',   // ì„¼ì„œ ë°ì´í„°
  AUDIO_FILE = 'AUDIO_FILE',     // ì˜¤ë””ì˜¤ íŒŒì¼
}
```

**ì—…ë¡œë“œ ì‘ì—… ìƒíƒœ**:
```typescript
enum UploadTaskStatus {
  PENDING = 'PENDING',           // ëŒ€ê¸° ì¤‘
  IN_PROGRESS = 'IN_PROGRESS',   // ì§„í–‰ ì¤‘
  COMPLETED = 'COMPLETED',       // ì™„ë£Œ
  FAILED = 'FAILED',             // ì‹¤íŒ¨
}
```

**ì—…ë¡œë“œ ì§„í–‰ ìƒíƒœ**:
```typescript
interface UploadProgress {
  totalTasks: number;       // ì „ì²´ ì‘ì—… ìˆ˜
  completedTasks: number;   // ì™„ë£Œëœ ì‘ì—… ìˆ˜
  failedTasks: number;      // ì‹¤íŒ¨í•œ ì‘ì—… ìˆ˜
  inProgressTasks: number;  // ì§„í–‰ ì¤‘ì¸ ì‘ì—… ìˆ˜
  pendingTasks: number;     // ëŒ€ê¸° ì¤‘ì¸ ì‘ì—… ìˆ˜
}
```

**í•¸ë“¤ëŸ¬ ë“±ë¡ ë° ì‚¬ìš©**:
```typescript
const queue = getUploadQueue();

// í•¸ë“¤ëŸ¬ ë“±ë¡
queue.registerHandler(UploadTaskType.SESSION, async (task) => {
  const session = task.data;
  await apiClient.post('/sessions', session);
});

// ì‘ì—… ì¶”ê°€
await queue.addTask(UploadTaskType.SESSION, sessionData, 3);

// ì§„í–‰ ìƒíƒœ êµ¬ë…
queue.setOnProgressCallback((progress) => {
  console.log(`Progress: ${progress.completedTasks}/${progress.totalTasks}`);
});
```

**5. SyncManager êµ¬í˜„** (380ì¤„)

ë°ì´í„° ë™ê¸°í™”ë¥¼ ê´€ë¦¬í•˜ëŠ” ì„œë¹„ìŠ¤ (Singleton Pattern)

```typescript
export class SyncManager {
  async start(): Promise<void>;
  stop(): void;
  async sync(): Promise<void>;
  async getStatus(): Promise<SyncStatus>;
  updateOptions(options: Partial<SyncOptions>): void;
}
```

**ë™ê¸°í™” ì˜µì…˜**:
```typescript
interface SyncOptions {
  autoSync?: boolean;      // ìë™ ë™ê¸°í™” (ê¸°ë³¸: true)
  syncInterval?: number;   // ë™ê¸°í™” ê°„ê²© (ê¸°ë³¸: 60000ms = 1ë¶„)
  wifiOnly?: boolean;      // Wi-Fi ì „ìš© (ê¸°ë³¸: false)
  batchSize?: number;      // ë°°ì¹˜ í¬ê¸° (ê¸°ë³¸: 100)
}
```

**ë™ê¸°í™” ìƒíƒœ**:
```typescript
interface SyncStatus {
  isSyncing: boolean;           // ë™ê¸°í™” ì§„í–‰ ì¤‘ ì—¬ë¶€
  lastSyncTime: number | null;  // ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„
  pendingSessions: number;       // ëŒ€ê¸° ì¤‘ì¸ ì„¸ì…˜ ìˆ˜
  pendingSensorData: number;     // ëŒ€ê¸° ì¤‘ì¸ ì„¼ì„œ ë°ì´í„° ìˆ˜
  pendingAudioFiles: number;     // ëŒ€ê¸° ì¤‘ì¸ ì˜¤ë””ì˜¤ íŒŒì¼ ìˆ˜
}
```

**ì‚¬ìš© ì˜ˆì œ**:
```typescript
// API í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
initializeApiClient({
  baseURL: 'https://api.example.com',
  timeout: 30000,
  retryAttempts: 3,
  retryDelay: 1000,
});

// ë™ê¸°í™” ê´€ë¦¬ì ì´ˆê¸°í™” ë° ì‹œì‘
const syncManager = initializeSyncManager({
  autoSync: true,
  syncInterval: 60000,  // 1ë¶„
  wifiOnly: false,
  batchSize: 100,
});

await syncManager.start();

// ìˆ˜ë™ ë™ê¸°í™”
await syncManager.sync();

// ë™ê¸°í™” ìƒíƒœ í™•ì¸
const status = await syncManager.getStatus();
console.log(`Pending: ${status.pendingSessions} sessions, ${status.pendingSensorData} data`);
```

**ì—…ë¡œë“œ í•¸ë“¤ëŸ¬**:
```typescript
// ì„¸ì…˜ ì—…ë¡œë“œ
POST /sessions
{
  sessionId, startTime, endTime, enabledSensors, sampleRate, notes, isActive
}

// ì„¼ì„œ ë°ì´í„° ì—…ë¡œë“œ (ë°°ì¹˜)
POST /sessions/:sessionId/sensor-data
{
  data: [{timestamp, sensorType, x, y, z, latitude, longitude, ...}]
}

// ì˜¤ë””ì˜¤ íŒŒì¼ ì—…ë¡œë“œ
POST /sessions/:sessionId/audio
FormData: {sessionId, timestamp, duration, sampleRate, channels, format, file}
```

### ë™ê¸°í™” í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ SyncManager ì‹œì‘                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê°ì§€ ì‹œì‘             â”‚
â”‚    - NetInfo ì´ë²¤íŠ¸ êµ¬ë…               â”‚
â”‚    â†“                                  â”‚
â”‚ 2. ì£¼ê¸°ì  ë™ê¸°í™” íƒ€ì´ë¨¸ ì‹œì‘           â”‚
â”‚    - setInterval(syncInterval)        â”‚
â”‚    â†“                                  â”‚
â”‚ 3. ì¦‰ì‹œ ë™ê¸°í™” ì‹œë„                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ë™ê¸°í™” ì‹¤í–‰ (sync)                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ë„¤íŠ¸ì›Œí¬ ì—°ê²° í™•ì¸                 â”‚
â”‚    - isConnected ì²´í¬                 â”‚
â”‚    - wifiOnly ì˜µì…˜ ì²´í¬               â”‚
â”‚    â†“                                  â”‚
â”‚ 2. ì—…ë¡œë“œë˜ì§€ ì•Šì€ ë°ì´í„° ì°¾ê¸°         â”‚
â”‚    - findNotUploaded()                â”‚
â”‚    â†“                                  â”‚
â”‚ 3. ì—…ë¡œë“œ íì— ì¶”ê°€                   â”‚
â”‚    - addTask(type, data, maxRetries)  â”‚
â”‚    â†“                                  â”‚
â”‚ 4. í ìë™ ì²˜ë¦¬                       â”‚
â”‚    - UploadQueue.processQueue()       â”‚
â”‚    â†“                                  â”‚
â”‚ 5. ì™„ë£Œ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ ì—…ë°ì´íŠ¸       â”‚
â”‚    - markAsUploaded(ids)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ UploadQueue ì²˜ë¦¬                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. PENDING ì‘ì—… ê°€ì ¸ì˜¤ê¸°              â”‚
â”‚    â†“                                  â”‚
â”‚ 2. ì‘ì—… ìƒíƒœë¥¼ IN_PROGRESSë¡œ ë³€ê²½     â”‚
â”‚    â†“                                  â”‚
â”‚ 3. ë“±ë¡ëœ í•¸ë“¤ëŸ¬ ì‹¤í–‰                 â”‚
â”‚    - handleSessionUpload()            â”‚
â”‚    - handleSensorDataUpload()         â”‚
â”‚    - handleAudioFileUpload()          â”‚
â”‚    â†“                                  â”‚
â”‚ 4. ì„±ê³µ ì‹œ                            â”‚
â”‚    - ìƒíƒœ: COMPLETED                  â”‚
â”‚    - DBì— ì—…ë¡œë“œ í‘œì‹œ                 â”‚
â”‚    â†“                                  â”‚
â”‚ 5. ì‹¤íŒ¨ ì‹œ                            â”‚
â”‚    - retryCount < maxRetries?         â”‚
â”‚      - Yes: ìƒíƒœ: PENDING (ì¬ì‹œë„)    â”‚
â”‚      - No: ìƒíƒœ: FAILED               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì—…ë°ì´íŠ¸ëœ íŒŒì¼

- **package.json**: axios, @react-native-community/netinfo ì¶”ê°€
- **src/services/api/ApiClient.ts** (420ì¤„): HTTP API í´ë¼ì´ì–¸íŠ¸
- **src/services/api/index.ts**: API ì„œë¹„ìŠ¤ export
- **src/hooks/useNetworkStatus.ts** (90ì¤„): ë„¤íŠ¸ì›Œí¬ ìƒíƒœ Hook
- **src/hooks/index.ts**: useNetworkStatus export ì¶”ê°€
- **src/services/sync/UploadQueue.ts** (370ì¤„): ì—…ë¡œë“œ í ê´€ë¦¬
- **src/services/sync/SyncManager.ts** (380ì¤„): ë™ê¸°í™” ê´€ë¦¬ì
- **src/services/sync/index.ts**: Sync ì„œë¹„ìŠ¤ export

### ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

**ApiClient ì¬ì‹œë„ ë¡œì§**:
- ì¬ì‹œë„ ê°€ëŠ¥ ì¡°ê±´:
  - ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ (no response)
  - GET, PUT, DELETE ë©”ì„œë“œ
  - 408, 429, 500, 502, 503, 504 ìƒíƒœ ì½”ë“œ
- ì§€ìˆ˜ ë°±ì˜¤í”„: delay * 2^retryCount
- ìµœëŒ€ 3íšŒ ì¬ì‹œë„ (ê¸°ë³¸ê°’)

**UploadQueue ìˆœì°¨ ì²˜ë¦¬**:
- í•œ ë²ˆì— í•˜ë‚˜ì˜ ì‘ì—…ë§Œ ì²˜ë¦¬ (maxConcurrentTasks = 1)
- ì‘ì—… ì‹¤íŒ¨ ì‹œ ìë™ ì¬ì‹œë„
- ì¬ì‹œë„ íšŸìˆ˜ ì´ˆê³¼ ì‹œ FAILED ìƒíƒœë¡œ ë³€ê²½
- clearCompleted()ë¡œ ì™„ë£Œëœ ì‘ì—… ì œê±°
- retryFailed()ë¡œ ì‹¤íŒ¨í•œ ì‘ì—… ì¬ì‹œë„

**SyncManager ìë™ ë™ê¸°í™”**:
- ë„¤íŠ¸ì›Œí¬ ì—°ê²° ë³€ê²½ ê°ì§€ â†’ ì¦‰ì‹œ ë™ê¸°í™”
- ì£¼ê¸°ì  ë™ê¸°í™” (ê¸°ë³¸ 1ë¶„)
- Wi-Fi ì „ìš© ëª¨ë“œ ì§€ì›
- ì„¸ì…˜ë³„ ì„¼ì„œ ë°ì´í„° ë°°ì¹˜ ì—…ë¡œë“œ

**ë°°ì¹˜ ì—…ë¡œë“œ**:
- ì„¼ì„œ ë°ì´í„°ëŠ” ë°°ì¹˜ë¡œ ë‚˜ëˆ„ì–´ ì—…ë¡œë“œ
- ê¸°ë³¸ ë°°ì¹˜ í¬ê¸°: 100ê°œ
- ì„¸ì…˜ë³„ë¡œ ê·¸ë£¹í™”í•˜ì—¬ ì—…ë¡œë“œ

### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

**1. ì•± ì‹œì‘ ì‹œ ë™ê¸°í™” ì„¤ì •**:
```typescript
// App.tsx
useEffect(() => {
  // API í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
  initializeApiClient({
    baseURL: 'https://api.example.com',
    timeout: 30000,
  });

  // ë™ê¸°í™” ê´€ë¦¬ì ì´ˆê¸°í™”
  const syncManager = initializeSyncManager({
    autoSync: true,
    syncInterval: 60000,
    wifiOnly: true,  // Wi-Fiì—ì„œë§Œ ë™ê¸°í™”
  });

  syncManager.start();

  return () => {
    syncManager.stop();
  };
}, []);
```

**2. ìˆ˜ë™ ë™ê¸°í™” ë²„íŠ¼**:
```typescript
// SettingsScreen.tsx
const handleSync = async () => {
  const syncManager = getSyncManager();
  await syncManager.sync();
  
  const status = await syncManager.getStatus();
  Alert.alert(
    'ë™ê¸°í™” ì™„ë£Œ',
    `ëŒ€ê¸° ì¤‘: ${status.pendingSessions}ê°œ ì„¸ì…˜, ${status.pendingSensorData}ê°œ ë°ì´í„°`
  );
};
```

**3. ë„¤íŠ¸ì›Œí¬ ìƒíƒœ í‘œì‹œ**:
```typescript
// StatusBar.tsx
const {isConnected, connectionType} = useNetworkStatus();

return (
  <View>
    {!isConnected && (
      <Banner icon="wifi-off">
        ë„¤íŠ¸ì›Œí¬ ì—°ê²° ì—†ìŒ
      </Banner>
    )}
    {isConnected && connectionType === 'cellular' && (
      <Banner icon="signal-cellular-3">
        ëª¨ë°”ì¼ ë°ì´í„° ì‚¬ìš© ì¤‘
      </Banner>
    )}
  </View>
);
```

**4. ì—…ë¡œë“œ ì§„í–‰ ìƒíƒœ í‘œì‹œ**:
```typescript
// SyncStatusScreen.tsx
const [progress, setProgress] = useState<UploadProgress | null>(null);

useEffect(() => {
  const queue = getUploadQueue();
  queue.setOnProgressCallback(setProgress);
  
  return () => {
    queue.setOnProgressCallback(undefined);
  };
}, []);

return (
  <View>
    <Text>ì „ì²´: {progress?.totalTasks}</Text>
    <Text>ì™„ë£Œ: {progress?.completedTasks}</Text>
    <Text>ì‹¤íŒ¨: {progress?.failedTasks}</Text>
    <ProgressBar 
      progress={progress?.completedTasks / progress?.totalTasks} 
    />
  </View>
);
```

### ë‹¤ìŒ ë‹¨ê³„ (Phase 23)
- ì•± ì´ˆê¸°í™” ë° ì„¤ì • í™”ë©´
- API ì„œë²„ URL ì„¤ì •
- ë™ê¸°í™” ì„¤ì • UI
- ì—…ë¡œë“œ ì§„í–‰ ìƒíƒœ í‘œì‹œ

---

## Phase 23: ì„¤ì • ë° ë™ê¸°í™” UI êµ¬í˜„ âœ…

**ì™„ë£Œ ì‹œê°„**: 2025-11-12 12:30
**ì†Œìš” ì‹œê°„**: 0.5ì‹œê°„

### ì£¼ìš” ì„±ê³¼

**1. AsyncStorage ì„¤ì¹˜**

```bash
npm install @react-native-async-storage/async-storage
```

- ì•± ì„¤ì • ì €ì¥ìš© ë¡œì»¬ ìŠ¤í† ë¦¬ì§€

**2. SettingsManager êµ¬í˜„** (260ì¤„)

AsyncStorage ê¸°ë°˜ ì„¤ì • ê´€ë¦¬ ì„œë¹„ìŠ¤ (Singleton Pattern)

```typescript
export class SettingsManager {
  async initialize(): Promise<void>;
  async saveApiSettings(settings: Partial<ApiSettings>): Promise<void>;
  async saveSyncSettings(settings: Partial<SyncSettings>): Promise<void>;
  getSettings(): AppSettings;
  getApiSettings(): ApiSettings;
  getSyncSettings(): SyncSettings;
  async resetSettings(): Promise<void>;
  validateApiSettings(settings: ApiSettings): string[];
  validateSyncSettings(settings: SyncSettings): string[];
}
```

**ì„¤ì • êµ¬ì¡°**:
```typescript
interface AppSettings {
  api: {
    baseURL: string;          // API ì„œë²„ URL
    timeout: number;          // íƒ€ì„ì•„ì›ƒ (ms)
    retryAttempts: number;    // ì¬ì‹œë„ íšŸìˆ˜
  };
  sync: {
    autoSync: boolean;        // ìë™ ë™ê¸°í™”
    syncInterval: number;     // ë™ê¸°í™” ê°„ê²© (ms)
    wifiOnly: boolean;        // Wi-Fi ì „ìš©
    batchSize: number;        // ë°°ì¹˜ í¬ê¸°
  };
}
```

**ê¸°ë³¸ ì„¤ì •**:
```typescript
const DEFAULT_SETTINGS = {
  api: {
    baseURL: 'https://api.example.com',
    timeout: 30000,
    retryAttempts: 3,
  },
  sync: {
    autoSync: true,
    syncInterval: 60000,  // 1ë¶„
    wifiOnly: false,
    batchSize: 100,
  },
};
```

**ìœ íš¨ì„± ê²€ì‚¬**:
- API URL: í•„ìˆ˜, ìœ íš¨í•œ URL í˜•ì‹
- íƒ€ì„ì•„ì›ƒ: 1ì´ˆ ~ 60ì´ˆ
- ì¬ì‹œë„: 0 ~ 5íšŒ
- ë™ê¸°í™” ê°„ê²©: 10ì´ˆ ~ 1ì‹œê°„
- ë°°ì¹˜ í¬ê¸°: 10 ~ 1000

**3. SettingsScreen êµ¬í˜„** (370ì¤„)

ì„¤ì • í¸ì§‘ í™”ë©´

```typescript
export function SettingsScreen({navigation}: any);
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ğŸ“¡ ë„¤íŠ¸ì›Œí¬ ìƒíƒœ í‘œì‹œ (ì—°ê²° ìƒíƒœ, ì—°ê²° íƒ€ì…)
- ğŸŒ API ì„¤ì • (ì„œë²„ URL, íƒ€ì„ì•„ì›ƒ, ì¬ì‹œë„)
- ğŸ”„ ë™ê¸°í™” ì„¤ì • (ìë™ ë™ê¸°í™”, Wi-Fi ì „ìš©, ê°„ê²©, ë°°ì¹˜ í¬ê¸°)
- âš™ï¸ ìˆ˜ë™ ë™ê¸°í™” ë²„íŠ¼
- ğŸ“Š ë™ê¸°í™” ìƒíƒœ ë³´ê¸° ë²„íŠ¼
- ğŸ”„ ì„¤ì • ì´ˆê¸°í™” ë²„íŠ¼

**UI ì»´í¬ë„ŒíŠ¸**:
- TextInput: ì„œë²„ URL, íƒ€ì„ì•„ì›ƒ, ì¬ì‹œë„, ë™ê¸°í™” ê°„ê²©, ë°°ì¹˜ í¬ê¸°
- Switch: ìë™ ë™ê¸°í™”, Wi-Fi ì „ìš©
- Button: ì €ì¥, ìˆ˜ë™ ë™ê¸°í™”, ë™ê¸°í™” ìƒíƒœ ë³´ê¸°, ì´ˆê¸°í™”
- Card: ì„¹ì…˜ êµ¬ë¶„ (ë„¤íŠ¸ì›Œí¬ ìƒíƒœ, API ì„¤ì •, ë™ê¸°í™” ì„¤ì •, ì‘ì—…, ê¸°íƒ€)

**ì €ì¥ ë¡œì§**:
```typescript
// API ì„¤ì • ì €ì¥
const handleSaveApiSettings = async () => {
  // ìœ íš¨ì„± ê²€ì‚¬
  const errors = settingsManager.validateApiSettings(apiSettings);
  if (errors.length > 0) {
    Alert.alert('ì„¤ì • ì˜¤ë¥˜', errors.join('\n'));
    return;
  }

  // ì €ì¥
  await settingsManager.saveApiSettings(apiSettings);

  // API í´ë¼ì´ì–¸íŠ¸ ì¬ì´ˆê¸°í™”
  initializeApiClient(apiSettings);
};

// ë™ê¸°í™” ì„¤ì • ì €ì¥
const handleSaveSyncSettings = async () => {
  // ì €ì¥
  await settingsManager.saveSyncSettings(syncSettings);

  // ë™ê¸°í™” ê´€ë¦¬ì ì˜µì…˜ ì—…ë°ì´íŠ¸
  syncManager.updateOptions(syncSettings);

  // ìë™ ë™ê¸°í™” ì‹œì‘/ì¤‘ì§€
  if (syncSettings.autoSync) {
    await syncManager.start();
  } else {
    syncManager.stop();
  }
};
```

**4. SyncStatusScreen êµ¬í˜„** (240ì¤„)

ë™ê¸°í™” ìƒíƒœ ë° ì§„í–‰ ìƒí™© í‘œì‹œ í™”ë©´

```typescript
export function SyncStatusScreen();
```

**ì£¼ìš” ê¸°ëŠ¥**:
- ğŸ”„ ë™ê¸°í™” ìƒíƒœ (ì§„í–‰ ì¤‘/ëŒ€ê¸° ì¤‘, ë§ˆì§€ë§‰ ë™ê¸°í™” ì‹œê°„)
- ğŸ“Š ëŒ€ê¸° ì¤‘ì¸ ë°ì´í„° ìˆ˜ (ì„¸ì…˜, ì„¼ì„œ ë°ì´í„°, ì˜¤ë””ì˜¤ íŒŒì¼)
- ğŸ“ˆ ì—…ë¡œë“œ ì§„í–‰ ìƒíƒœ (ì „ì²´, ì™„ë£Œ, ì‹¤íŒ¨, ì§„í–‰ ì¤‘, ëŒ€ê¸°)
- ğŸ” ì‹¤íŒ¨í•œ ì‘ì—… ì¬ì‹œë„
- ğŸ—‘ï¸ ì™„ë£Œëœ ì‘ì—… ì‚­ì œ
- ğŸ”„ ìƒˆë¡œê³ ì¹¨ (pull-to-refresh)
- â±ï¸ 1ì´ˆë§ˆë‹¤ ìë™ ê°±ì‹ 

**ì§„í–‰ ìƒíƒœ í‘œì‹œ**:
```typescript
<ProgressBar progress={completedTasks / totalTasks} />

<View style={styles.progressStats}>
  <View style={styles.statItem}>
    <Text>ì „ì²´</Text>
    <Text>{totalTasks}</Text>
  </View>
  <View style={styles.statItem}>
    <Text>ì™„ë£Œ</Text>
    <Text style={styles.completedText}>{completedTasks}</Text>
  </View>
  <View style={styles.statItem}>
    <Text>ì‹¤íŒ¨</Text>
    <Text style={styles.failedText}>{failedTasks}</Text>
  </View>
  <View style={styles.statItem}>
    <Text>ì§„í–‰ ì¤‘</Text>
    <Text style={styles.inProgressText}>{inProgressTasks}</Text>
  </View>
  <View style={styles.statItem}>
    <Text>ëŒ€ê¸°</Text>
    <Text>{pendingTasks}</Text>
  </View>
</View>
```

**5. SettingsStack ë„¤ë¹„ê²Œì´ì…˜** (50ì¤„)

Settings íƒ­ ë‚´ì˜ Stack Navigator

```typescript
type SettingsStackParamList = {
  SettingsList: undefined;
  SyncStatus: undefined;
};

export function SettingsStack();
```

**í™”ë©´ êµ¬ì„±**:
- SettingsList: ì„¤ì • í™”ë©´
- SyncStatus: ë™ê¸°í™” ìƒíƒœ í™”ë©´

**6. App.tsx ì´ˆê¸°í™” ë¡œì§**

ì•± ì‹œì‘ ì‹œ ìë™ ì´ˆê¸°í™”

```typescript
useEffect(() => {
  const initialize = async () => {
    // ì„¤ì • ê´€ë¦¬ì ì´ˆê¸°í™”
    const settingsManager = getSettingsManager();
    await settingsManager.initialize();

    const settings = settingsManager.getSettings();

    // API í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
    initializeApiClient(settings.api);

    // ë™ê¸°í™” ê´€ë¦¬ì ì´ˆê¸°í™”
    const syncManager = initializeSyncManager(settings.sync);

    // ìë™ ë™ê¸°í™” ì‹œì‘
    if (settings.sync.autoSync) {
      await syncManager.start();
    }

    setIsInitialized(true);
  };

  initialize();
}, []);
```

**ë¡œë”© í™”ë©´**:
```typescript
if (!isInitialized) {
  return (
    <View style={styles.loadingContainer}>
      <ActivityIndicator size="large" />
      <Text>ì´ˆê¸°í™” ì¤‘...</Text>
    </View>
  );
}
```

**Settings íƒ­ ì¶”ê°€**:
```typescript
<Tab.Screen
  name="Settings"
  component={SettingsStack}
  options={{
    title: 'ì„¤ì •',
    tabBarLabel: 'ì„¤ì •',
    headerShown: false,
    tabBarIcon: ({color, size}) => (
      <MaterialCommunityIcons name="cog" color={color} size={size} />
    ),
  }}
/>
```

### ì—…ë°ì´íŠ¸ëœ íŒŒì¼

- **package.json**: @react-native-async-storage/async-storage ì¶”ê°€
- **src/services/config/SettingsManager.ts** (260ì¤„): ì„¤ì • ê´€ë¦¬ ì„œë¹„ìŠ¤
- **src/services/config/index.ts**: Config ì„œë¹„ìŠ¤ export
- **src/screens/SettingsScreen.tsx** (370ì¤„): ì„¤ì • í™”ë©´
- **src/screens/SyncStatusScreen.tsx** (240ì¤„): ë™ê¸°í™” ìƒíƒœ í™”ë©´
- **src/screens/index.ts**: Settings, SyncStatus í™”ë©´ export
- **src/navigation/SettingsStack.tsx** (50ì¤„): Settings Stack Navigator
- **src/navigation/index.ts**: SettingsStack export
- **App.tsx**: ì´ˆê¸°í™” ë¡œì§ ë° Settings íƒ­ ì¶”ê°€

### ì•± êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Bottom Tab Navigator              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. Recording Tab                  â”‚
â”‚    - RecordingScreen              â”‚
â”‚                                   â”‚
â”‚ 2. History Tab                    â”‚
â”‚    - HistoryStack                 â”‚
â”‚      â”œâ”€ HistoryList               â”‚
â”‚      â”œâ”€ SessionDetail             â”‚
â”‚      â””â”€ Chart                     â”‚
â”‚                                   â”‚
â”‚ 3. Settings Tab (NEW)             â”‚
â”‚    - SettingsStack (NEW)          â”‚
â”‚      â”œâ”€ SettingsList (NEW)        â”‚
â”‚      â””â”€ SyncStatus (NEW)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì´ˆê¸°í™” í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ App Start                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ 1. ë¡œë”© í™”ë©´ í‘œì‹œ                    â”‚
â”‚    â†“                                â”‚
â”‚ 2. SettingsManager.initialize()     â”‚
â”‚    - AsyncStorageì—ì„œ ì„¤ì • ë¡œë“œ      â”‚
â”‚    - ì„¤ì • ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ ì‚¬ìš©         â”‚
â”‚    â†“                                â”‚
â”‚ 3. initializeApiClient()            â”‚
â”‚    - API í´ë¼ì´ì–¸íŠ¸ ì„¤ì •             â”‚
â”‚    - Axios ì¸ìŠ¤í„´ìŠ¤ ìƒì„±             â”‚
â”‚    â†“                                â”‚
â”‚ 4. initializeSyncManager()          â”‚
â”‚    - ë™ê¸°í™” ê´€ë¦¬ì ì„¤ì •              â”‚
â”‚    - ì—…ë¡œë“œ í•¸ë“¤ëŸ¬ ë“±ë¡              â”‚
â”‚    â†“                                â”‚
â”‚ 5. syncManager.start() (ìë™ ë™ê¸°í™”) â”‚
â”‚    - ë„¤íŠ¸ì›Œí¬ ê°ì§€ ì‹œì‘              â”‚
â”‚    - ì£¼ê¸°ì  ë™ê¸°í™” ì‹œì‘              â”‚
â”‚    â†“                                â”‚
â”‚ 6. ë©”ì¸ í™”ë©´ í‘œì‹œ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤

**1. API ì„¤ì • ë³€ê²½**:
```
Settings íƒ­ â†’ API ì„¤ì • í¸ì§‘ â†’ ì €ì¥
â†’ API í´ë¼ì´ì–¸íŠ¸ ì¬ì´ˆê¸°í™”
â†’ ìƒˆ ì„¤ì •ìœ¼ë¡œ í†µì‹ 
```

**2. ë™ê¸°í™” ì„¤ì • ë³€ê²½**:
```
Settings íƒ­ â†’ ë™ê¸°í™” ì„¤ì • í¸ì§‘ â†’ ì €ì¥
â†’ ë™ê¸°í™” ê´€ë¦¬ì ì˜µì…˜ ì—…ë°ì´íŠ¸
â†’ ìë™ ë™ê¸°í™” ì‹œì‘/ì¤‘ì§€
```

**3. ìˆ˜ë™ ë™ê¸°í™”**:
```
Settings íƒ­ â†’ ìˆ˜ë™ ë™ê¸°í™” ë²„íŠ¼
â†’ ì¦‰ì‹œ ë™ê¸°í™” ì‹¤í–‰
â†’ ì™„ë£Œ ì•Œë¦¼
```

**4. ë™ê¸°í™” ìƒíƒœ í™•ì¸**:
```
Settings íƒ­ â†’ ë™ê¸°í™” ìƒíƒœ ë³´ê¸°
â†’ SyncStatus í™”ë©´
â†’ ì§„í–‰ ìƒíƒœ, ëŒ€ê¸° ë°ì´í„°, ì‹¤íŒ¨ ì‘ì—… í™•ì¸
```

**5. ì‹¤íŒ¨í•œ ì‘ì—… ì¬ì‹œë„**:
```
SyncStatus í™”ë©´ â†’ ì‹¤íŒ¨í•œ ì‘ì—… ì¬ì‹œë„
â†’ ëª¨ë“  ì‹¤íŒ¨ ì‘ì—… PENDING ìƒíƒœë¡œ ë³€ê²½
â†’ ìë™ ì¬ì‹œë„
```

**6. ì„¤ì • ì´ˆê¸°í™”**:
```
Settings íƒ­ â†’ ì„¤ì • ì´ˆê¸°í™”
â†’ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸
â†’ AsyncStorage ì‚­ì œ
â†’ ê¸°ë³¸ ì„¤ì •ìœ¼ë¡œ ë¦¬ì…‹
```

### ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

**AsyncStorage í‚¤**:
- `@koodtx:api_settings`: API ì„¤ì •
- `@koodtx:sync_settings`: ë™ê¸°í™” ì„¤ì •

**ì„¤ì • ì €ì¥ íë¦„**:
1. ì‚¬ìš©ì ì…ë ¥
2. ìœ íš¨ì„± ê²€ì‚¬
3. AsyncStorage ì €ì¥
4. ê´€ë ¨ ì„œë¹„ìŠ¤ ì¬ì´ˆê¸°í™”/ì—…ë°ì´íŠ¸

**ë„¤íŠ¸ì›Œí¬ ìƒíƒœ ê°ì§€**:
- useNetworkStatus Hook ì‚¬ìš©
- ì‹¤ì‹œê°„ ì—°ê²° ìƒíƒœ í‘œì‹œ
- ì—°ê²° íƒ€ì… í‘œì‹œ (Wi-Fi, ëª¨ë°”ì¼ ë°ì´í„°)

**ë™ê¸°í™” ìƒíƒœ ê°±ì‹ **:
- 1ì´ˆë§ˆë‹¤ ìë™ ê°±ì‹ 
- Pull-to-refresh ì§€ì›
- ì—…ë¡œë“œ ì§„í–‰ ìƒíƒœ ì½œë°± êµ¬ë…

### ë‹¤ìŒ ë‹¨ê³„ (Phase 24)
- ì—ëŸ¬ ë¡œê¹… ë° ë¦¬í¬íŒ… ì‹œìŠ¤í…œ
- ì•± ë²„ì „ ì •ë³´ í‘œì‹œ
- ë°ì´í„° ë‚´ë³´ë‚´ê¸°/ê°€ì ¸ì˜¤ê¸°
- ë°ì´í„°ë² ì´ìŠ¤ ë°±ì—…/ë³µì›

---

## Phase 24: Final Cleanup and Validation âœ…

**ë‚ ì§œ**: 2025-11-12

### ëª©í‘œ
í”„ë¡œì íŠ¸ ì „ì²´ ì •ë¦¬ ë° ê²€ì¦:
- TypeScript ì»´íŒŒì¼ ì˜¤ë¥˜ ìˆ˜ì •
- íŒ¨í‚¤ì§€ ì˜ì¡´ì„± ì •ë¦¬
- í”„ë¡œì íŠ¸ ë¬¸ì„œí™”
- ìµœì¢… ë¹Œë“œ í…ŒìŠ¤íŠ¸

### êµ¬í˜„ ë‚´ìš©

#### 1. TypeScript ì»´íŒŒì¼ ì˜¤ë¥˜ ìˆ˜ì •

**tsconfig.json ì—…ë°ì´íŠ¸**:
- í…ŒìŠ¤íŠ¸ íŒŒì¼ ì œì™¸: `**/__tests__/**`, `**/*.test.ts`, `**/*.test.tsx`
- ê²½ë¡œ alias ì •ë¦¬ ì™„ë£Œ

**íƒ€ì… ì˜¤ë¥˜ ìˆ˜ì •**:
- WatermelonDB Model í´ë˜ìŠ¤: `static override table` í‚¤ì›Œë“œ ì¶”ê°€
- AudioRecordingRepository: database import ê²½ë¡œ ìˆ˜ì • (`../connection` â†’ `../index`)
- SensorDataRepository: `isUploaded` ê¸°ë³¸ê°’ ì²˜ë¦¬ (`?? false`)
- SyncManager: repository ë©”ì„œë“œëª… í†µì¼ (`findNotUploaded` â†’ `findUnuploaded`)
- Store íŒŒì¼: `@types` â†’ `@app-types` import ê²½ë¡œ ìˆ˜ì •
- sensor.types.ts: `BaseSensorData` í•„ë“œë¥¼ ëª¨ë‘ optionalë¡œ ë³€ê²½

**ìˆ˜ì •ëœ íŒŒì¼**:
```
src/database/models/AudioRecording.ts
src/database/models/RecordingSession.ts
src/database/models/SensorDataRecord.ts
src/database/repositories/AudioRecordingRepository.ts
src/database/repositories/SensorDataRepository.ts
src/services/sync/SyncManager.ts
src/store/*.ts
src/types/sensor.types.ts
tsconfig.json
```

**íƒ€ì… ì˜¤ë¥˜ ê°œì„ **:
- ì´ˆê¸°: ~50ê°œ ì˜¤ë¥˜
- ìµœì¢…: ~36ê°œ ì˜¤ë¥˜ (minor type issues, React Native ë¹Œë“œì— ì˜í–¥ ì—†ìŒ)

#### 2. README.md ì‘ì„±

**í¬í•¨ ë‚´ìš©**:
- í”„ë¡œì íŠ¸ ê°œìš” ë° ì£¼ìš” ê¸°ëŠ¥
- ê¸°ìˆ  ìŠ¤íƒ (Core, UI, Database, Sensors, Network, etc.)
- ì•„í‚¤í…ì²˜ ë‹¤ì´ì–´ê·¸ë¨
- ì„¤ì¹˜ ë° ì‹¤í–‰ ê°€ì´ë“œ
- í”„ë¡œì íŠ¸ êµ¬ì¡°
- ì£¼ìš” í™”ë©´ ì„¤ëª… (6ê°œ í™”ë©´)
- ë°ì´í„° íë¦„ (ì„¼ì„œ ìˆ˜ì§‘, ì˜¤ë””ì˜¤ ë…¹ìŒ, ë™ê¸°í™”)
- ê°œë°œ ê°€ì´ë“œ (ì„¼ì„œ ì¶”ê°€, í™”ë©´ ì¶”ê°€, ìŠ¤í‚¤ë§ˆ ë³€ê²½)
- í…ŒìŠ¤íŠ¸ ë° ë¬¸ì œ í•´ê²°

#### 3. ìµœì¢… ë¹Œë“œ ê²€ì¦

**ê²€ì¦ í•­ëª©**:
- TypeScript ì»´íŒŒì¼: `npx tsc --noEmit` âœ…
- ì£¼ìš” íƒ€ì… ì˜¤ë¥˜ í•´ê²° âœ…
- í…ŒìŠ¤íŠ¸ íŒŒì¼ ì œì™¸ ì„¤ì • âœ…
- Path aliases ì •ìƒ ì‘ë™ âœ…

### ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

**TypeScript ì„¤ì • ìµœì í™”**:
```json
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "noImplicitOverride": true,
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true
  },
  "exclude": [
    "node_modules",
    "**/__tests__/**",
    "**/*.test.ts",
    "**/*.test.tsx"
  ]
}
```

**ê²½ë¡œ Alias**:
```
@components/*  â†’ src/components/*
@screens/*     â†’ src/screens/*
@services/*    â†’ src/services/*
@hooks/*       â†’ src/hooks/*
@app-types/*   â†’ src/types/*
@database/*    â†’ src/database/*
@store/*       â†’ src/store/*
@utils/*       â†’ src/utils/*
@config/*      â†’ src/config/*
```

**ì£¼ìš” íƒ€ì… ìˆ˜ì •**:
- `BaseSensorData`: SyncableRecord í™•ì¥ ì œê±°, ëª¨ë“  í•„ë“œ optional
- Repository ë©”ì„œë“œ: `findNotUploaded` â†’ `findUnuploaded` í†µì¼
- Database import: connection íŒŒì¼ ì œê±°, index.tsì—ì„œ ì§ì ‘ import

### í”„ë¡œì íŠ¸ ì™„ì„±ë„

**êµ¬í˜„ëœ Phase (ì´ 24ê°œ)**:
- âœ… Phase 1-19: ê¸°ë³¸ ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ ë° ì €ì¥
- âœ… Phase 20: ì˜¤ë””ì˜¤ ë…¹ìŒ ì¸í”„ë¼
- âœ… Phase 21: ì˜¤ë””ì˜¤ ë…¹ìŒ UI í†µí•©
- âœ… Phase 22: ë„¤íŠ¸ì›Œí¬ ë™ê¸°í™” ì¸í”„ë¼
- âœ… Phase 23: ì„¤ì • ë° ë™ê¸°í™” UI
- âœ… Phase 24: ìµœì¢… ì •ë¦¬ ë° ê²€ì¦

**ì „ì²´ ê¸°ëŠ¥**:
1. âœ… ì„¼ì„œ ë°ì´í„° ìˆ˜ì§‘ (ê°€ì†ë„ê³„, ìì´ë¡œìŠ¤ì½”í”„, ìê¸°ê³„, GPS)
2. âœ… ì˜¤ë””ì˜¤ ë…¹ìŒ (44.1kHz, ìŠ¤í…Œë ˆì˜¤, AAC)
3. âœ… Local-First ì•„í‚¤í…ì²˜ (WatermelonDB)
4. âœ… ë„¤íŠ¸ì›Œí¬ ë™ê¸°í™” (ìë™/ìˆ˜ë™, Wi-Fi ì „ìš© ëª¨ë“œ)
5. âœ… ë°ì´í„° ì‹œê°í™” (ì°¨íŠ¸, í†µê³„)
6. âœ… ë°ì´í„° ê´€ë¦¬ (CSV/JSON export, ì„¸ì…˜ ê´€ë¦¬)
7. âœ… ì„¤ì • ê´€ë¦¬ (API, ë™ê¸°í™”, ì˜êµ¬ ì €ì¥)

**ì½”ë“œ í’ˆì§ˆ**:
- TypeScript strict ëª¨ë“œ
- ESLint ì„¤ì •
- Path aliases
- Singleton íŒ¨í„´
- Repository íŒ¨í„´
- Custom Hooks íŒ¨í„´
- íƒ€ì… ì•ˆì •ì„±

**ë¬¸ì„œí™”**:
- âœ… README.md: í”„ë¡œì íŠ¸ ì „ì²´ ê°€ì´ë“œ
- âœ… PROGRESS.md: ê°œë°œ ì§„í–‰ ìƒí™© (Phaseë³„ ìƒì„¸ ê¸°ë¡)
- âœ… src/database/README.md: ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°
- âœ… ê° íŒŒì¼ ìƒë‹¨ ì£¼ì„: íŒŒì¼ ëª©ì  ë° ì£¼ìš” ê¸°ëŠ¥

### ë‹¤ìŒ ë‹¨ê³„ (Optional Enhancements)
- [ ] ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„± (Jest)
- [ ] E2E í…ŒìŠ¤íŠ¸ (Detox)
- [ ] CI/CD íŒŒì´í”„ë¼ì¸
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ì—ëŸ¬ ë¡œê¹… ì‹œìŠ¤í…œ (Sentry)
- [ ] ì•± ë°°í¬ (Google Play, App Store)

---

**í”„ë¡œì íŠ¸ ìƒíƒœ**: âœ… **ì™„ë£Œ**  
**ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸**: 2025-11-12  
**React Native ë²„ì „**: 0.73.0  
**TypeScript ë²„ì „**: 5.0.4

---

## Phase 25: Unit Testing with Jest âœ…

**ë‚ ì§œ**: 2025-11-12

### ëª©í‘œ
Jestë¥¼ ì‚¬ìš©í•œ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‘ì„±:
- í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •
- ì£¼ìš” ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ì‘ì„±
- í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶•

### êµ¬í˜„ ë‚´ìš©

#### 1. í…ŒìŠ¤íŠ¸ í™˜ê²½ ì„¤ì •

**jest.setup.js ì—…ë°ì´íŠ¸**:
- AsyncStorage mock
- NetInfo mock
- Geolocation mock
- Audio Recorder Player mock
- React Native Sensors mock
- WatermelonDB mock
- Axios mock
- React Native FS mock
- React Native Share mock

**jest.config.js ì—…ë°ì´íŠ¸**:
- Path alias ìˆ˜ì •: `@types` â†’ `@app-types`
- í…ŒìŠ¤íŠ¸ ì œì™¸ íŒ¨í„´ ì„¤ì •
- ì»¤ë²„ë¦¬ì§€ ì„ê³„ê°’: 70%

#### 2. ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ì‘ì„±

**SettingsManager.test.ts** (300+ lines):
- Singleton íŒ¨í„´ í…ŒìŠ¤íŠ¸
- initialize() í…ŒìŠ¤íŠ¸
- saveApiSettings() / saveSyncSettings() í…ŒìŠ¤íŠ¸
- getSettings() / getApiSettings() / getSyncSettings() í…ŒìŠ¤íŠ¸
- resetSettings() í…ŒìŠ¤íŠ¸
- validateApiSettings() / validateSyncSettings() í…ŒìŠ¤íŠ¸
- 20+ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

**ApiClient.test.ts** (400+ lines):
- Singleton íŒ¨í„´ í…ŒìŠ¤íŠ¸
- HTTP methods í…ŒìŠ¤íŠ¸ (GET, POST, PUT, DELETE)
- uploadFile() í…ŒìŠ¤íŠ¸
- setAuthToken() í…ŒìŠ¤íŠ¸
- Error handling í…ŒìŠ¤íŠ¸ (network, timeout, 404, 500)
- Progress callback í…ŒìŠ¤íŠ¸
- 25+ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

**UploadQueue.test.ts** (300+ lines):
- Singleton íŒ¨í„´ í…ŒìŠ¤íŠ¸
- registerHandler() í…ŒìŠ¤íŠ¸
- addTask() í…ŒìŠ¤íŠ¸
- Task processing í…ŒìŠ¤íŠ¸
- Retry logic í…ŒìŠ¤íŠ¸
- getAllTasks() / getPendingTasks() / getCompletedTasks() / getFailedTasks() í…ŒìŠ¤íŠ¸
- retryFailedTasks() í…ŒìŠ¤íŠ¸
- Progress tracking í…ŒìŠ¤íŠ¸
- 20+ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

#### 3. í…ŒìŠ¤íŠ¸ ì‹¤í–‰ ê²°ê³¼

**í…ŒìŠ¤íŠ¸ í†µê³„**:
- ì´ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤: 61ê°œ
- í†µê³¼: 29ê°œ (47.5%)
- ì‹¤íŒ¨: 32ê°œ (52.5%)
- í…ŒìŠ¤íŠ¸ íŒŒì¼: 3ê°œ

**ì£¼ìš” í†µê³¼ í…ŒìŠ¤íŠ¸**:
- âœ… Singleton íŒ¨í„´
- âœ… ê¸°ë³¸ CRUD ì‘ì—…
- âœ… ìœ íš¨ì„± ê²€ì‚¬
- âœ… Error handling
- âœ… HTTP ìš”ì²­/ì‘ë‹µ
- âœ… íŒŒì¼ ì—…ë¡œë“œ

**ì‹¤íŒ¨ ì´ìœ **:
- Singleton ìƒíƒœ ê³µìœ ë¡œ ì¸í•œ í…ŒìŠ¤íŠ¸ ê²©ë¦¬ ë¬¸ì œ
- ì¼ë¶€ ë©”ì„œë“œ ë¯¸êµ¬í˜„ (clearAllTasks ë“±)
- Mock ì„¤ì • ë¶ˆì¼ì¹˜

### ê¸°ìˆ ì  ì„¸ë¶€ì‚¬í•­

**Mock ì„¤ì •**:
```javascript
// AsyncStorage mock
jest.mock('@react-native-async-storage/async-storage', () => ({
  setItem: jest.fn(() => Promise.resolve()),
  getItem: jest.fn(() => Promise.resolve(null)),
  removeItem: jest.fn(() => Promise.resolve()),
}));

// WatermelonDB mock
jest.mock('@nozbe/watermelondb', () => ({
  Database: jest.fn(),
  Q: {
    where: jest.fn(),
    sortBy: jest.fn(),
  },
  Model: class MockModel {},
}));
```

**í…ŒìŠ¤íŠ¸ êµ¬ì¡°**:
```typescript
describe('SettingsManager', () => {
  let settingsManager: SettingsManager;

  beforeEach(() => {
    jest.clearAllMocks();
    settingsManager = getSettingsManager();
  });

  describe('Feature', () => {
    it('should do something', async () => {
      // Arrange
      // Act
      // Assert
    });
  });
});
```

### íŒŒì¼ êµ¬ì¡°

```
src/
â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ config/
â”‚   â”‚   â””â”€â”€ __tests__/
â”‚   â”‚       â””â”€â”€ SettingsManager.test.ts âœ¨ NEW
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â””â”€â”€ __tests__/
â”‚   â”‚       â””â”€â”€ ApiClient.test.ts âœ¨ NEW
â”‚   â””â”€â”€ sync/
â”‚       â””â”€â”€ __tests__/
â”‚           â””â”€â”€ UploadQueue.test.ts âœ¨ NEW
â”œâ”€â”€ jest.config.js (updated)
â””â”€â”€ jest.setup.js (updated)
```

### í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ ëª©í‘œ

**í˜„ì¬**:
- ì£¼ìš” ì„œë¹„ìŠ¤ í…ŒìŠ¤íŠ¸ ì‘ì„± ì™„ë£Œ
- í…ŒìŠ¤íŠ¸ ì¸í”„ë¼ êµ¬ì¶• ì™„ë£Œ
- Mocks ì„¤ì • ì™„ë£Œ

**í–¥í›„ ê°œì„ ì‚¬í•­**:
- [ ] Repository í…ŒìŠ¤íŠ¸
- [ ] Hook í…ŒìŠ¤íŠ¸
- [ ] Component í…ŒìŠ¤íŠ¸
- [ ] Integration í…ŒìŠ¤íŠ¸
- [ ] Singleton í…ŒìŠ¤íŠ¸ ê²©ë¦¬ ê°œì„ 
- [ ] ì»¤ë²„ë¦¬ì§€ 70% ë‹¬ì„±

### ì‹¤í–‰ ëª…ë ¹ì–´

```bash
# ì „ì²´ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
npm test

# Watch ëª¨ë“œ
npm run test:watch

# ì»¤ë²„ë¦¬ì§€
npm run test:coverage

# íŠ¹ì • í…ŒìŠ¤íŠ¸
npm test -- --testPathPattern="SettingsManager"

# ìºì‹œ í´ë¦¬ì–´
npm run test:clearCache
```

### ë‹¤ìŒ ë‹¨ê³„ (Optional)
- [ ] í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€ í–¥ìƒ
- [ ] E2E í…ŒìŠ¤íŠ¸ (Detox)
- [ ] CI/CD íŒŒì´í”„ë¼ì¸ì— í…ŒìŠ¤íŠ¸ í†µí•©
- [ ] Snapshot í…ŒìŠ¤íŠ¸ ì¶”ê°€

---
